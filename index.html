<html>
 <head>
  <meta charset="UTF-8">
  <title>Перехожий</title>
 </head>
 <body background="slide1ch.jpg">
 <p><img src="slide1.jpg" alt="_______________________________________________________________________"></p>
   <h1 id="time" style="hero" align="center"><div id="Tit"></div></h1>
   <h4 id="time" align="center"><div id="Kur"></div></h4>
   <p align="center"><input type="image" src="s6.jpg" value="Начать игру" name="hello" OnClick="a();">   <kek id="kek"></kek></p>
   <h5 id="time"><div id="Variant1"></div></h5>
   <h5 id="time"><div id="Variant2"></div></h5>
   <h5 id="time"><div id="Variant3"></div></h5>
   <h5 id="time"><div id="Variant4"></div></h5>
   <h5 id="time"><div id="Variant5"></div></h5>
   <ek id="ek"></ek>
   <div id="div">
   <hr>
   <ol id="ol">
   </ol>
   <lol id="lol">
   </lol>
   <p id="time"><div id="KKK"></div></p>
   <p id="time"><div id="II"></div></p>
   <p id="time"><div id="ust"></div></p>
   <p id="time"><div id="gol"></div></p>
   <p id="time"><div id="mutant"></div></p>
   <p id="time"><div id="Zavis"></div></p>

 </body>

 <style>

 .alert {
  color: #000000;
  }

 .halert {
  padding: 5px;
  border: 1px solid #696969;
  border-radius: 2px;
  color: #006400;
  background-color: #FFFFFF;
  }

 .lol {
  padding: 10px;
  border: 3px solid #696969;
  border-radius: 15px;
  color: #101010;
  background-color: #dff0d8;
  }
 </style>
</html>

<script>
"use strict"
</script>



<script>

kek.insertAdjacentHTML('afterbegin', '<input type="image" src="s7.jpg" value="Создать персонажа" name="hello" OnClick="Nastroiki();">');


let X = 6;
let A = 6;
let E = 6;
let M = 6;
let S = 5;
let U = 5;

let Raspred = false;
let Perk1 = 0;
let Perk2 = 0;
let Perk3 = 0;
let Perk4 = 0;
let Perk5 = 0;
let Perk6 = 0;
let Perk7 = 0;

let exp = 0;
let lvl2 = 100;
let lvl3 = 200;
let lvl4 = 320;
let lvl5 = 460;
let lvl6 = 600;
let lvl7 = 800;
let lvl8 = 1000;
let lvl9 = 1220;
let lvl10 = 1470;
let lvl11 = 1750;
let lvl12 = 2060;
let lvl13 = 2432;
let lvl14 = 2878;
let lvl15 = 3414;
let lvl = lvl2;
let newlvl = false;
  let Xb = 0;
  let Eb = 0;
  let Ab = 0;
  let Mb = 0;
  let Sb = 0;
  let Ub = 0;
  let Xd = '';
  let Ed = '';
  let Ad = '';
  let Md = '';
  let Sd = '';
  let Ud = '';
  let Ep = 1;
  let Ap = 1;
  let Mp = 1;
  let Sp = 1;
  let Up = 1;
let E3 = 0;
let E6 = 0;
let E8 = 0;
let E10 = 0;
let A3 = 0;
let M3 = 0;
let M6 = 0;
let M8 = 0;
let M10 = 0;
let S3 = 0;
let S6 = 1;
let S8 = 0;
let S10 = 0;
let U3 = 0;
let U6 = 0;
let U8 = 0;
let U10 = 0;
let SPO = '';

let ust = '';
let gol = '';
let mutant = '';
let Zavis = '';
let action = 0;
let podaction = 0;
let metr = 0;
let days = 1;
let day = Math.trunc(days);
let sitostMax = 1000-Perk2*100;
let sitost = 1000;
 let xpMax = 25+5*X-Perk4*2;
 let xp = xpMax;
 let vesMax = 5+5*E;
let level = 0;
let gun = 'Нож';
let odezhda = '';
let VesGun = 3;
let zapas = 1000;
let zapasMax = 1000;
let zarazh = 0;

let pish = 5;
let Antidot = 1;
let CherSlis = 0;
let KrasSlis = 0;
let RoseSlis = 0;
let BelSlis = 0;
let Ulitka = 0;
let Govnyak = 0;
let talon = 0;
let yai = 0;

let Samogon = 0;
let Bomb = 0;
let Boost = 0;
let Ischez = 0;

let books = 0;
let zamyetki_antidot = false;
let faunaGH = false;
let CherZam = false;
let Dopros = false;
let read = false;

let tentacle = false;
let zarazhBad = false;
let contact = false;
let ves = pish+Antidot+VesGun;
let ver = 0;
let change = false;

let vzlom = false;
let kod = 0;
let Mob = 0;
let Jer = 0;
let I_lag = 0;
let Datchik = 0;
let Rang = 0;

let Use1 = '';
let Use2 = '';
let Use3 = '';
let Use4 = '';
let Use5 = '';

let smgn = 0;
let govn = 0;
let govnTime = 0;
let govnZav = 0;
let Kozha = 0;

let samosbor = 0;
let vrema = 3;
let slisesbornik = false;
let regen = false;

let protivnik = '';
let protivnikAttack = 0;
let protivnikxp = 0;
let protivnikAttack2 = 0;
let protivnikxp2 = 0;
let Krit = 0;
let KKK='';
let KritMax = 20;
let Ataka1=0;
let Ataka2=0;
let Dop=0;
let Skr=0;


let gigaquest1 = false;
let gigaquest2 = false;
 let Staruxa = false;
let gigaquest3 = false;
let gigaquest4 = false;
let gigaquest5 = false;

let I1 = '';
let I1z = '';
let I2 = '';
let I2z = '';
let I3 = '';
let I3z = '';
let I4 = '';
let I4z = '';
let I5 = '';
let I5z = '';
let I6 = '';
let I6z = '';
let I7 = '';
let I7z = '';
let I8 = '';
let I8z = '';
let I9 = '';
let I9z = '';
let I10 = '';
let I10z = '';
let I11 = '';
let I11z = '';
let I12 = '';
let I12z = '';
let I13 = '';
let I13z = '';
let III = false;
let Spos = '';

let Tit = 'Перехожий';
let Kur ='Перехожие – вечные странники гигахрущёвки. Они путешествуют от блока к блоку в поисках новых приключений. А сколько получится пройти у вас?';
   document.getElementById("Tit").innerHTML = Tit;;
   document.getElementById("Kur").innerHTML = Kur;;
let game = false;



 let opisanie = '';
function Nastroiki() {
Tit = '';
Kur = '';
X--;
E--;
A--;
M--;
  document.getElementById("Tit").innerHTML = Tit;;
  document.getElementById("Kur").innerHTML = Kur;;
 Raspred = true;
 ek.insertAdjacentHTML('afterbegin', `
Здоровье: &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="button" value="-" name="hello" OnClick="Xminus();"> <input type="button" value="+" name="hello" OnClick="Xplus();"> Определяет максимальное здоровье.<br><br>
Выносливость: &nbsp&nbsp&nbsp<input type="button" value="-" name="hello" OnClick="Eminus();"> <input type="button" value="+" name="hello" OnClick="Eplus();"> Определяет максимальный переносимый вес и сопротивление негативным эффектам.<br><br>
Атака: &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="button" value="-" name="hello" OnClick="Aminus();"> <input type="button" value="+" name="hello" OnClick="Aplus();"> Определяет максимальный урон при физической атаке и физическую силу в некоторых квестах.<br><br>
Моторика: &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="button" value="-" name="hello" OnClick="Mminus();"> <input type="button" value="+" name="hello" OnClick="Mplus();"> Определяет ловкость ваших рук при взломе замков, лечении и использовании огнестрельного оружия.<br><br>
Скрытность: &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="button" value="-" name="hello" OnClick="Sminus();"> <input type="button" value="+" name="hello" OnClick="Splus();"> Определяет вероятность не быть замеченным врагами и шанс скрытной атаки.<br><br>
Убедительность: <input type="button" value="-" name="hello" OnClick="Uminus();"> <input type="button" value="+" name="hello" OnClick="Uplus();">  Определяет расположение к вам других людей.<br><br>
<hr><strong>Особенности:</strong><br><br><input type="button" value="Мародёр" name="hello" OnClick="P1ch();"> <input type="button" value="Здоровый" name="hello" OnClick="P2ch();"> <input type="button" value="Гроза мутантов" name="hello" OnClick="P3ch();"> <input type="button" value="Вероломный" name="hello" OnClick="P4ch();"> <input type="button" value="Затворник" name="hello" OnClick="P5ch();"> <input type="button" value="Осознанный" name="hello" OnClick="P6ch();"> <input type="button" value="Из пробирки" name="hello" OnClick="P7ch();">`);
preupdate();

};

function P1ch() {
 Spos = '|Мародёр|';
 Perk1 = 5;
 Perk2 = 0;
 Perk3 = 0;
 Perk4 = 0;
 Perk5 = 0;
 Perk6 = 0;
 Perk7 = 0;
 opisanie = '<strong>Мародёр:</strong> В своё время вы уже излазили заброшенные блоки вдоль и поперёк, и знаете, какой замок стоит вашего внимания, но таскание тяжестей негативно повлияло на ваше здоровье. Вам не попадаются пустые шкафчики, но ваш максимальный переносимый вес уменьшен.';
 preupdate();
};

function P2ch() {
 Spos = '|Здоровый|';
 Perk1 = 0;
 Perk2 = 5;
 Perk3 = 0;
 Perk4 = 0;
 Perk5 = 0;
 Perk6 = 0;
 Perk7 = 0;
 opisanie = '<strong>Здоровый:</strong> Вы выросли в относительно хороших условиях, и вашей физической силе можно лишь позавидовать! Максимальный урон от физических атак увеличен на 5 пунктов. Однако ваше тело требует больше ресурсов, и для насыщения вам необходимо в два раза больше пищконцентратов.';
 preupdate();
};

function P3ch() {
 Spos = '|Гроза мутантов|';
 Perk1 = 0;
 Perk2 = 0;
 Perk3 = 5;
 Perk4 = 0;
 Perk5 = 0;
 Perk6 = 0;
 Perk7 = 0;
 opisanie = '<strong>Гроза мутантов:</strong> Вы твёрдо уверены, что мутанты должны быть истреблены во славу Партии, что повышает на 5 пунктов ваш урон по всей нечисти Гигахруща, включая борщевиков и культистов. Однако столкновения с ликвидаторами и членами партии серьёзно давят на вашу мораль, урон по ним уменьшен на 5 пунктов.';
 preupdate();
};

function P4ch() {
 Spos = '|Вероломный|';
 Perk1 = 0;
 Perk2 = 0;
 Perk3 = 0;
 Perk4 = S;
 Perk5 = 0;
 Perk6 = 0;
 Perk7 = 0;
 opisanie = '<strong>Вероломный:</strong> Атаки исподтишка всегда давались вам хорошо. Если противник не видит вас, при первом ударе вы наносите ему дополнительный урон, равный вашей скрытности. Однако ваша комплекция не подразумевает крепкого тела – ваше максимальное здоровье уменьшено.';
 preupdate();
};

function P5ch() {
 Spos = '|Затворник|';
 Perk1 = 0;
 Perk2 = 0;
 Perk3 = 0;
 Perk4 = 0;
 Perk5 = 5;
 Perk6 = 0;
 Perk7 = 0;
 opisanie = '<strong>Затворник:</strong> Вы посвятили себя чтению книг и просиживанию в нервосети в поисках новых фактов, однако редко выходили за пределы своей жилъячейки. Быстрый ум и реакция позволяют вам рассчитать вероятность успеха каждого из действий и точнее стрелять из горячего оружия, но общение с людьми причиняет вам неудобство.';
 preupdate();
};

function P6ch() {
 Spos = '|Осознанный|';
 Perk1 = 0;
 Perk2 = 0;
 Perk3 = 0;
 Perk4 = 0;
 Perk5 = 0;
 Perk6 = 5;
 Perk7 = 0;
 opisanie = '<strong>Осознанный:</strong> Вы в своём познании настолько преисполнились, что не спите, а медитируете. Это позволяет не чувствовать голода после сна. Однако ваша просветлённость вызвала недоверие к продукции Партии — вы не используете лекарственные средства, поскольку считаете их вредными для вашего организма.';
 preupdate();
};

function P7ch() {
 Spos = '|Из пробирки|';
 Perk1 = 0;
 Perk2 = 0;
 Perk3 = 0;
 Perk4 = 0;
 Perk5 = 0;
 Perk6 = 0;
 Perk7 = 3;
 opisanie = '<strong>Из пробирки:</strong> Ваши родители были учёными, и вы с детства следили за химическими реакциями и опытами. Вам не нужна лаборатория, вы можете соединять компоненты в любое время с помощью своих приспособлений. Проблема в том, что ваше пристрастие к веществам сыграло злую шутку. Вы зависимы от популярного в гигахруще наркотика – говняка.';
 preupdate();
};

function Xplus() {
 if (X < 10 && X+E+A+S+U+M < 34) {
 X++;
 preupdate();
 }else{
 };
};
function Eplus() {
 if (E < 10 && X+E+A+S+U+M < 34) {
 E++;
 preupdate();
 }else{
 };
};
function Aplus() {
 if (A < 10 && X+E+A+S+U+M < 34) {
 A++;
 preupdate();
 }else{
 };
};
function Mplus() {
 if (M < 10 && X+E+A+S+U+M < 34) {
 M++;
 preupdate();
 }else{
 };
};
function Splus() {
 if (S < 10 && X+E+A+S+U+M < 34) {
 S++;
 preupdate();
 }else{
 };
};
function Uplus() {
 if (U < 10 && X+E+A+S+U+M < 34) {
 U++;
 preupdate();
 }else{
 };
};
function Xminus() {
 if (X > 1) {
 X--;
 preupdate();
 }else{
 };
};
function Eminus() {
 if (E > 1) {
 E--;
 preupdate();
 }else{
 };
};
function Aminus() {
 if (A > 1) {
 A--;
 preupdate();
 }else{
 };
};
function Mminus() {
 if (M > 1) {
 M--;
 preupdate();
 }else{
 };
};
function Sminus() {
 if (S > 1) {
 S--;
 preupdate();
 }else{
 };
};
function Uminus() {
 if (U > 1) {
 U--;
 preupdate();
 }else{
 };
};

function preupdate() {
  kek.innerHTML = `<br><hr><strong>Характеристики:</strong><br><br>Здоровье: ${X}&nbsp&nbsp|&nbsp&nbspВыносливость: ${E}&nbsp&nbsp|&nbsp&nbspАтака: ${A}&nbsp&nbsp|&nbsp&nbspМоторика: ${M}&nbsp&nbsp|&nbsp&nbspСкрытность: ${S}&nbsp&nbsp|&nbsp&nbspУбедительность: ${U}&nbsp&nbsp|&nbsp&nbspОчков осталось: ${34-X-E-A-S-U-M} <br><br>${opisanie}<hr>`;
  document.body.append(lol);
};


function a() { 

 if (game == false && X+E+A+S+U+M==34) {
  game = true;
  Tit = '';
  Kur = '';

    runOnKeys(
      () => GiveTalon(),
      "Digit8",
      "KeyP"
    );

    runOnKeys(
      () => xpMax=1000,
      "Digit9",
      "KeyP"
    );

    runOnKeys(
      () => b(),
      "Digit1",
    );

    runOnKeys(
      () => c(),
      "Digit2",
    );

    runOnKeys(
      () => d(),
      "Digit3",
    );

    runOnKeys(
      () => e(),
      "Digit4",
    );

    runOnKeys(
      () => f(),
      "Digit5",
    );

    runOnKeys(
      () => invent(),
      "KeyQ",
    );

    runOnKeys(
      () => eda(),
      "KeyW",
    );

    runOnKeys(
      () => Antid(),
      "KeyE",
    );

    runOnKeys(
      () => Use(),
      "KeyR",
    );

    runOnKeys(
      () => Naviki(),
      "KeyT",
    );
  
  if (Perk7 > 0) {
    runOnKeys(
      () => labor(),
      "KeyA",
    );
  }else{
  };

  Show(`Окинув взором напоследок родную жилъячейку, вы отправляетесь в путь.`);
  if (Perk7 == 0) {
   div.insertAdjacentHTML('afterbegin', '<input type="button" value="Инвентарь (Q)" name="hello" OnClick="invent();"> <input type="button" value="Съесть (W)" name="hello" OnClick="eda();"> <input type="button" value="Вколоть антидот (E)" name="hello" OnClick="Antid();"> <input type="button" value="Использовать (R)" name="hello" OnClick="Use();"> <input type="button" value="Характеристики (T)" name="hello" OnClick="Naviki();">');
  } else {
   div.insertAdjacentHTML('afterbegin', '<input type="button" value="Инвентарь (Q)" name="hello" OnClick="invent();"> <input type="button" value="Съесть (W)" name="hello" OnClick="eda();"> <input type="button" value="Вколоть антидот (E)" name="hello" OnClick="Antid();"> <input type="button" value="Переносная лаборатория (A)" name="hello" OnClick="labor();"> <input type="button" value="Использовать (R)" name="hello" OnClick="Use();"> <input type="button" value="Характеристики (T)" name="hello" OnClick="Naviki();">');
   govnZav = 3;
   Govnyak++;
  };
  div.insertAdjacentHTML('afterbegin', '<input type="button" value="1" value="1" name="hello" OnClick="b();">   <input type="button" value="2" name="hello" OnClick="c();">   <input type="button" value="3" name="hello" OnClick="d();">   <input type="button" value="4" name="hello" OnClick="e();">   <input type="button" value="5" name="hello" OnClick="f();"> ');
  Variant1 = '1. Продолжить';
  Variant2 = '';
  Variant3 = '';
  Variant4 = '';
  Variant5 = '';
 if (Raspred == false) {
  Spos = '(Случайное распределение)';
  do { 
   X = getRndInteger(1, 10);
   E = getRndInteger(1, 10);
   A = getRndInteger(1, 10);
   M = getRndInteger(1, 10);
   S = getRndInteger(1, 10);
   U = getRndInteger(1, 10);
  } while (X+E+A+M+S+U != 34);
 } else {
  kek.innerHTML = '';
  ek.innerHTML = '';
  U-=Perk5*0.4;
  talon = Perk1;
  Antidot-=Perk6/5;
 };
  xpMax = 25+5*X-Perk4*2;
  xp = xpMax;
  vesMax = 5+5*E-Perk1*2;
  kek.innerHTML = '';
  ek.innerHTML = '';
  update();
  Xb = X;
  Eb = E;
  Ab = A;
  Mb = M;
  Sb = S;
  Ub = U;

 } else if (game == false && X+E+A+M+S+U!=34) {
  let Kur ='Распределите оставшиеся характеристики, прежде чем начать игру';
  document.getElementById("Kur").innerHTML = Kur;;
 } else {
  let newgame = confirm("Вы уверены, что хотите начать игру сначала?");
   if (newgame == true) { 
     window.location.reload();
   }
 };
};






let prezh = 0;


function b() {
 if (action == 0 && podaction == 0 && exp >= lvl && lvl != -1) {
   Show('<strong>Вы достигли нового уровня! Выберете доступную способность из предложенных:</strong>');
   action =-111;
   podaction =0;
   if (lvl == lvl2) {
    lvl = lvl3;
   } else if (lvl == lvl3) {
    lvl = lvl4;
   } else if (lvl == lvl4) {
    lvl = lvl5;
   } else if (lvl == lvl5) {
    lvl = lvl6;
   } else if (lvl == lvl6) {
    lvl = lvl7;
   } else if (lvl == lvl7) {
    lvl = lvl8;
   } else if (lvl == lvl8) {
    lvl = lvl9;
   } else if (lvl == lvl9) {
    lvl = lvl10;
   } else if (lvl == lvl10) {
    lvl = lvl11;
   } else if (lvl == lvl11) {
    lvl = lvl12;
   } else if (lvl == lvl12) {
    lvl = lvl13;
   } else if (lvl == lvl13) {
    lvl = lvl14;
   } else if (lvl == lvl14) {
    lvl = lvl15;
   } else if (lvl == lvl15) {
    lvl = -1;
   } else {
   };
   if (E3 == 0) {
    Variant1 = '1. Хорошая экипировка. Вы подготовлены к любым невзгодам. Клопы и прочие насекомые не кусают вас, пока вы спите в жилъячейках [Выносливость 3]';
   } else if (E3 > 0 && E6 == 0) {
    Variant1 = '1. Челночный бег. На уроках физподготовки вы не понимали, для чего он вообще нужен? Но как только слышен рёв сирены, вы благодарите чернобога за вашу подготовку. Количество шагов после начала самосбора увеличено на 5 [Выносливость 6]';
   } else if (E6 > 0 && E8 == 0) {
    Variant1 = '1. Иммунитет. Зачем нужен комбинезон или ловкие руки, если ваше здоровье защитит вас от любой заразы? Продукты самосбора не вызывают у вас заражения при контакте с ними [Выносливость 8]';
   } else if (E8 > 0 && E10 == 0) {
    Variant1 = '1. Сила воли. Ваш организм достаточно крепок, чтобы защитить себя от привыкания. Говняк больше не вызывает у вас зависимости [Выносливость 10]';
   } else if (E10 > 0) {
    Variant1 = '';
   };
   if (A3 == 0) {
    Variant2 = '2. Критический урон. После некоторого количества нанесённого урона вы можете нанести критический урон, равный 20 [Атака 3]';
   } else if (A3 == 2) {
    Variant2 = '2. Критический урон. После некоторого количества нанесённого урона вы можете нанести критический урон, равный 40 [Атака 6]';
   } else if (A3 == 4) {
    Variant2 = '2. Критический урон. После некоторого количества нанесённого урона вы можете нанести критический урон, равный 60 [Атака 8]';
   } else if (A3 == 6) {
    Variant2 = '2. Критический урон. После некоторого количества нанесённого урона вы можете нанести критический урон, равный 100 [Атака 10]';
   } else if (A3 == 10) {
    Variant2 = '';
   };
   if (M3 == 0) {
    Variant3 = '3. Чёрный взлом. Вы можете влить чёрную слизь в замок, написав в окне подбора "Чёрная слизь", и замок откроется [Моторика 3]';
   } else if (M3 > 0 && M6 == 0) {
    Variant3 = '3. Эксперт в оружии. Похоже, вы умеете обращаться с огнестрельным оружием так хорошо, что по весу оно ощущается в 2 раза легче [Моторика 6]';
   } else if (M6 > 0 && M8 == 0) {
    Variant3 = '3. Лекарь. Ваши умелые руки дают вам шанс 50% сохранить антидот при его применении [Моторика 8]';
   } else if (M8 > 0 && M10 == 0) {
    Variant3 = '3. Замочный эксперт. Взлом замков происходит автоматически [Моторика 10]';
   } else if (M10 > 0) {
    Variant3 = '';
   };
   if (S3 == 0) {
    Variant4 = '4. Маскировка. Вы умеете прятать свои припасы в жилъячейке так, чтобы грызуны не находили их [Скрытность 3]';
   } else if (S3 > 0 && S6 == 1) {
    Variant4 = '4. Истинное вероломство. Особенность "вероломный" наносит в 2 раза больше урона [Скрытность 6]';
   } else if (S6 > 1 && S8 == 0) {
    Variant4 = '4. Чувство. Самосбор никогда не застаёт вас врасплох. Даже если вы "бежите" от события к событию, уведомление о нём всегда остановит вас [Скрытность 8]';
   } else if (S8 > 0 && S10 == 0) {
    Variant4 = '4. Одежда цвета бетона. Вы можете попробовать скрыться и проскочить мимо прямо во время боя [Скрытность 10]';
   } else if (S10 > 0) {
    Variant4 = '';
   };
   if (U3 == 0) {
    Variant5 = '5. Поддатый. Каждый глоток этанола временно увеличивает вашу убедительность на 2 [Убедительность 3]';
   } else if (U3 > 0 && U6 == 0) {
    Variant5 = '5. Есть, что сказать. Ваши реплики будут подсвечиваться зелёным или красным в зависимости от реакции на них [Убедительность 6]';
   } else if (U6 > 0 && U8 == 0) {
    Variant5 = '5. Спекулянт. Цены на всё ниже в 2 раза [Убедительность 8]';
   } else if (U8 > 0 && U10 == 0) {
    Variant5 = '5. Друг живности. Неразумные порождения самосбора в 50% случаев не нападают на вас [Убедительность 10]';
   } else if (U10 > 0) {
    Variant5 = '';
   };
   if (Ep+1 >= Eb && Ap+1 >= Ab && Mp+1 >= Mb && Sp+1 >= Sb && Up+1 >= Ub) {
    ol.innerHTML = "<strong>Вы достигли нового уровня! Ваше максимальное здоровье увеличено.</strong>";
    document.body.before(ol);
    Xb++;
    xpMax = 25+5*X-Perk4*2;
    action = 0;
    b();
   } else {
   };

 } else if (action == 0 && podaction == 0 && ves <= vesMax && xp > 0 && game == true) {


  if (Krit >=KritMax && A3 > 0) {
    KKK = 'Критическая атака (Z)';
    document.getElementById("KKK").innerHTML = KKK;;
  }else{
  };
  protivnikxp = 0;
  let put = getRndInteger(10, 100);
  days = days+put*0.00005;
   day = Math.trunc(days);
   metr+=put;
   if (sitost > 0) {
    sitost-=put*0.05+put*0.02*Perk2;
   } else {
    gol = '<img src="s2.jpg" alt=""><strong>  Голод.</strong> Вы голодны, и это негативно влияет на ваше здоровье';
    document.getElementById("gol").innerHTML = gol;;
    xpMax-=Math.trunc(put/(15+E));
     if (xp>xpMax) {
     xp=xpMax;
     }else{
     };
     if (xpMax <= 0) {
      xp=xpMax;
      Tit = 'Голодная смерть';
      Kur = 'Истощавший труп, который вы оставили после себя, не заинтересовал даже насекомых';
      Variant1 = '';
      Variant2 = '';
      Variant3 = '';
      Variant4 = '';
      Variant5 = '';
      } else {
     };
   };

   if (contact == true) {
    zarazh += metr*0.00001;
    } else {
   };

   if (zapas > 0) {
    zapas -= put*Math.pow(1+ves/vesMax, 3)*0.1
   } else {
    ust = '<img src="s3.jpg" alt=""><strong>   Усталость.</strong> Усталость гнетёт и одолевает вас. Пока вы не отдохнёте за ближайшей гермой, ваша выносливость будет уменьшаться';
    document.getElementById("ust").innerHTML = ust;;
     if (vesMax > 0) {
     vesMax--;
     } else {
      };
   };
    if (zarazh > 0 && zarazh < 1) {
     mutant = '<img src="s4.jpg" alt=""><strong>  Заражение.</strong> Контакт с продуктами самосбора негативно влияет на ваш организм. Ваши физические способности будут ослаблены, пока вы не найдёте антидот.';
     document.getElementById("mutant").innerHTML = mutant;;
     if (zarazhBad == false) {
     xpMax -= 10;
     vesMax -= 5;
     zarazhBad = true;
     
      if (xp > xpMax-10) {
       xp = xpMax;
       
     } else {
     };
    } else {
    };
   } else if (zarazh > 1 && zarazh < 2) {
    mutant = '<img src="s4.jpg" alt=""><strong>  Мутация.</strong> Ваше пренебрежительное отношение к заражению не осталось безнаказанным. Пальцы на одной из рук слиплись, образовывая зачаток щупальца. Если вы не примете антидот в ближайшие дни, руку придётся ампутировать.';
    document.getElementById("mutant").innerHTML = mutant;;
   } else if (zarazh > 2) {
    mutant = '<img src="s.jpg" alt=""><strong>  Мутация.</strong> Гибкий отросток, некогда бывший вашей рукой, заменяет конечность.';
    document.getElementById("mutant").innerHTML = mutant;;
    if (contact == true) {
     xpMax += 10;
     vesMax += 5;
    }else{
    }; 
    gun = 'Щупальце';
    contact = false;    
   } else {
   };

   if (regen == true && xp < xpMax) {
    xp++;
   } else {
   };

   if (smgn > 0 && smgn <= 4) {
    A+=smgn;
    E+=smgn;
    M-=smgn;
    U-=smgn*1*U3;
    smgn = 0;
   } else if (smgn > 4) {
     xp-=200;
      Tit = 'Алкогольное отравление';
      Kur = 'Вы упали и задохнулись собственной блевотой';
    Variant1 = '';
    Variant2 = '';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
   };

   if (govn > 0) {
    govnTime++;
   } else {
   };
   if (govnTime > 10) {
    A-=govn;
    E-=govn;
    M-=govn;
    S-=govn;
    U-=govn;
    govn = 0;
    govnTime = 0;
    govnZav++;
   } else {
   };
   if (govnZav == 3 && E10 == 0) {
    Zavis = '<img src="s5.jpg" alt=""><strong>  Зависимость.</strong> Похоже, вы конкретно подсели на говняк! Пока вы не покурите, ваши способности будут снижены.';
    document.getElementById("Zavis").innerHTML = Zavis;;
    E-=2;
    A-=2;
    M-=2;
    S-=2;
    U-=2;
    vesMax = 5+5*E-Perk1*2;
    govnZav++
   } else {
   };

   if (Kozha > 0) {
    Kozha = 0;
    A/=2;
    X/=2;
    xpMax=25+X*5-Perk4*2;
    if (xp > xpMax) {
     xp = xpMax;
    } else {
    };
   } else {
   };
   
  action = getRndInteger(1, Math.trunc(Math.sqrt(metr)));
   if (action == prezh) {
    action = 0;
    b();
   } else if (action == 1 || action == 51) {
    action = 1;
    prezh = action;
    Show('За поворотом слышны шумные голоса и лязганье тарелок.<br><br>По всей видимости, в той стороне располагается столовая.');
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Зайти в столовую';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
    
   } else if (action == 2 || action == 52) {
    action = 2;
    prezh = action;
    Show('Вы останавливаетесь и прислуживаетесь: в глубине коридора раздаётся едва различимое ритмичное шарканье<br><br>Прижав своё оружие покрепче, вы шагнули навстречу своей судьбе<br><br>Оказалось, что звуки издавала ползущая по кафелю мутировавшая улитка');
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Атаковать улитку';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
    protivnikxp = 5;

   } else if (action == 3 || action == 53) {
    action = 3;
    prezh = action;
    Show('Из трубы напротив медленными каплями сочится чёрная слизь');
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Собрать слизь';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
    
   } else if (action == 4 || action == 54) {
    action = 4;
    prezh = action;
    Show('В жилом блоке вы заметили приоткрытую гермодверь с красным крестом. Вероятно, это медъячейка');
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Зайти внутрь';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';

   } else if (action == 5 || action == 55) {
    action = 5;
    prezh = action;
    Show('Обнаружен заброшенный блок. В конце коридора расположена единственная жилъячейка с гермой.');
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Зайти внутрь';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
    
   } else if (action == 6 || action == 56) {
    action = 6;
    prezh = action;
   Show('Замечен силуэт человеческой фигуры. По хромой походке вы поняли, что это грибной человек');
   if (Perk5 > 0) {
    Variant1 = `1. Попробовать пройти мимо (шанс ${(S-1)*10}%)`;
   } else {
    Variant1 = '1. Попробовать пройти мимо';
    };
    Variant2 = '2. Атаковать';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
    protivnikxp = 30;

   } else if (action == 7 || action == 57) {
    action = 7;
    prezh = action;
    Show('Вы входите в заброшенный блок. Ни зги не видно! Ещё и пол липкий. Липкий...<br><br>Весь пол окутан толстой паутиной. В нескольких метрах от вас расположена лифтовая шахта.<br>');
    Variant1 = '1. Пойти дальше';
    if (Perk5 > 0) {
     Variant2 = `2. Забраться в лифтовую шахту и выкрасть яйцо (шанс ${(S-3)*10}%)`;
    } else {
     Variant2 = '2. Забраться в лифтовую шахту';
    };
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
    protivnikxp = 25;

   } else if (action == 8 && zarazh < 2) {
    prezh = action;
    Show('Вы останавливаетесь напротив гермодвери с табличкой "НИИ СЛИЗи."');
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Зайти внутрь';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';

   } else if (action == 9) {
    prezh = action;
    Show('Обнаружен заброшенный блок. Ни одной целой гермы. Лучше здесь не задерживаться');
    kod = getRndInteger(1, 2100-M*200);
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Обыскать помещения';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';

   } else if (action == 10 || action == 60) {
    if (S8 > 0) {
     alert('Датчик самосбора неистово пищит.');
    }else{
    };
    action = 10;   
    vrema = E+E6*5;
    ver = getRndInteger(1, 3);
    if (ver == 1) {
     Show('Коридоры медленно наполняются фиолетовой дымкой...');
    } else if (ver == 2) {
     Show('Издалека доносится оглушительный рёв сирены.');
    } else {
     Show('Вы чувствуете запах сырого мяса.');
    };
    Variant1 = '1. Бежать';
    Variant2 = '';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';

   } else if (action == 11) {
    prezh = action;
   Show('Под сапогами трещит битое стекло. Вдалеке мерцает полудохлая лампа в грязном плафоне.<br><br>Вы зашли в зону лаборатории заброшенного НИИ');
   kod = getRndInteger(1, 2100-M*200);
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Обыскать лабораторный шкаф';
    Variant3 = '3. Воспользоваться лабораторией';
    Variant4 = '';
    Variant5 = '';

   } else if (action == 12) {
    prezh = action;
    ver = getRndInteger(1, 100);
    if (ver < 100-S*10) {
     Show('С потолка крошится бетон<br><br>Прямо на вас падает червь-бетоноед');
     protivnikxp = 50;
     xp-=5;
    Variant1 = '';
    Variant2 = '2. Атаковать';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
     } else {
     ol = document.createElement('ol');
     ol.innerHTML ='Чем дольше вы идёте, тем сильнее гудят и греют обшарпанные коридорные трубы.<br><br>Наверное, скоро заморозки...';
     document.body.before(ol);
    Variant1 = '1. Продолжить';
    Variant2 = '';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
    action = 0;
    };

   } else if (action == 13) {
    prezh = action;
    Show('За поворотом вас поджидала бригада ликвидаторов<br><br><strong>Ликвидатор:</strong> Та-ак, гражданин! Потрудитесь объяснить, что вы делаете вне своей жилъячейки в столь позднее время?');
    protivnikxp = 50;
    if (Perk5 > 0) {
     Variant1 = `1. Бежать в другую сторону (шанс ${(E+S)/0.2}%)`;
    } else {
     Variant1 = '1. Бежать в другую сторону';
    };
    Variant2 = '2. Атаковать';
    Variant3 = '3. Я выполняю секретное партийное поручение и не могу разглашать его. Посторонитесь.';
    Variant4 = '';
    Variant5 = '';

   } else if (action == 14 && gigaquest1 == false) {
    gigaquest1 = true;
    Show('Вы входите в явно жилой, но неосвещённый блок. Все жители ходят с фонариками. Вас окликают<br><br><strong>Партрук:</strong> Наконец-то они прочитали моё донесение и прислали хоть кого-то толкового!');
    Variant1 = '1. Простите, я не понимаю, о чём идёт речь.';
    Variant2 = '2. Так точно. Рассказывайте, что у вас тут.';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';

   } else if (action == 15) {
    prezh = action;
    Show('Под тусклой лампой сидит одинокий бомж.<br><br><strong>Бомж:</strong> Эй, слышь, талончика лишнего... Не найдётся? Поделись, милчеловек! А я тебе расскажу свою историю.');
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Вот, держи (1 талон)';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';


   } else if (action == 16) {
    prezh = action;
    Show('Вы проходите через жилой блок, стараясь не привлекать к себе внимания, но вас останавливает хмурый человек в кожаном пальто.<br><br><strong>Торговец:</strong> Хей, путешественник! Не хочешь унести с собой немного счастья? Красного, тягучено счастья?');
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Да, я хочу (-10 талонов)';
    Variant3 = '3. А что будет, если те замечательные люди с граблями узнают, чем ты тут занимаешься?';
    Variant4 = '';
    Variant5 = '';

   } else if (action == 17 && zarazh == 0) {
    prezh = action;
    Show('Обнаружен заброшенный блок. В конце коридора расположена единственная жилъячейка с гермой.');
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Зайти внутрь';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';

   } else if (action == 18 && zarazh < 2) {
    prezh = action;
    Show('Вы останавливаетесь перед научным блоком с надписью "НИИ Хрущеведения"');
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Зайти внутрь';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';

   } else if (action == 19) {
    prezh = action;
    kod = getRndInteger(1, 21000-M*2000);
    Show('Вы вляпались во что-то липкое. Опустив голову, вы увидели, что весь пол зарос красной слизью.');
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Собрать слизь';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';

   } else if (action == 50) {
    action = 20;
    prezh = action;
    protivnikxp = 50;
    Show('Вы остановились из-за яркого света в конце коридора. Приглядевшись, вы поняли, что это блокпост, через который вас могут не пропустить.');
    
    Variant1 = '1. Идти мимо';
    if (Perk5 > 0) {
     Variant2 = `2. Незаметно вывести из строя датчики движения (шанс ${(S+M)/0.2}%)`;
     Variant3 = `3. Проскочить мимо и смыться (шанс ${(S+E)/0.2}%)`;
     Variant4 = `4. Подкрасться и атаковать дежурного (шанс ${(S+A)/0.2}%)`;
    } else {
     Variant2 = '2. Незаметно вывести из строя датчики движения';
     Variant3 = '3. Проскочить мимо и смыться';
     Variant4 = '4. Подкрасться и атаковать дежурного';
    };
    Variant5 = '5. Атаковать';

   } else if (action == 21 && talon > 4) {
    prezh = action;
    ver = getRndInteger(5, talon);
    talon-=ver;
    Show(`Вас сбивают с ног. Резко поднявшись, вы поняли, что это грабитель, вытавшивший у вас из кармана ${ver} талонов!`);
    
    Variant1 = '1. Пойти дальше';
    if (Perk5 > 0) {
     Variant2 = `2. Попробовать догнать (шанс ${(E+A)/0.2}%)`;
    } else {
     Variant2 = '2. Попробовать догнать';
    };
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';


   } else if (action == 22) {
    prezh = action;
    Show('Вы проходите мимо жилого блока. Люди вышли с вёрдами и граблями. Один из них поворачивается к вам.<br><br><strong>Руководитель: </strong>Эй, ну а тебе что, особое приглашение нужно? Или ты решил отлынивать от нашего субботника?');
    if (Perk5 > 0) {
     Variant1 = `1. Попробовать сбежать (шанс ${(E+S)/0.2}%)`;
     Variant2 = '2. Мне выписывали освобождение, помните? У меня аллергия на прозрачную слизь, я не могу её собирать! [Убедительность 6]';
    } else {
     Variant1 = '1. Попробовать сбежать';
     Variant2 = '2. Мне выписывали освобождение, помните? У меня аллергия на прозрачную слизь, я не могу её собирать!';
    };
    Variant3 = '3. Да я... У меня просто формы нет!';
    Variant4 = '';
    Variant5 = '';

   } else if (action == 23 && gigaquest2 == false) {
    gigaquest2 = true;
    Show('Вы проходили через жилой блок, как вдруг вас остановила девушка лет двадцати<br><br><strong>Тян:</strong> Вы нездешний... Можете мне помочь, пожалуйста?');
    Variant1 = '1. Уйди с дороги, мне некогда.';
    Variant2 = '2. Чем я могу помочь?';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';

   } else if (action == 24) {
    prezh = action;
    Show('Блок, мимо которого вы проходите, заселён миролюбимой общиной борщеводов. В закутке расположены какие-то ящики — по всей видимости, местный рынок. Справа от вас находчивые борщеводы предлагают арендовать жилъячейку.');
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Зайти на рынок';
    Variant3 = '3. Снять жилъячейку [5 талонов]';
    Variant4 = '4. Поинтересоваться о работе';
    Variant5 = '';

   } else if (action == 65) {
    prezh = action;
    action = 25;
    ver = getRndInteger(1, 100);
    if (ver < 100-S*10) {
     Show('Вас выследил дикий охотник борщевод<br><br>Борщевод атакует вас');
     protivnikxp = 50;
     xp-=X;
    Variant1 = '';
    Variant2 = '2. Атаковать';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
     } else {
     Show('В пустом заросшем плесенью коридоре вас обдаёт ледяной сквозняк');
     xp--;
    Variant1 = '1. Продолжить';
    Variant2 = '';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
    action = 0;
    };

   } else if (action == 26) {
     Show('В опустошённой жилъячейке, откуда вынесли уже всё, что не было причинчено к бетону, вы обнаружили мертвеца с бутылкой этанола в руках.');
     protivnikxp = 50;
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Забрать самогон';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';

   } else if (action == 27) {
    Show('Освещённый коридор. Впереди пустота, позади ничего. Хорошее место для того, чтобы передохнуть<br><br>Вы смотрите в обшарпанную стену, толком не понимая, сколько прошло времени, и продолжаете путь.');
    action = 0;
  Variant1 = '1. Продолжить';
  Variant2 = '';
  Variant3 = '';
  Variant4 = '';
  Variant5 = '';

   } else if (action == 28 && Rang == 0) {
    Show('Вы останавливаетесь перед гермой с символом скрещённых грабель. Обнаружена академия ликвидаторов');
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Зайти внутрь';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';

   } else if (action == 29) {
    prezh = action;
    Show('Судя по оформлению коридора, вы нашли заброшеный блок партийной элиты');
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Обыскать помещения';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
    kod = getRndInteger(1, 21000-M*2000);

   } else if (action == 30) {
    prezh = action;
    protivnikxp = 30;
    Show('Вы услышали звук стекающий вдалеке слизи и прижались к стене. На ваших глазах слизь стекла на бетонный пол и начала подниматься, образуя тело. Нет сомнений, на вашем пути растеклась жижа.');
    if (Perk5 > 0) {
     Variant1 = `1. Попробовать проскочить мимо (шанс: ${(S-5)*10}%)`;
    } else {
     Variant1 = '1. Попробовать проскочить мимо';
    };
    Variant2 = '2. Атаковать';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';

  } else if (action == 70) {
    prezh = action;
    protivnikxp = 60;
    Show('Вы услышали звук стекающий вдалеке слизи и прижались к стене. На ваших глазах поблескивающая белая слизь стекла на бетонный пол и начала подниматься, образуя тело. Нет сомнений, на вашем пути растеклась белая жижа.');
    if (Perk5 > 0) {
     Variant1 = `1. Попробовать проскочить мимо (шанс: ${(S-8)*10}%)`;
    } else {
     Variant1 = '1. Попробовать проскочить мимо';
    };
    Variant2 = '2. Атаковать';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';

   } else if (action == 31 && talon > 1) {
    prezh = action;
    Show('В одном из коридоров вы встречаете челоека, который пытается взломать гермодверь<br><br><strong>Искатель: </strong>Привет, я разведчик одного из свободных поселений, что находится неподалёку. Я черчу карту местности, чтобы мы могли торговать с другими беспартийными. Могу провести тебя по безопасным путям в уже исследованные мной места. За разумную цену, конечно!');
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Отведи меня до партийной столовой [1 талон]';
    Variant3 = '3. Отведи меня в медъячейку [1 талон]';
    Variant4 = '4. Отведи меня до ближайшего отделения НИИ СЛИЗи [2 талона]';
    Variant5 = '5. Отведи меня в ближайшее поселение [2 талона]';


   } else if (action == 32) {
    ver = getRndInteger(1, 3);
   do {
    protivnikxp = getRndInteger(1, 100);
    Ataka1 = getRndInteger(1, 25);
    Ataka2 = getRndInteger(1, 25);
    Dop = getRndInteger(1, 50);
    Skr = getRndInteger(1, 10);
   } while (protivnikxp+Ataka1+Ataka2+Dop+Skr*5 != 142);
   prezh = action;
   Show('Из темноты глухого коридора доносится визг и грохот. Кажется, там затаилось порождение самосбора');
   if (Perk5 > 0) {
    Variant1 = `1. Попробовать пройти мимо [Скрытность ${Skr+1}]`;
   } else {
    Variant1 = '1. Попробовать пройти мимо';
   };
   Variant2 = '2. Атаковать';
   Variant3 = '';
   Variant4 = '';
   Variant5 = '';

   } else if (action == 33) {
    prezh = action;
    Show('Вы забрели в жилой блок. Похоже, смена кончилась, и все разбрелись по жилъячейкам.<br><br>Под жёлтой лампой посреди коридора стоит автомат-распределитель пищконцентратов');
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Вставить талон';
    if (Perk5 > 0) {
     Variant3 = `3. Попробовать вскрыть автомат (шанс ${(M-1)*10}%)`;
    } else {
     Variant3 = '3. Попробовать вскрыть автомат';
    };
    Variant4 = '';
    Variant5 = '';

   } else if (action == 34 && zarazh < 2) {
    prezh = action;
    Show('Шум из-за бетонной стены привлёк ваше внимание. Вы решили посмотреть, что там происходит.<br><br>Вы зашли в цех по производству какой-то техники. Тусклое красное освещение не позволяло разобрать формы деталей. Рабочие усердно штамповали их. Кто-то слева окликнул вас.<br><br><strong>Бригадир: </strong>Стой, кто ты? А, неважно. Слушай, у меня тут один человек... Куда-то пропал, мы план не успеваем выполнить. Не хочешь поработать? Всё по честному, за талон.');
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Поработать одну смену';
    if (Perk5 > 0) {
     Variant3 = `3. А что вы производите? [Убедительность 4]`;
    } else {
     Variant3 = '3. А что вы производите?';
    };
    Variant4 = '';
    Variant5 = '';

   } else if (action == 35) {
    prezh = action;
    Show('Болото, блин. Лучше обойти!');
    Variant1 = '1. Пойти дальше';
    Variant2 = '';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';

   } else if (action == 64) {
    Show('Вы чувствуете запах сырого мяса.');
    Variant1 = '1. Бежать';
    Variant2 = '';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';

   } else if (action == 80) {
    protivnikxp = 100;
    Show('Проход запечатан. Под дверью стоит ликвидатор<br><br><strong>Ликвидатор: </strong> Стой. Дальше тебе нельзя.');
    Variant1 = '1. Всё в порядке, у меня секретное поручение.';
    Variant2 = '2. Атаковать';
    if (Perk5 > 0) {
     Variant1 = '1. Всё в порядке, у меня секретное поручение [Убедительность 10]';
     Variant3 = `3. Выхватить гравижернова (шанс ${(M+A-6)/0.2}%)`;
    } else {
     Variant3 = '3. Выхватить гравижернова';
    };
    Variant4 = '';
    Variant5 = '';

   } else if (action == 90 && podaction == 90) {
    protivnikxp = 300;
    Show('Вы не верите своим глазам. Вдоль коридора ползёт огромный бетоноед.');
    if (Perk5 > 0) {
     Variant1 = `1. Попробовать пройти мимо (шанс ${(S-8)*10}%)`;
    } else {
     Variant1 = '1. Попробовать пройти мимо';
    };
    Variant2 = '2. Атаковать';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';

   } else {
    metr-=put;
    action = 0;
    b();
   };
 

 } else if (action == 0 && ves > vesMax) {
  let vibros = prompt('Вы перегружены и не можете идти дальше. Выберете, с чем вы готовы расстаться:', 'Пищконцентрат');
  Variant1 = '1. Продолжить';
  if (vibros == 'Пищконцентрат' && pish > 0) {
   pish--;   
  } else if (vibros == 'Антидот' && Antidot > 0) {
   Antidot--;   
  } else if (vibros == 'Чёрная слизь' && CherSlis > 0) {
   CherSlis--;
  } else if (vibros == 'Красная слизь' && KrasSlis > 0) {
   KrasSlis--;   
  } else if (vibros == 'Розовая слизь' && RoseSlis > 0) {
   RoseSlis--;   
  } else if (vibros == 'Белая слизь' && BelSlis > 0) {
   BelSlis--;   
  } else if (vibros == 'Говняк' && Govnyak > 0) {
   Govnyak--;       
  } else if (vibros == 'Улитка' && Ulitka > 0) {
   Ulitka--;    
  } else if (vibros == 'Яйцо' && yai > 0) {
   yai--;
  } else if (vibros == 'Самогон' && Samogon > 0) {
   Samogon--;
  } else if (vibros == 'Взрывчатка' && Bomb > 0) {
   Bomb--;
  } else if (vibros == 'Мышечная масса' && Boost > 0) {
   Boost--;
  } else if (vibros == 'Биоперемещатель' && Ischez > 0) {
   Ischez--;
   
  } else if (vibros == 'Оружие') {
   if (gun != 'Щупальце' && gun != 'Кулак') {
    gun = 'Кулак';
    VesGun = 0;
    
   } else {
    alert('У вас нет оружия.')
   }
  } else if (vibros == 'Слизь') {
   alert('Укажите тип слизи. Например: "Чёрная слизь"')
  } else { 
   alert('Вам придётся что-то сбросить.')
  };

  } else if (action == -111) {
   if (E3 == 0 && Eb >= 3) {
    E3 = 1;
    action = 0;
    SPO=SPO+'|E#3';
    Ep = 4;
    b();
   } else if (E3 > 0 && E6 == 0 && Eb >= 6) {
    E6 = 1;
    action = 0;
    SPO=SPO+'|E#6';
    Ep = 6;
    b();
   } else if (E6 > 0 && E8 == 0 && Eb >= 8) {
    E8 = 1;
    action = 0;
    SPO=SPO+'|E#8';
    Ep = 8;
    b();
   } else if (E8 > 0 && E10 == 0 && Eb == 10) {
    E10 = 1;
    action = 0;
    SPO=SPO+'|E#10';
    Ep = 10;
    b();
   } else {
   };

  } else if (action == 1) {
   Show('Вам удалось выйти незамеченным');
   Variant1 = '1. Продолжить';
   Variant2 = '';  
   action = 0;
   podaction = 0;

 } else if (action == 2) {
   Show('Вы решаете оставить изуродованное мутацией животное в покое.');
   Variant1 = '1. Продолжить';
   Variant2 = '';
  
  action = 0;
   
  } else if (action == 3 || action == 5 || action == 7 && podaction == 0 || action == 8 || action == 9 && podaction == 0 || action == 11 && podaction == 0 ||podaction == 12 || podaction == 13.1 || podaction == 14.95 || action == 15 && podaction == 0 || action == 16 && podaction == 0 || action == 17 && podaction == 0 || action == 28 && podaction == 0 || podaction == 28 || action == 18 && podaction < 18.3 || action == 19 || action == 29 && podaction == 0 || action == 20 && podaction == 20.1 || action == 21 && podaction == 0 || action == 30 && podaction == 30.1 || action == 22 && podaction == 22.9 || action == 24 && podaction == 0 || action >= 24.2 && action <= 24.7 || action == 25 && podaction == 25.5 || action == 26 && podaction == 0 || podaction == 26.3 || action == 31 || action == 33 && podaction != 33.1 || action == 34 && podaction == 0 || action == 35 && podaction == 0) {
   action = 0;
   podaction = 0;
   Variant1 = '';
   Variant2 = '';
   Variant3 = '';
   Variant4 = '';
   Variant5 = '';
   b();
   
  } else if (action == 4) {
   action = 0;
   Show('Вы уходите, слыша звук наглухо закрывающейся гермодвери.');
   Variant1 = '1. Продолжить';
   Variant2 = '';
   podaction = 0;
   
 } else if (action == 0 && podaction == 5.5) {
   Show('Гермодверь не поддаётся. В тонкую щель можно увидеть твёрдую лишь серую стену.<br><br>Нежилой блок, в котором вы находитесь, полностью забетонировали.');

 } else if (action == 6 && podaction == 0) {
   ver = getRndInteger(1, 10);
   if (ver < S) {
    Show('Вам удалось проскочить мимо!'); 
    Variant1 = '1. Продолжить';
    Variant2 = '';
    action = 0;
    exp+=10;
   } else {
    Show('Грибной кусает вас.');
    protivnikAttack = getRndInteger(1, 10);
    xp -= protivnikAttack;
     Variant1 = '';
     Variant2 = '2. Атаковать';
    podaction = 6;
   };

 } else if (action == 10) {
   if (vrema > 0) {
    vrema--;
    ver = getRndInteger(1, 10);
    if (ver == 1) {
     Show('Вы видите жилъячейку с приоткрытой гермой');
     Variant1 = '1. Бежать дальше';
     Variant2 = '2. Бежать туда';
     podaction = 10.1
    } else if (ver == 2) {  
      Show('Вы видите жилъячейку с приоткрытой гермой'); 
      Variant1 = '1. Бежать дальше';
      Variant2 = '2. Бежать туда';
     podaction = 10.2
    } else if (ver == 3) {
     Show('Вы видите жилъячейку с приоткрытой гермой');  
     Variant1 = '1. Бежать дальше';
     Variant2 = '2. Бежать туда';
     podaction = 10.2
    } else if (ver == 4) {
     Show('Вы видите жилъячейку с приоткрытой гермой');
     Variant1 = '1. Бежать дальше';
     Variant2 = '2. Бежать туда';
     podaction = 10.2
    } else if (ver == 5) {
     Show('Вы видите жилъячейку с приоткрытой гермой');  
     Variant1 = '1. Бежать дальше';
     Variant2 = '2. Бежать туда';
     podaction = 10.2
    } else {
     Show('Поблизости нет ничего, что могло бы хоть отдалённо напоминать гермодверь.'); 
     Variant1 = '1. Бежать дальше';
     Variant2 = '';
     };
   } else {
    action = -1;
    Tit = 'Самосбор поглотил вас';
    Kur = 'Ваш обосравшийся труп стал предметом насмешек местной трудовой бригады';
      Variant1 = '';
      Variant2 = '';
      Variant3 = '';
      Variant4 = '';
      Variant5 = '';
   };

 } else if (action == 13 && podaction != 13) {
  ver = getRndInteger(1, 20)
   if (ver < S+E) {
    Show('Вам удалось выбежать через соседний коридор и скрыться. Впрочем, вас особо и не искали.');
    exp+=15;
   } else {
     if (xp <= 0) {
      Tit = 'Погибший в бою';
      Kur = 'Ликвидаторы с удовольствием помочились на ваш труп, забыв, что им же его и выносить';
      Variant1 = '';
      Variant2 = '';
      Variant3 = '';
      Variant4 = '';
      Variant5 = '';
      } else {
     };
    Show('Ликвидаторы быстро догнали вас, проехались граблями по роже и вытащили все талоны. Можно сказать, легко отделались!');
    xp-=10;
    talon=0;
   };
    action = 0;
     Variant1 = '1. Пойти дальше';
     Variant2 = '';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';

 } else if (action == 14 && podaction == 0) {
    Show('<strong>Партрук:</strong> Тогда кто ты? А, неважно, я погиб, совсем погиб...');
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Но что всё-таки случилось?';
    podaction = 14.01;

 } else if (action == 14 && podaction == 14.01 || podaction == 14.02) {
    action = 0;
    podaction = 0;
    b();

 } else if (action == 14 && podaction == 14.1) {
   Show('<strong>Партрук: </strong>Пожалуйста, поторопитесь. Долго без света мы не протянем!');
   podaction = 14.3;
    Variant1 = '1. Закончить';
    Variant2 = '2. У вас же целая бригада ликвидаторов! Неужели они не могут обезвредить одного человека?';
    Variant3 = '3. Кто этот парень, который сломал генератор?';
   
 } else if (action == 14 && podaction == 14.12 || podaction == 14.15) {
   podaction = 14.1;
   Show('Вы выходите из генераторной');
    Variant1 = '1. Поговорить с партруком';
    Variant2 = '2. Зайти в генераторную';
    Variant3 = '3. Зайти в столовую';

  } else if (action == 14 && podaction == 14.13) {
   Show('<strong>Младший ликвидатор: </strong>Кто я такой? Сейчас узнаешь!<br><br>Младший ликвидатор направил на вас струю огня');
   protivnikAttack = getRndInteger(10, 20);
   xp-=protivnikAttack;
    Variant1 = '';
    Variant2 = '2. Атаковать';
   podaction = 14.14;

  } else if (action == 14 && podaction == 14.3 || podaction == 14.4 || podaction == 14.41 || podaction == 14.42 || podaction == 14.43) {
   podaction = 14.1;
    Variant1 = '1. Поговорить с партруком';
    Variant2 = '2. Зайти в генераторную';
    Variant3 = '';

  } else if (action == 14 && podaction == 14.88) {
    Show('Вы выходите из столовой в компании ликвидаторов<br><br>Удивительно, но вместе с ликвидаторами выходят люди, коридоры наполняются светом десятков фонариков<br><br>Все чужие ликвидаторы куда-то исчезли<br><br><strong>Старший ликвидатор:</strong> Готовься к расплате.<br><br><strong>Партрук:</strong> Идиот, что ты наделал?<br><br>Партрук стреляет в вас.');
    xp-=5;
    Variant1 = '1. Атаковать';
    Variant2 = '';
    podaction = 14.92;

  } else if (action == 14 && podaction == 14.91) {
    Show('Вы выходите из генераторной<br><br><strong>Партрук:</strong> Я рад, что с парнем покончено, а генераторная работает в привычном режиме. Я ещё привлеку к ответственноти тех, кто отказался стрелять в этого засранца. Ну, а вас я прошу принять это в знак моей благодарности. И ступайте отсюда с миром!');
    Variant1 = '1. Пойти дальше';
    Variant2 = '';
    Variant3 = '';
    action = 0;
    podaction = 0;
    talon+=50

  } else if (action == 14 && podaction == 14.92) {
    podaction = 14.95;
    Show('Партрук корчится в агонии и умирает.<br><br><strong>Старший ликвидатор:</strong> Кто-нибудь видел, как он умер?<br><br><strong>Ликвидатор:</strong> У себя в кабинете. Не выдержал нагрузки. Испугался репрессий, вот и пустил себе в лоб пулю.<br><br><strong>Старший ликвидатор:</strong> Отлично, так и напишем в отчёте, никто не будет разбираться.<br><br>То тут, то там начали загораться лампы.<br><br>Из генераторной под радостные возгласы одобрения вышел младший ликвидатор.<br><br><strong>Младший ликвидатор:</strong> Ты, это ты сделал это? Значит, всё это было не напрасно, мы победили! Я даже не знаю, как отблагодарить тебя. Вот, возьми... Мне мамка сшила ещё давно, да бери ты! Пригодится, точно тебе говорю! Ты нас от изверга избавил!');
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Надеть куртку, предложенную ликвидатором (Здоровье +4, Регенерация +1)';

  } else if (action == 15 && podaction == 15) {
   action = 0;
   podaction = 0;
    Show('<strong>Бомж:</strong> Ага, а ещё мы все на самом деле спим в чешуе огромного бетоноеда, а управляют нами разумные ЭВМ! Ты где этих сказок наслушался, дурень? Сколько себя помню, всегда здесь жил.<br><br><strong>Бомж:</strong> Ну, я за чекушкой пошёл. Марья Милфовна меня здесь скоро сменит. Бывай!');
    Variant1 = '1. Пойти дальше';
    Variant2 = ''
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';

  } else if (action == 16 && podaction == 16) {
   Show('Ликвидаторы стоят прямо у выхода и проверяют вещи каждого гражданина. Что-то тут не так. Нельзя идти к выходу сейчас.');

  } else if (action == 16 && podaction == 16.1 || podaction == 16.2) {
   ver = getRndInteger(1, 20)
   if (ver < S+E) {
    Show('Вам удалось выбежать через соседний коридор и скрыться. Впрочем, вас особо и не искали.');
    Variant1 = '1. Пойти дальше';
    Variant2 = '';
    action = 0;
    exp+=15;
  } else {
    Show('Ликвидатор ударил граблями по вашему колену, после чего вы упали на бетонный пол.<br><br>Мысленно вы уже приготовились к многочасовым допросам и решили в последний раз вдохнуть воздух свободы<br><br>Но с воздухом было что-то не так.<br><br>Врубилась сирена. Ликвидаторы всполошились и убежали. Коридоры медленно заполняются фиолетовой дымкой.<br><br>Вы кое-как встали на ноги. Что это, спасение или погибель? Скоро будет ясно.');
    xp-=2;
    action = 10;
    podaction = 0;
     Variant1 = '1. Бежать';
     Variant2 = '';
  };

  } else if (action == 17 && podaction == 17) {
     Show('Второй человек прижал гермодверь своей жилистой рукой, и вы только сейчас заметили её филоетовый оттенок.<br><br><strong>Человек: </strong>Чернобог учит смирению. Мы зададим вам этот вопрос ещё раз. Быть может, вы хотите поговорить о Боге?');
     Variant1 = '';

  } else if (podaction == 17.1 || podaction == 17.22) {
    podaction = 17.11;
     Show('Глаза уродливого человека расширились<br><br><strong>Человек:</strong> Разумеется! Чернобог помог мне, он поможет и вам! Нужно только пройти обряд чёрного таинства, и вы сразу почувствуете близость Чёрного Бога!');
     Variant1 = '1. В чём заключается обряд?';
     Variant2 = '';
     Variant5 = '';

  } else if (podaction == 17.11) {
    podaction = 17.12;
     Show('<strong>Человек:</strong> Я расскажу тебе, дитя моё. Наклонись ко мне поближе...');
     Variant1 = '1. Наклониться';
     Variant2 = '2. Эээ, я пока не уверен в необходимости обряда! Я могу подумать?';

  } else if (podaction == 17.12) {
    podaction = 17.13;
     Show('Вы наклоняетесь, и человек выливает вам в лицо белую слизь<br><br><strong>Человек:</strong> Чистая слизь да очистит! Чистая слизь да очистит!<br><br>Ваша рука скручивается, образуя внушительное щупальце');
     Variant1 = '1. Орать от ужаса';
     Variant2 = '';

  } else if (podaction == 17.13) {
     Show('Сектанты уходят, позволяя вам принять изменения своего тела наедине с собой.');
     zarazh = 2.1;
     action = 0;
     podaction = 0;
     Variant1 = '1. Пойти дальше';

  } else if (action == 18 && podaction == 18.4) {
   let protivnikxp = 50;
   podaction = 18.41;
    Show('Вы зашли внутрь того, что когда-то было жилой ячейкой. Внутри находились существа, которые весьма отдалённо напоминают людей.<br><br><strong>Мутант: </strong>Тебя ещё не поцеловал Чернобог. Зачем пожаловал к нам?');
    Variant1 = '1. На самом деле, поцеловал. Просто мои... Изменения, они внутри меня. А внешняя оболочка сохранилась прежней.';
    Variant2 = '2. Атаковать';
    Variant3 = '3. Я сотрудник НИИ Хрущеведения. Я хотел бы попросить одного из вас пройти со мной глубинное интервью для моей научной работы о Чернобоге.';
    Variant4 = '4. Я хочу пройти обряд и стать одним из вас.';
    Variant5 = '5. Вы знали, что один из вас – учёный, который только притворяется, что верит в Чернобога? Меня послали сюда, чтобы он передал мне результаты своих наблюдений.';
  
  } else if (action == 18 && podaction == 18.41) {
   if (U > 8) {
    podaction = 18.42;
    Show('Мутант издаёт противный визг<br><br><strong>Мутант: </strong>Да, я слышал о таком в преданиях. Большая честь, оказанная тебе свыше. И всё же, зачем ты здесь?');
    Variant1 = '1. Я иду проповедовать в партийные структуры, чтобы укоренять веру на самом верху. Одному из вас было поручено подготовить свои соображения и передать их мне.';
    Variant2 = '';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
   } else {
    Show('Мутант издаёт противный визг<br><br><strong>Мутант: </strong> Закрой то, что ты называешь ртом. Я не потерплю такого невыносимого кощунства. Ты будешь уничтожен нами во славу Чёрного Бога!<br><br>Мутанты атакуют вас');
    document.body.before(ol);
    xp-=25;
    podaction = 18.9;
    Variant1 = '';
    Variant2 = '2. Атаковать';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
   };

  } else if (action == 18 && podaction == 18.42) {
    podaction = 18.93;
    Show('Мутант недоверчиво оглядывает своих собратьев<br><br><strong>Одноглазый мутант: </strong>Да, это верно. Братья, простите, что скрыл от вас. Мне так было поручено. Мы обычно так не делаем, но в целях проповеди документы должны быть выполнены на их несуразном безбожном стиле. А теперь иди, и неси слово Чёрного Бога во славу очщения!<br><br>Одноглазый мутант мигает глазом и протягивает свёрток со стопкой бумаг');
    Variant1 = '1. Вернуться';

  } else if (action == 18 && podaction == 18.8) {
   ver = getRndInteger(1, 20);
   if (ver < S+M) {
    Show('Вам удалось незаметно вытащить рукопись!');
    podaction = 18.93;
    Variant1 = '1. Вернуться';
    Variant2 = '';
   } else {
    podaction = 18.9;
    Show('<strong>Одноглазый мутант (шепчет):</strong> Идиот, что ты делаешь?? Теперь мне придётся тебя угандошить, чтобы меня не раскрыли!<br><br>Одноглазый мутант атакует вас.');
    xp-=10;
    Variant1 = '';
    Variant2 = '2. Атаковать';
   };

  } else if (action == 18 && podaction == 18.92) {
    Show('Исследователь слушает ваш рассказ, застыв в ужасе.<br><br><strong>Исследователь:</strong> Вас просили. Сделать это незаметно. А теперь мы лишились нашего самого ценного сотрудника! И моего друга. Уходите, пока я не сдал вас ликвидаторам. Уходите.');
    action = 0;
    podaction = 0;
    Variant1 = '1. Пойти дальше';

  } else if (action == 18 && podaction == 18.93) {
    Show('Исследователь дивится вашей истории, перелистывая рукопись, и, удовлетворённо хмыкнув, протянул вам 20 талонов.');
    talon+=20;
    action = 0;
    podaction = 0;
    Variant1 = '1. Пойти дальше';

  } else if (action == 20 && podaction == 0) {
   if (U>8) {
    Show('Ваш убедительный вид не вызвал у постовых никаких подозрений');
    action = 0;
    podaction = 0;
    Variant1 = '1. Пойти дальше';
    Variant2 = '';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
   } else {
    podaction = 20;
    xp-=15;
    Show('Дежурный ликвидатор включил сирену и направил на вас струю огня.<br><br>');
    Variant1 = '';
    Variant2 = '2. Атаковать';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
   };


  } else if (action == 21 && podaction == 21) {
    let vero = getRndInteger(1, 2);
    if (vero == 1) {
     Show('Вы убили грабителя, но не нашли при нём ничего, кроме семейной фотокарточки.');
    } else {
     Show('В карманах грабителя вы нашли ещё 15 талонов! Похоже, до вас он много кого обдурил своими росказнями.');
     talon+=15;
    };
    talon+=ver;
    action = 0;
    podaction = 0;
    Variant1 = '1. Пойти дальше.';
    Variant2 = '';

  } else if (action == 30 && podaction != 30) {
   ver = getRndInteger(1, 10);
   if (ver < S-4) {
    Show('Вам удалось проскочить мимо!'); 
     Variant1 = '1. Продолжить';
     Variant2 = '';
    action = 0;
    exp+=30;
   } else {
    Show('Жижа атакует вас!');
    xp -=20;
     Variant1 = '';
     Variant2 = '2. Атаковать';
    podaction = 30;
   };

  } else if (action == 70 && podaction != 70) {
   ver = getRndInteger(1, 10);
   if (ver < S-9) {
    Show('Вам удалось проскочить мимо!');  
     Variant1 = '1. Продолжить';
     Variant2 = '';
    action = 0;
    exp+=55;
   } else {
    Show('Белая жижа атакует вас!');
    xp -=40;
     Variant1 = '';
     Variant2 = '2. Атаковать';
    podaction = 70;
   };

  } else if (action == 22 && podaction == 0) {
   ver = getRndInteger(1, 20);
   if (S+E > ver) {
    Show('Вам удалось избежать субботника!'); 
     Variant1 = '1. Продолжить';
     Variant2 = '';
     Variant3 = '';
    action = 0;
    exp+=15;
   } else {
    protivnikxp = 40;
    Show('Руководитель субботника напрыгнул на вас.<br><br><strong>Руководитель: </strong>Негодяй! Решил отлынивать, я тебе дам отлынивать!');
    xp -=10;
     Variant1 = '';
     Variant2 = '2. Атаковать';
     Variant3 = '';
    podaction = 22.8;
   };
  
  } else if (action == 22 && podaction == 22) {
   Show('Вы убирали слизь со стен, пола, потолков, от чего изрядно устали');
   action = 0;
   podaction = 0;
   zapas-=1000-E*50;
   days+=0.2;
   sitost-=0.0002;
   Variant1 = '1. Пойти дальше.';
   Variant2 = '';

  } else if (action == 23 && podaction <= 23.1) {
   Show('Вы оставили девушку в слезах и пошли дальше.');
   action = 0;
   Variant1 = '';
   Variant2 = '';
   Variant3 = '';
   b();

  } else if (action == 23 && podaction == 23.11) {
   if (A > 7) {
    Show('Вы с усилием выдернули из бетона петли, и гермодервь поддалась!');
    podaction = 23.6;
    Variant1 = '1. Зайти внутрь';
    Variant2 = '';
    Variant3 = '';
   } else {
    Show('Вы долго тужились на глазах у надеющейся на вас девушки, но так и не смогли отковырять герму хотя бы на миллиметр.');
   };

  } else if (action == 23 && podaction == 23.2) {
    Show('<strong>Старческий голос:</strong> На моей гермодвери не предусмотрено никаких индикаторов, да будет вам известно!');
    podaction = 23.21;
    Variant1 = '1. Откройте по-хорошему, я предупреждаю в посдений раз, или мы позовём ликвидаторов!';
    Variant2 = '2. Но я же вижу номер модели. У вас точно есть индикатор. Зачем вы обманываете нас?';
    Variant3 = '3. Да даже я вижу через скважину, что индикатор показывает отсутствие самосбора!';
    Variant4 = '';

  } else if (action == 23 && podaction == 23.21) {
   podaction = 23.2;
   d();

  } else if (action == 23 && podaction == 23.22) {
    Show('<strong>Старческий голос:</strong> Да просто не хочу и всё тут! Пожалуйста, оставьте меня в покое.');
    podaction = 23.11;
     Variant1 = '1. Попробовать выломать дверь ломом';    
     Variant2 = '2. Попробовать заговорить снова';
     Variant3 = '3. Попробовать взломать замок';

  } else if (action == 23 && podaction == 23.6) {
    Show('Вы открываете дверь, и вас начинает подташнивать. Внучка начала визжать, но вы вовремя закрыли рукой её рот.<br><br>На кушетке под несколькими одеялами лежала каракатица с человеческим лицом пожилой женщины. Её бесчисленные конечности стремительно пытались натягивать одеяло, но скрыть мутацию было невозможно — тело заменял клубок из аритмично движущихся сплетений.<br><br><strong>Старческий голос:</strong> Ну, теперь вы понимаете, почему я не хотела никому открывать. Ликвидаторы бы просто сожгли меня. И, наверное, правильно сделали бы. Но я не хотела, чтобы ты видела меня такой. Я планировала просто умереть от голода, но это сраное отродье придало мне холодной крови. Я не чувствую голода уже два семисменка. Совсем. Поэтому мне придётся попросить об этом вас. Да-да, вас. Сейчас моя внучка выйдет, а вы убъёте меня.<br><br><strong>Тян:</strong> Нет, нет! Господи! Нет! Тебя прооперируют, всё будет хорошо, правда!<br><br>Девушка разревелась, понимая, что операция тут не поможет.');
    podaction = 23.7;
     Variant1 = '1. Но ведь можно просто ничего не рассказывать ликвидаторам?';    
     Variant2 = '2. Я помогу вам избавиться от страданий. [Убить]';
     Variant3 = '';


  } else if (action == 23 && podaction == 23.7) {
    Show('<strong>Тян:</strong> Да, точно! Я просто буду ухаживать за тобой втайне. Мы справимся правда. Пожалуйста, бабушка, давай мы хотя бы поговорим об этом? Я приму тебя любой, и ни за что не допущу твоей смерти!<br><br><strong>Старческий голос:</strong> Хорошо, милая. Только проводи молодого человека. Такие вещи лучше обсуждать наедине. И спасибо вам. Без вашей помощи мы не смогли бы поговорить и, наверное, попрощаться. Пошарьте у меня под матрацем, там есть некоторые запасы... Я, видите ли, давно не едала!<br><br>Под матрацем вы обнаружили 50 талонов.');
    action = 0;
    podaction = 0;
    talon+=50;
     Variant1 = '1. Пойти дальше';    
     Variant2 = '';
     Variant3 = '';

  } else if (podaction == 23.8) {
   c();

  } else if (action == 24 && podaction > 0) {
   podaction = 0;
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Зайти на рынок';
    Variant3 = '3. Cнять жилъячейку [5 талонов]';
    Variant4 = '4. Поинтересоваться о работе';
    Variant5 = '';

  } else if (action == 26 && podaction == 26.1) {
    Show('<strong>Нелюдь:</strong> Да-а-а? Ну, давай на всякий случай проверим...');
    c();

  } else if (action == 26 && podaction == 26.4) {
    Variant1 = '1. Пойти дальше';
    action = 0;
    podaction = 0;
    Show('Вы научили нелюдя отвинчивать крышку<br><br><strong>Нелюдь:</strong> Спасибо... Я пока только учусь использовать тело. Я много знаю, но механической памяти, или как вы её... Именуете? Её у меня нет.<br><br>Нелюдь вновь улыбнулся, сдвинув со лба чёлку и пристально посмотрел на вас<br><br><strong>Нелюдь:</strong>Я... Сохраню тебе жизнь. Пока что) И вот, я нашло кое-что в местной лаборатории. Думаю, тебе это поможет.');
    if (X+A > 10) {
     Boost++;
     Show('Нелюдь протягивает вам пакетик с красной жидкостью. Изучив этикетку, вы поняли, что это концентрированная мышечная масса!');
    } else {
     Ischez++;
     Show('Нелюдь протягивает вам округлый предмет, похожий на лицо. Покрутив его в руках, вы поняли, что это биоперемещатель!');
    };

  } else if (action == 32 && podaction == 0) {
   if (S > Skr) {
    Show('Вам удалось проскочить мимо!');
    action = 0;
    Variant1 = '1. Пойти дальше';
    Variant2 = '';
    exp+=10*Skr;
   } else {
    podaction = 32;
    Show('Порождение самосбора атакует вас!');
    if (Ataka1 >= Ataka2) {
     xp -=getRndInteger(Ataka1, Ataka2);
    } else {
     xp -=getRndInteger(Ataka2, Ataka1);
    };
    Variant1 = '';
    Variant2 = '2. Атаковать';
    c();
   };

   } else if (action == 64) {
    Show('Вы подскользнулись на ошмётках чьего-то свежего трупа и потеряли 1 очко здоровья.<br><br>Похоже, местным ликвидаторам стоит получше убираться в коридоре!');
    xp--;
    action = 0;
    Variant1 = '1. Пойти дальше';
    Variant2 = '';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';

  } else if (action == 80 && podaction == 0) {
   if (U > 9) {
    Show('<strong>Ликвидатор:</strong> Похоже, ты не обманываешь. Проходи.');
    action = 0;
    Variant1 = '1. Пойти дальше';
    Variant2 = '';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
   } else {
    Show('<strong>Ликвидатор:</strong> Проваливай по-хорошему, а? И без тебя тошно.');
   };

  } else if (action == 90 && podaction != 90) {
   ver = getRndInteger(1, 10);
   if (ver < S-8) {
    Show('Вам удалось проскочить мимо!'); 
     Variant1 = '1. Продолжить';
     Variant2 = '';
    action = 0;
    exp+=50;
   } else {
    Show('Огромный бетоноед атакует вас. Вы умерли)');
    xp -=140;
     Variant1 = '';
     Variant2 = '2. Атаковать';
    podaction = 90;
   };

  } else if (action == 34 && podaction == 34) {
   podaction = 0;
   Variant1 = '1. Пойти дальше';
   Variant2 = '2. Поработать одну смену';
   Variant3 = '3. Купить продукцию';
   Variant4 = '';
   Variant5 = '';

  } else {
  };
 update();
 vzlom = true;
 read = false;
};

























function c() {
 if (xp > 0) {
 if (podaction == 0) {

  if (action == 1) {
    ol = document.createElement('ol');
     ol.innerHTML = 'Вам удалось выдать себя за рабочего местного цеха.<br><br>Теперь вы можете обменять имеющиеся талоны на пищконцентраты.';
     document.body.before(ol);
     Variant1 = '1. Пойти дальше';
     Variant2 = '2. Обменять';     
     podaction = 1;

  } else if (action == -111) {
   if (A3 == 0 && Ab >= 3) {
    A3 = 2;
    KritMax=20;
    action = 0;
    SPO=SPO+'|Критическая атака';
    Ap = 4;
    b();
   } else if (A3 == 2 && Ab >= 6) {
    A3 = 4;
    KritMax=40;
    action = 0;
    Ap = 6;
    b();
   } else if (A3 == 4 && Ab >= 8) {
    A3 = 6;
    KritMax=60;
    action = 0;
    Ap = 8;
    b();
   } else if (A3 == 6 && Ab == 10) {
    A3 = 10;
    KritMax=100;
    action = 0;
    Ap = 10;
    b();
   } else {
   };

  } else if (action == 2) {
      protivnikAttack = getRndInteger(1, 2);      
      protivnikxp -= attack+Perk3+Perk4*S6;
      if (protivnikxp > 0) {
       let ol = document.createElement('ol');
       ol.innerHTML = `Улитка получает урон, у неё осатётся ${protivnikxp} здоровья.<br><br>Улитка кусает вас.`;
       document.body.before(ol);
       xp = xp-protivnikAttack;
        
        if (xp <= 0) {
         Tit = 'Самосбор поглотил вас';
         Kur = 'Ликвидаторы были поражены нелепостью вашей смерти';
         Variant1 = '';
         Variant2 = '';
          
         action = -1;
        } else {
        };
      } else {
       if (Krit < KritMax) {
        Krit+=5;
       } else {
       };
       exp+=2;
       let ol = document.createElement('ol');
       ol.innerHTML = 'Вы раскололи панцирь улитки и берёте содержимое с собой';
       document.body.before(ol);
       Ulitka++;
       Variant2 = '';       
       action = 0;
      };

  } else if (action == 3) {
   CherSlis++;
    if (slisesbornik == true || E8 > 0) {
     ol = document.createElement('ol');
     ol.innerHTML = 'Вам удалось собрать полную колбу слизи без прямого контакта с месторождением.';
     document.body.before(ol);
    } else if (slisesbornik == false) {
     ver = getRndInteger(1, 10);
      ol = document.createElement('ol');
      ol.innerHTML = 'Вы осторожно прислонили колбу в надежде, что такой тесный контакт с продуктами самосбора не станет причиной заражения, и успешно наполнили её.';
      document.body.before(ol);

      if (ver > M) {
       contact = true;
      } else {
      };
    } else {
    };
    Variant1 = '1. Продолжить';
    Variant2 = ''; 
    action = 0;
    
  } else if (action == 4) {
    if (xp/xpMax >= 0.7 && zarazh <= 1) {
     ol = document.createElement('ol');
     ol.innerHTML = '<strong>Медработник:</strong> Вы не похожи на больного, товарищ. Что привело вас ко мне?';
     document.body.before(ol);
     Variant1 = '1. Прошу прощения, гермой ошибся!';
     Variant2 = '2. Мне нужен антидот';
     podaction = 4;
    } else if (xp/xpMax < 0.7 && zarazh <= 1) {
     if (U > 5 && Perk6 == 0) {
      ol = document.createElement('ol');
      ol.innerHTML = '<strong>Медработник:</strong> Вы, стало быть, из новых работников с соседнего блока? Говорил же я им, инструктаж, прежде всего инструктаж! Хорошо ещё, что живы остались. Давайте посмотрим, что я могу сделать...';
      document.body.before(ol);
      Variant1 = '1. Большое спасибо, товарищ!';
      Variant2 = '2. Мне нужен антидот';
      xp=xpMax;
     } else {
      ol = document.createElement('ol');
      ol.innerHTML = '<strong>Медработник:</strong> Вы неважно выглядите, товарищ. Убирайтесь вон!';
      document.body.before(ol);
      Variant1 = '1. Пойти дальше';
      Variant2 = '2. Но мне нужен антидот!';
     };
     podaction = 4;
    } else if (zarazh >= 2) {
     ol = document.createElement('ol');
     ol.innerHTML ='<strong>Медработник:</strong> Здра... Твою мать, здесь заражённый!';
     document.body.before(ol);
     Variant1 = '1. Выйти';
     Variant2 = '2. Вы сможете помочь мне справиться с этим?';
     podaction = 4.3;
    } else {
    };
    
  } else if (action == 5) {
     ol = document.createElement('ol');
     ol.innerHTML ='Жилъячейка оказалась пустой, гермодверь – исправной. При желании здесь можно остаться на какое-то время, чтобы восстановить силы.';
     document.body.before(ol);
     Variant1 = '1. Выйти и пойти дальше';
     Variant2 = '2. Cпать';
     Variant3 = '3. Читать';
     Variant4 = '4. Осмотреть антресоль';
     podaction = 5;
    kod = getRndInteger(1, 210-M*20);

  } else if (action == 6) {
   podaction = 6;
     Variant1 = '';
      protivnikAttack = getRndInteger(1, 10);      
      protivnikxp -= attack+Perk3+Perk4*S6;
      if (protivnikxp > 0) {
       let ol = document.createElement('ol');
       ol.innerHTML = `Грибной получает урон, у него осатётся ${protivnikxp} здоровья.<br><br>Грибной кусает вас.`;
       document.body.before(ol);
       xp -= protivnikAttack;
        
        if (xp <= 0) {
         Tit = 'Самосбор поглотил вас';
         Kur = 'Ликвидаторы отскребали ваши останки с хохотом и улюлюканием';
         Variant1 = '';
         Variant2 = '';
         action = -1;
        } else {
        };
      } else {
       if (Krit < KritMax) {
        Krit+=30;
       } else {
       };
       exp+=20;
       let ol = document.createElement('ol');
       ol.innerHTML = 'Трупы грибных людей пронизаны грибницей, как будто это нервные окончания. Лучше его не трогать.';
       document.body.before(ol);
       Variant1 = '1. Пойти дальше';
       Variant2 = '';
       action = 0;
       podaction = 0;
      };

  } else if (action == 7) {
    ver = getRndInteger(1, 10);
     if (ver < S-2) {
     ol = document.createElement('ol');
    ol.innerHTML ='Пробравшись внутрь, вы видите яйцо лифтовой арахны и незаметно берёте его. Удача сегодня на вашей стороне!';
    document.body.before(ol);  
     Variant1 = '1. Пойти дальше';
     Variant2 = '';
    yai++;
    action = 0;
    exp+=20;
   } else {
    ol = document.createElement('ol');
    ol.innerHTML ='На вас нападает лифтовая арахна.';
    document.body.before(ol);
    protivnikAttack = getRndInteger(10, 20);
       Variant1 = '';
       Variant2 = '2. Атаковать';
    xp-=protivnikAttack;
    podaction = 7;
   };

  } else if (action == 8) {
   if (CherSlis+KrasSlis+RoseSlis+BelSlis+yai+Ulitka > 0) {
    ol = document.createElement('ol');
    ol.innerHTML ='Вас пропускают в лабораторию.<br><br>На входе вас встречает человек в лабораторном халате, по виду больше похожий на вышибалу, чем на учёного.<br><br><strong>Сотрудник НИИ:</strong> Слушай, я мочалу не привык тянуть. Если есть что-то стоящее – показывай, а иначе ступай себе дальше.';
    document.body.before(ol);
    Variant1 = '1. Выйти';
    Variant2 = '2. У меня есть немного слизи. И других биологических объектов.';
    podaction = 8;
   } else {
    ol = document.createElement('ol');
    ol.innerHTML ='Гермодверь не поддаётся. Возможно, стоит прийти с тем, что может заинтересовать местных академиков?';
    document.body.before(ol);
   };

  } else if (action == 9) {
   if (vzlom == true) {
    code2(1, 2100-M*200, kod, 1);
   } else {
    alert('Вряд ли здесь можно найти что-то ещё.')
   };
   ver = getRndInteger(1, 100);
   if (ver < 12-S) {
   let ol = document.createElement('ol');
   ol.innerHTML ='Пока вы возились с кодовым замком, сзади подкралась какая-то мутировавшая тварь<br><br>Мутировавшая тварь атакует вас.';
   document.body.before(ol);
   protivnikxp = 25;
    xp-=10;
    Variant1 = '';
    Variant2 = '2. Атаковать.';
    Variant3 = '';
    podaction = 9;
   } else {
   };

  } else if (action == 11) {
   if (vzlom == true) {
    code2(1, 2100-M*200, kod, 2);
   } else {
    alert('Вряд ли здесь можно найти что-то ещё.')
   };
   ver = getRndInteger(1, 100);
   if (ver < 12-S) {
   let ol = document.createElement('ol');
   ol.innerHTML ='Пока вы возились с кодовым замком, сзади подкралась какая-то мутировавшая тварь<br><br>Мутировавшая тварь атакует вас.';
   document.body.before(ol);
   protivnikxp = 25;
    Variant1 = '';
    Variant2 = '2. Атаковать.';
    Variant3 = '';
    xp-=10;
    podaction = 11;
    Variant1 = '';
    Variant2 = '2. Атаковать.';
    Variant3 = '';
    if (xp <= 0) {
     Tit = 'Проглоченный бетоноедом';
     Kur = 'Ваше дохлое тело отправляется в увлекательнейшее путешествие по бетонным норам Гигахруща';
     Variant1 = '';
     Variant2 = '';
     action = -1;
    } else {
    };
   } else {
   };
 
  } else if (action == 12) {
     protivnikxp -= attack+Perk3;
      if (protivnikxp > 0) {
       let ol = document.createElement('ol');
       ol.innerHTML = `Червь-бетоноед получает урон, у него осатётся ${protivnikxp} здоровья.<br><br>Червь-бетоноед кусает вас.`;
       document.body.before(ol);
       protivnikAttack = getRndInteger(4, 5);
       xp -= protivnikAttack;
        
        if (xp <= 0) {
         Tit = 'Проглоченный бетоноедом';
         Kur = 'Ваше дохлое тело отправляется в увлекательнейшее путешествие по бетонным норам Гигахруща';
         Variant1 = '';
         Variant2 = '';
         action = -1;
        } else {
        };
      } else {
       if (Krit < KritMax) {
        Krit+=5;
       } else {
       };
       exp+=20;
       let ol = document.createElement('ol');
       ol.innerHTML = 'После тяжёлого боя вы заметили, что вместе с предсмертным воплем бетоноед выхаркнул красную слизь. Хотите собрать её?';
       document.body.before(ol);
       Variant1 = '1. Пойти дальше';
       Variant2 = '2. Собрать слизь';
       action = 0;
       podaction = 12;
      };

  } else if (action == 13) {
     let ol = document.createElement('ol');
     ol.innerHTML = '<strong>Ликвидатор:</strong> Гляньте-ка, да у нас тут диссидент! Ну сейчас я научу тебя Родину любить, опарыш!';
     document.body.before(ol);
     protivnikxp -= attack-Perk3;
       ol = document.createElement('ol');
       ol.innerHTML = `Ликвидатор получает урон, у него остаётся ${protivnikxp} здоровья.<br><br>Ликвидатор огрел вас граблями.<br><br>Второй ликвидатор огрел вас граблями.`;
       document.body.before(ol);
       protivnikAttack = getRndInteger(1, 20);
       xp -= protivnikAttack;
       Variant1 = '';
       Variant2 = '2. Атаковать';
       Variant3 = '';
     podaction = 13;

  } else if (action == 14) {
   let ol = document.createElement('ol');
   ol.innerHTML ='<strong>Партрук:</strong> Положение затруднительное, поэтому я не мог описать его подробно в официальных документах. Видите ли...<br><br><strong>Партрук:</strong> Один из наших ликвидаторов-новобранцев забаррикадировался в генераторной. Вставил в турбину грабли! Дальше, я думаю, вы понимаете.<br><br><strong>Партрук:</strong> Я выслал туда группу. Ни один не вернулся. Теперь я не могу рисковать людьми, их и так осталось очень мало.<br><br><strong>Партрук:</strong> И, похоже, вы единственный, кто может помочь нашему блоку выбраться из этого мрака.';
   document.body.before(ol);
   Variant1 = '1. К сожалению, я не могу. Мне нужно идти.';
   Variant2 = '2. Я попробую помочь вам с этим.';
   podaction = 14.02;

  } else if (action == 15) {
    if (talon > 0) {
     talon--;
     let ol = document.createElement('ol');
     ol.innerHTML ='<strong>Бомж:</strong> Добрая душа, спасибо, помог старику, выручил! Я ведь когда-то был библиотекарем, много вычитал важного. О чём ты хочешь узнать?';
     document.body.before(ol);
    Variant1 = '1. Ты помнишь, что было в твоём детстве? Я имею в виду, может, за пределами гигахруща тогда было что-то ещё?';
    Variant2 = '2. Какое оружие самое мощное?';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
    podaction = 15;
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML ='<strong>Бомж:</strong> Милок, да я погляжу, ты сам на мели. Тьфу, было бы перед кем попрошайничать!';
    document.body.before(ol);
    Variant1 = '1. Пойти дальше';
    Variant2 = '';
   };

   } else if (action == 16) {
    let ol = document.createElement('ol');
    if (talon > 9) {
     talon-=10-U8*5;
     Govnyak++;
     let ol = document.createElement('ol');
     ol.innerHTML ='<strong>Торговец:</strong> По рукам!';
     document.body.before(ol);
    } else {
     let ol = document.createElement('ol');
     ol.innerHTML ='<strong>Торговец:</strong> Мы же серьёзные люди. Приходи, когда у тебя будут талоны на стаф.';
     document.body.before(ol);
   };

   } else if (action == 17) {
     podaction = 17;
     let ol = document.createElement('ol');
     protivnikxp = 30;
     ol.innerHTML ='Вы обустроились в опустошённой жилъячейке и даже думали вздремнуть, однако как только вы сомкнули глаза, со стороны гермы раздался настойчивый стук.<br><br>Вы распахнули гермодверь. За ней стояло двое. Один человек с изуродованным лицом, прикрытый чёрным капюшоном. Второй покрупнее.<br><br><strong>Человек: </strong>Здравствуйте. Хотите поговорить о создателе нашем, Чернобоге?';
     document.body.before(ol);
     Variant1 = '1. Закрыть гермодверь.';
     Variant2 = '2. Да, пожалуйста, расскажите мне о нём.';
     Variant3 = '3. Партия научила меня тому, что бога нет.';
     Variant4 = '4. Никакого Чернобога нет, я не признаю и никогда не признаю его существование.';
     Variant5 = '5. Вы сектанты, и по законам Партии вас ждёт немедленное уничтожение. (Атаковать)';

   } else if (action == 18) {
     podaction = 18;     
     let ol = document.createElement('ol');
     protivnikxp = 30;
     ol.innerHTML ='Вы зашли в зал, который больше похож на библиотеку, чем на лабораторию.<br><br><strong>Исследователь: </strong>Здравствуйте. Вы зашли в НИИ Хрущеведения. Я полагаю, у вас есть какие-то ценные сведения для нас?';
     document.body.before(ol);
     Variant1 = '1. Выйти и пойти дальше';
     Variant2 = '2. А что вы изучаете?';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';
  
  } else if (action == 19) {
   KrasSlis++;
    if (slisesbornik == true || E8 > 0) {
     ol = document.createElement('ol');
     ol.innerHTML = 'Вам удалось собрать полную колбу слизи без прямого контакта с месторождением.';
     document.body.before(ol);
    } else if (slisesbornik == false) {
     ver = getRndInteger(1, 10);
      ol = document.createElement('ol');
      ol.innerHTML = 'Вы осторожно прислонили колбу в надежде, что такой тесный контакт с продуктами самосбора не станет причиной заражения, и успешно наполнили её.';
      document.body.before(ol);
      if (ver > M*1.5) {
       contact = true;
      } else {
      };
    } else {
    };
    Variant1 = '1. Продолжить';
    Variant2 = ''; 
    action = 0;

   } else if (action == 20 && podaction == 0) {
    ver = getRndInteger(1, 20);
   if (S+M >= ver) {
    let ol = document.createElement('ol');
    ol.innerHTML ='Система вышла из строя, блок обесточен. Вы можете прокрасться к выходу';
    document.body.before(ol);
    action = 0;
    podaction = 0;
    Variant1 = '1. Пойти дальше';
    Variant2 = '';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
    exp+=15;
   } else {
    podaction = 20;
    xp-=15;
    let ol = document.createElement('ol');
    ol.innerHTML ='Дежурный ликвидатор включил сирену и направил на вас струю огня.';
    document.body.before(ol);
    Variant1 = '';
    Variant2 = '2. Атаковать';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
   };

   } else if (action == 21) {
    zapas-=400-E*30;
    let pogonya = getRndInteger(1, 20);
    if (A+E > pogonya) {
     podaction = 21;
     let ol = document.createElement('ol');
     ol.innerHTML = 'Вы набросились на вора, вжав его в бетон<br><br><strong>Грабитель: </strong>Пощадите, прошу! У меня дочь и жена, мне нечем их кормить!';
     document.body.before(ol);
     Variant1 = '1. Я не верю тебе. Сейчас ты умрёшь! (Атаковать)';
     Variant2 = '2. Ладно, верни талоны и вали отсюда.';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';
    } else {
     action = 0;
     let ol = document.createElement('ol');
     ol.innerHTML = 'Грабителю удалось скрыться, а вы изрядно вымотались.';
     document.body.before(ol); 
     Variant1 = '1. Пойти дальше';
     Variant2 = '';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';
    };

   } else if (action == 22) {
    if (U>5) {
     let ol = document.createElement('ol');
     ol.innerHTML = '<strong>Руководитель:</strong> Да, по тебе заметно. Ладно, слизь с тобой. Отработаешь как-нибудь потом.';
     document.body.before(ol);
     action = 0;
     Variant1 = '1. Пойти дальше';
     Variant2 = '';
     Variant3 = '';
    } else {
     let ol = document.createElement('ol');
     ol.innerHTML = 'Руководитель рассмеялся вам в лицо<br><br><strong>Руководитель:</strong> Ладно, кончай с этим и берись за работу.';
     document.body.before(ol);
     Variant2 = '';
    };

   } else if (action == 23) {
     let ol = document.createElement('ol');
     ol.innerHTML = 'Девушка с надеждой посмотрела на вас<br><br><strong>Тян:</strong> Моя бабушка... Она не отпирает гермодверь! Самосбор уже как семисменок кончился, а она не верит. Говорит, что мы твари самосборовы, что обманываем мы её, чтобы выманить. Ликвидаторы рукой махнули уже, а она же там с голоду умереть может! Я уже не знаю, что делать...';
     document.body.before(ol);
     Variant1 = '1. Мне некогда возиться с этим. Я ухожу.';
     Variant2 = '2. А что я получу взамен?';
     Variant3 = '3. Конечно, я помогу. Веди меня к герме.';
     podaction = 23;

   } else if (action == 24) {
     let ol = document.createElement('ol');
     if (U>1) {
      ver = getRndInteger(1, 8);
      ol.innerHTML = '<strong>Торговец:</strong> Мне плевать, одноногий ты или трёхрукий. Припасы продаются для всех.';
      document.body.before(ol);
      Variant1 = '1. Вернуться';
      Variant2 = '2. Купить пищконцентрат [2 талона]';
      Variant3 = '3. Купить антидот [3 талона]';
      if (ver == 1) {
       Variant4 = '4. Купить чёрную слизь [3 талона]';
      } else if (ver == 2) {
       Variant4 = '4. Купить яйцо арахны [7 талонов]';
      } else if (ver == 3) {
       Variant4 = '4. Купить грабли [10 талонов]';
      } else if (ver == 4) {
       Variant4 = '4. Купить противогаз [25 талонов]';
      } else if (ver == 5) {
       Variant4 = '4. Купить ржавый огнемёт [15 талонов]';
      } else if (ver == 6) {
       Variant4 = '4. Купить говняк [8 талонов]';
      } else if (ver == 7) {
       Variant4 = '4. Купить нож [5 талонов]';
      } else if (ver == 8) {
       Variant4 = '4. Купить самогон [5 талонов]';
      } else {
      }; 
      Variant5 = '5. Продать';
      podaction = 24;
     } else {
      action = 0;
      ol.innerHTML = '<strong>Торговец:</strong> Я не буду торговать с тобой. Ты мне не нравишься.';
      document.body.before(ol);
      Variant1 = '1. Пойти дальше';
      Variant2 = '';
     };    

  } else if (action == 25) {
     protivnikxp -= attack+Perk3;
      if (protivnikxp > 0) {
       let ol = document.createElement('ol');
       ol.innerHTML = `Дикий борщевод получает урон, у него осатётся ${protivnikxp} здоровья.<br><br>Дикий борщевод атакует вас.`;
       document.body.before(ol);
       protivnikAttack = getRndInteger(10, 17);
       xp -= protivnikAttack;
      if (protivnikxp < 30 && protivnikxp > 15) {
       let ol = document.createElement('ol');
       ol.innerHTML = '<strong>Дикий борщевод:</strong> Твои кости... Станут моими трофеями!';
       document.body.before(ol);
      } else {
      };
        
        if (xp <= 0) {
         Tit = 'Зарезанный';
         Kur = 'Оголодавший борщевод пожарил ваше мясо, как его учил его дикарь-отец';
         Variant1 = '';
         Variant2 = '';
         action = -1;
        } else {
        };
      } else {
       if (Krit < KritMax) {
        Krit+=50;
       } else {
       };
       exp+=40;
       let ol = document.createElement('ol');
       ol.innerHTML = 'Раненый борщевод попытался отползти от вас, но потеря крови была смертельной.<br><br>В его руке был зажат нож из клыка бетоноеда';
       document.body.before(ol);
       Variant1 = '1. Пойти дальше';
       Variant2 = '2. Взять нож в качестве оружия';
       action = 25;
       podaction = 25;
      };

   } else if (action == 26) {
    podaction = 26;
    let ol = document.createElement('ol');
    ol.innerHTML = 'Вы потянулись к голубоватой бутылке, но метвец неожиданно схватил вас за руку.<br><br><strong>Мертвец:</strong> Привет) Я нелюдь. А кто ты?';
    document.body.before(ol);
    Variant1 = '1. Я тоже нелюдь';
    Variant2 = '2. Отпусти меня, если не хочешь лишиться руки';
    Variant3 = '3. Я путешествую по гигахрущу. Извини за беспокойство. Я, пожалуй, пойду';
    Variant4 = '4. Мне просто хотелось предложить тебе выпить со мной!';
    Variant5 = '';

   } else if (action == 28) {
    let ol = document.createElement('ol');
    ol.innerHTML = 'Вы входите в помещение.<br><br><strong>Старший ликвидатор: </strong>Это закрытая территория. Чего тебе?';
    document.body.before(ol);
    Variant1 = '1. Выйти';
    Variant2 = '2. Я новобранец, прибыл по обмену из блока ПГЩ-12!';
    podaction = 28;

  } else if (action == 29) {
   if (vzlom == true) {
    code2(1, 21000-M*2000, kod, 3);
   } else {
    alert('Вряд ли здесь можно найти что-то ещё.')
   };
   ver = getRndInteger(1, 100);
   if (ver < 11-S*0.5) {
    Variant1 = '';
    Variant2 = '2. Атаковать.';
    Variant3 = '';
    ver = getRndInteger(1, 2);
    if (ver == 1) {
     let ol = document.createElement('ol');
     ol.innerHTML ='Пока вы возились с сейфом, сзади подкрался грибной человек<br><br>Грибной атакует вас.';
     document.body.before(ol);
     protivnikxp = 30;
     xp-=10;
    } else if (ver == 2) {
     let ol = document.createElement('ol');
     ol.innerHTML ='Пока вы возились с сейфом, позади вас образовалась жижа<br><br>Жижа атакует вас.';
     document.body.before(ol);
     protivnikxp = 40;
     xp-=15;
    } else {
    };
    podaction = 29;
   } else {
   };

  } else if (action == 30) {
   podaction = 30;
   protivnikxp-=attack+Perk3+Perk4*S6;
   xp-=getRndInteger(10, 15);
   let ol = document.createElement('ol');
   ol.innerHTML =`Жижа сморщилась от урона, у неё осталось ${protivnikxp} здоровья<br><br>Жижа атакует вас`;
   document.body.before(ol);
     Variant1 = '';
     Variant2 = '2. Атаковать';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';

  } else if (action == 32) {
   podaction = 32;
   c();

  } else if (action == 70) {
   podaction = 70;
   protivnikxp-=attack+Perk3+Perk4*S6;
   xp-=getRndInteger(20, 30);
   let ol = document.createElement('ol');
   ol.innerHTML =`Белая жижа сморщилась от урона, у неё осталось ${protivnikxp} здоровья<br><br>Белая жижа атакует вас`;
   document.body.before(ol);
     Variant1 = '';
     Variant2 = '2. Атаковать';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';

  } else if (action == 80) {
   podaction = 80;
   protivnikxp-=attack+Perk3+Perk4*S6;
   xp-=getRndInteger(20, 50);
   let ol = document.createElement('ol');
   ol.innerHTML =`Ликвидатор лишь вяло поморщился, у него осталось ${protivnikxp} здоровья<br><br>Ликвидатор дезинтегрирует вас гравижерновами, тяжело вздыхая.`;
   document.body.before(ol);
     Variant1 = '';
     Variant2 = '2. Атаковать';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';

  } else if (action == 31) {
   ver = getRndInteger(1, 100);
   if (ver > 11-U) {
    let ol = document.createElement('ol');
    ol.innerHTML = 'Искатель провёл вас по безопасным коридорам, и вскоре вы услышали знакомое лязганье';
    document.body.before(ol);
    action = 1;
     Variant1 = '1. Пойти дальше';
     Variant2 = '2. Зайти в столовую';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';  
    talon--;
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML = 'Ваш проводник долго вёл вас по коридорам, и, убедившись, что вы ушли достаточно далеко, смачно ударил вас по затылку. Очнувшись, вы поняли, что вас обокрали до нитки!';
    document.body.before(ol);
    talon=0;
    CherSlis=0;
    KrasSlis=0;
    RoseSlis=0;
    BelSlis=0;
    Samogon=0;
    Govnyak=0;
    pish=0;
    Antidot=0;
    Boost=0;
    Bomb=0;
    Ischez=0;
    NoOdezh();
    odezhda='';
    ChangeOdezh();
    gun='';
    action = 0;
     Variant1 = '1. Уныло пойти дальше';
     Variant2 = '';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';   
   };

  } else if (action == 33) {
   if (talon > 1) {
    let ol = document.createElement('ol');
    ol.innerHTML = 'Распределитель затрещал, и из него выпал свёрток концентрата';
    document.body.before(ol);
    talon--;
    pish++;
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML = 'У вас нет талонов.';
    document.body.before(ol);
   };

  } else if (action == 34) {
    let ol = document.createElement('ol');
    ol.innerHTML = 'После усердной работы, заключающейся в проштамповке подшипников и прочих деталей, вы вытираете пот со лба.<br><br>Да, вы вымотались, но честный труд окупается честной платой. Бригадир протягивает вам талон.';
    document.body.before(ol);
    talon++;
    if (zapas > 0) {
     zapas-=1000-E*100;
     sitost-=400;
    } else {
     let ol = document.createElement('ol');
     ol.innerHTML = 'Вы работаете без отдыха уже много смен. Это сказывается на вашем здоровье.';
     document.body.before(ol);
     xp-=Math.trunc(20-E*0.5);
     if (xp <= 0) {
      Tit = 'Переработанный';
      Kur = 'Бригадиры равнодушно потащили ваш труп из цеха и вернулись к работе';
      Variant1 = '';
      Variant2 = '';
      Variant3 = '';
     } else {
     };
    };
    days+=0.5;  

  } else {
  };

 } else if (podaction == 1 && talon > 0 && zarazh < 2 ) {
   if (U>1) {
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Повариха:</strong> Пожалуйста, угощайтесь!';
     document.body.before(ol);
    talon--;
    pish++;
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Повариха:</strong> Ба-а-атюшки, это что тут у нас за прихлебала? Иди кормись в своём блоке, тунеядец!';
    document.body.before(ol);
   };
  } else if (podaction == 1 && talon <= 0) {
   ol.innerHTML = '<strong>Повариха:</strong> Мы не кормим просто так! Показывай талон или проваливай!';
    document.body.before(ol);
  } else if (podaction == 1 && talon > 0 && zarazh >= 2) {
   ol = document.createElement('ol');
   ol.innerHTML = 'Жалкие попытки протянуть талончик фиолетовой культёй не вызвали всеобщего восторга<br><br><strong>Повариха:</strong> Кто-нибудь, помогите!!!';
    document.body.before(ol);
    action = -1;
     Tit = 'Избитый до смерти';
  Kur = 'Ваше уродливое чучело стало очередным трофеем в кабинете парткома';
    Variant1 = '';
    Variant2 = '';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
    
  } else if (podaction == 4) {
    if (U>1) {
    ol = document.createElement('ol');
    ol.innerHTML ='<strong>Медработник:</strong> Без предписаний антидоты не выдаются. Мне же нужно отчитываться за каждую ампулу! Впрочем, если у вас есть пара лишних талончиков на пищконцентрат, мы могли бы, скажем, списать какую-то часть... Лекарства ведь бывают бракованными, верно?';
    document.body.before(ol);
     Variant1 = '1. К сожалению, мне пора';
     Variant2 = '2. Поменять 2 талона на антидот';   
     podaction = 4.2;
    } else {
     ol = document.createElement('ol');
     ol.innerHTML ='<strong>Медработник:</strong> Зачем это, спрашивается? Без предписаний антидоты не выдаются.';
     document.body.before(ol);
    }; 

  } else if (podaction == 4.2) {
   if (talon > 1) {
    ol = document.createElement('ol');
    ol.innerHTML ='<strong>Медработник:</strong> Отлично! И я попрошу вас не распространяться об этом.';
    document.body.before(ol);
    Antidot++;
    talon -= 2;
   } else {
    ol = document.createElement('ol');
    ol.innerHTML ='<strong>Медработник:</strong> Я шутки шутить не намерен!';
    document.body.before(ol);
   };

   } else if (podaction == 4.3) {
    protivnikxp = 30;
    ol = document.createElement('ol');
    ol.innerHTML ='<strong>Медработник:</strong> Твоя речь связна, и ты ещё не похож на подгнивший труп, что странно. Нет, я не готов проводить операции такого рода, даже если бы и умел. Пожалуйста, уходи, пока тебя не заметили!';
    document.body.before(ol);
     Variant1 = '1. Выйти и пойти дальше';
     Variant2 = '';

  } else if (podaction == 5 || podaction == 5.5) {
   son();
   ver = getRndInteger(1, 100);
   if (ver < 3) {
    action = 0;
    podaction = 5.5;
   }else{
   };
  } else if (podaction == 6) {
      protivnikAttack = getRndInteger(1, 10);      
      protivnikxp -= attack+Perk3;
      if (protivnikxp > 0) {
       let ol = document.createElement('ol');
       ol.innerHTML = `Грибной получает урон, у него осатётся ${protivnikxp} здоровья.<br><br>Грибной кусает вас.`;
       document.body.before(ol);
       xp -= protivnikAttack;
        
        if (xp <= 0) {
         Tit = 'Самосбор поглотил вас';
         Kur = 'Ликвидаторы отскребали ваши останки с хохотом и улюлюканием';
         Variant1 = '';
         Variant2 = '';
         action = -1;
        } else {
        };
      } else {
       if (Krit < KritMax) {
        Krit+=30;
       } else {
       };
       exp+=20;
       let ol = document.createElement('ol');
       ol.innerHTML = 'Трупы грибных людей пронизаны грибницей, как будто это нервные окончания. Лучше его не трогать.';
       document.body.before(ol);
       Variant1 = '1. Пойти дальше';
       Variant2 = '';
       action = 0;
       podaction = 0;
      };
  } else if (podaction == 7) {
     protivnikxp -= attack+Perk3;
      if (protivnikxp > 0) {
       let ol = document.createElement('ol');
       ol.innerHTML = `Лифтовая арахна получает урон, у неё осатётся ${protivnikxp} здоровья.<br><br>Лифтовая арахна кусает вас.`;
       document.body.before(ol);
       xp -= protivnikAttack;
        
        if (xp <= 0) {
         Tit = 'Пропавший в шахте';
         Kur = 'Арахна бережно запеленала вашу тушу, чтобы накормить ею маленьких паучат';
         Variant1 = '';
         Variant2 = '';
         action = -1;
        } else {
        };
      } else {
       if (Krit < KritMax) {
        Krit+=25;
       } else {
       };
       exp+=30;
       let ol = document.createElement('ol');
       ol.innerHTML = 'Арахна мертва. Вы не верите, что вам удалось выжить и прихватываете с собой яйцо в качестве трофея.';
       document.body.before(ol);
       Variant1 = '1. Пойти дальше';
       Variant2 = '';
       yai++;
       action = 0;
       podaction = 0;
      };

  } else if (podaction == 8) {
     ol = document.createElement('ol');
     ol.innerHTML ='<strong>Сотрудник НИИ:</strong> Это хорошая новость! Они нужны нам для экспериментов. Мы готовы приобрести их за разумную плату.';
    document.body.before(ol);
     Variant1 = '1. Выйти и пойти дальше';
     Variant2 = '2. А разве Партия разрешает вам торговать талонами?';
     Variant3 = '3. Продать предметы';
     Variant4 = '4. Я могу воспользоваться вашей лабораторией?';
     podaction = 8.1;
  } else if (podaction == 8.1) {
   if (U > 2) {
    ol = document.createElement('ol');
    ol.innerHTML ='<strong>Сотрудник НИИ:</strong> Да сама Партия и дала нам указание поступать таким образом. Наивно думать, что там наверху не знают, о таких, как ты. Вы полезные обезьянки, которые таскают за нас каштаны из огня, вот вас и не трогают. А в обмен мы можем за разумную цену списать вам пару защитных комбинезонов, чтобы конечности от слизи не раславились.';
    document.body.before(ol);
     Variant2 = '2. О каких комбинезонах идёт речь?';
    podaction = 8.2;
   } else {
    ol = document.createElement('ol');
    ol.innerHTML ='<strong>Сотрудник НИИ:</strong> Это не твоего ума дело, отщепенец. Сдавай слизь в лабораторию и проваливай.';
    Variant2 = '';
    document.body.before(ol);
    podaction = 8.5;
   };
  } else if (podaction == 8.2) {
   ver = getRndInteger(1, 2);
   if (ver == 1 && metr < 3000) {
    ol = document.createElement('ol');
    ol.innerHTML ='<strong>Сотрудник НИИ:</strong> Да вот противогаз, например. Целый, прочный, и ты в нём целее будешь. Всего 20 талонов!';
    document.body.before(ol);
    Variant2 = '2. Купить противогаз (Здоровье +2) за 20 талонов';
    podaction = 8.41;
   } else if (ver == 1 && metr >= 3000) {
    ol = document.createElement('ol');
    ol.innerHTML ='<strong>Сотрудник НИИ:</strong> О, тебе понравится. Наша новая разработка: биоброня Т.Е.Л.О. Ты же в курсе, что розовая слизь имеет структуру, которая почти идентична мышечным тканям? Мы смогли сделать из неё костюм, который будет твоим вторыми телом. Сильным и мощным телом. Что скажешь?';
    document.body.before(ol);
    Variant2 = '2. Купить биоброню Т.Е.Л.О. (Здоровье +8) за 80 талонов';
    podaction = 8.43;
   } else if (ver == 2 && metr < 3000) {
    ol = document.createElement('ol');
    ol.innerHTML ='<strong>Сотрудник НИИ:</strong> Комбинезон лаборанта! У нас как раз один недавно... Уволился. В нём ты можешь не бояться заражения продуктами самосбора и носить с собой больше образцов.';
    document.body.before(ol);
    Variant2 = '2. Купить Комбинезон лаборанта (Выносливость +2) за 25 талонов';
    podaction = 8.42;
   } else if (ver == 2 && metr >= 3000) {
    ol = document.createElement('ol');
    ol.innerHTML ='<strong>Сотрудник НИИ:</strong> Мы много экспериментировали с прозрачной слизью, которая считается бесполезной. Однако у нас получилось вмонтировать её элементы в комбинезон. Он отражает 80% световых лучей, что делает тебя практически невидемым. Берёшь?';
    document.body.before(ol);
    Variant2 = '2. Купить комбинезон из прозрачной слизи (Скрытность +8) за 80 талонов';
    podaction = 8.44;
   } else {
   };
  } else if (podaction == 8.41) {
   if (talon > 19) {
    talon-=20-U8*10;
    NoOdezh();
    odezhda = 'Противогаз';
    ChangeOdezh();
    Variant2 = '';
    podaction = 8.5;
   } else {
    ol = document.createElement('ol');
    ol.innerHTML ='<strong>Сотрудник НИИ:</strong> Я себя надуть не позволю. Плати, как условились.';
    document.body.before(ol);
   };
  } else if (podaction == 8.42) {
   if (talon > 24) {
    talon-=25-U8*12;
    NoOdezh();
    odezhda = 'Комбинезон лаборанта';
    ChangeOdezh();
    Variant2 = '';
    podaction = 8.5;
   } else {
    ol.innerHTML ='<strong>Сотрудник НИИ:</strong> У тебя не хватает талонов. Либо плати, либо закрой герму с другой стороны.';
    document.body.before(ol);
   };
  } else if (podaction == 8.43) {
   if (talon > 79) {
    talon-=80-U8*40;
    NoOdezh();
    odezhda = 'Биоброня "Т.Е.Л.О."';
    ChangeOdezh();
    Variant2 = '';
    podaction = 8.5;
   } else {
    ol.innerHTML ='<strong>Сотрудник НИИ:</strong> Дороговато, понимаю, но торговать такими вещами опасно, сам понимаешь. Партия меня за это по головке не погладит!';
    document.body.before(ol);
   };
  } else if (podaction == 8.44) {
   if (talon > 79) {
    talon-=80-U8*40;
    NoOdezh();
    odezhda = 'Комбинезон из прозрачной слизи';
    ChangeOdezh();
    Variant2 = '';
    podaction = 8.5;
   } else {
    ol.innerHTML ='<strong>Сотрудник НИИ:</strong> Приходи, когда у тебя будут талоны. Или слизь.';
    document.body.before(ol);
   };

  } else if (podaction == 9) {
    Variant1 = '';
    Variant2 = '2. Атаковать';
    protivnikAttack = getRndInteger(1, 10);      
     protivnikxp -= attack+Perk3;
      if (protivnikxp > 0) {
       let ol = document.createElement('ol');
       ol.innerHTML = `Мутировавшая тварь получает урон, у неё осатётся ${protivnikxp} здоровья.<br><br>Мутировавшая тварь атакует вас.`;
       document.body.before(ol);
       xp -= protivnikAttack;
        
        if (xp <= 0) {
         Tit = 'Самосбор поглотил вас';
         Kur = 'Ликвидаторы отскребали ваши останки с хохотом и улюлюканием';
         Variant1 = '';
         Variant2 = '';
         action = -1;
        } else {
        };
      } else {
       if (Krit < KritMax) {
        Krit+=25;
       } else {
       };
       exp+=15;
       let ol = document.createElement('ol');
       ol.innerHTML = 'Мутировавшая тварь корчится в агонии и умирает.';
       document.body.before(ol);
       Variant1 = '1. Пойти дальше';
       Variant2 = '2. Осмотреть помещения';
       action = 9;
       podaction = 0;
      };

  } else if (podaction == 10.1) {
    let ol = document.createElement('ol');
    ol.innerHTML = 'Эта гермодверь неисправна, нужно бежать дальше!';
    document.body.before(ol);
    Variant2 = '';
    podaction = 0;
    vrema--;
  } else if (podaction == 10.2) {
    vrema = 0;
    let ol = document.createElement('ol');
    ol.innerHTML = 'Вы резко захлопываете герму, проворачивая вентиль до упора.<br><br>Отдышавшись, вы поворачиваетесь, чтобы оглядеться. На вид обычная жилая ячейка.<br><br>Кто знает, сколько вам придётся тут жить?';
    document.body.before(ol);
    Samosbor();
    samosbor+=days;
     kod = getRndInteger(1, 210-M*20);
     Variant1 = '1. Выйти и пойти дальше';
     Variant2 = '2. Спать.';
     Variant3 = '3. Читать';
     Variant4 = '4. Осмотреть антресоль';
     Variant5 = '';
     podaction = 10.21;

  } else if (podaction == 10.21) {
   son();

  } else if (podaction == 11) {
    Variant1 = '';
    Variant2 = '2. Атаковать';
    Variant3 = '';
    protivnikAttack = getRndInteger(1, 10);      
     protivnikxp -= attack+Perk3;
      if (protivnikxp > 0) {
       let ol = document.createElement('ol');
       ol.innerHTML = `Мутировавшая тварь получает урон, у неё осатётся ${protivnikxp} здоровья.<br><br>Мутировавшая тварь атакует вас.`;
       document.body.before(ol);
       xp -= protivnikAttack;
        
        if (xp <= 0) {
         Tit = 'Самосбор поглотил вас';
         Kur = 'Ликвидаторы отскребали ваши останки с хохотом и улюлюканием';
         Variant1 = '';
         Variant2 = '';
         action = -1;
        } else {
        };
      } else {
       if (Krit < KritMax) {
        Krit+=25;
       } else {
       };
       exp+=15;
       let ol = document.createElement('ol');
       ol.innerHTML = 'Мутировавшая тварь корчится в агонии и умирает.';
       document.body.before(ol);
       Variant1 = '1. Пойти дальше';
       Variant2 = '2. Осмотреть помещения';
       action = 9;
       podaction = 0;
      };

  } else if (podaction == 12) {
   KrasSlis++;
    if (slisesbornik == true || E8 > 0) {
     ol = document.createElement('ol');
     ol.innerHTML = 'Вы соскребли с бетона красную слизь.';
     document.body.before(ol);
    } else if (slisesbornik == false) {
     ver = getRndInteger(1, 4);
      ol = document.createElement('ol');
      ol.innerHTML = 'Вы соскребли с бетона красную слизь в надежде, что такой тесный контакт с продуктами самосбора не станет причиной заражения.';
      document.body.before(ol);
      if (ver == 1) {
       contact = true;
      } else {
      };
    } else {
    };
    Variant1 = '1. Продолжить';
    Variant2 = '';
    podaction = 0;


  } else if (podaction == 13) {
     protivnikxp-=attack-Perk3;
      if (protivnikxp > 10 && protivnikxp < 20) {
       let ol = document.createElement('ol');
       ol.innerHTML = '<strong>Ликвидатор:</strong> Ах ты гнида!';
       document.body.before(ol);
      } else {
      };
      if (protivnikxp > 0) {
       let ol = document.createElement('ol');
       ol.innerHTML = `Ликвидатор получает урон, у него остаётся ${protivnikxp} здоровья.<br><br>Ликвидатор огрел вас граблями.<br><br>Ликвидатор огрел вас граблями.`;
       document.body.before(ol);
       protivnikAttack = getRndInteger(1, 10);
       xp -= protivnikAttack;
       protivnikAttack = getRndInteger(1, 10);
       xp -= protivnikAttack;
       Variant1 = '';
       Variant2 = '2. Атаковать';
       Variant3 = '';
        if (xp <= 0) {
         Tit = 'Погибший в бою';
         Kur = 'Ликвидаторы с удовольствием помочились на ваше тело, забыв, что им же его и выносить';
         Variant1 = '';
         Variant2 = '';
         action = -1;
        } else {
        };
      } else {
       if (Krit < KritMax) {
        Krit+=50;
       } else {
       };
       exp+=40;
       let ol = document.createElement('ol');
       ol.innerHTML = 'Ликвидатор отлетел в стену, выпустив грабли из рук. Остальные то ли побежали звать подкрепление, то ли не захотели с вами связываться.<br><br>Они врубили тревогу. Надо убираться отсюда.';
       document.body.before(ol);
       Variant1 = '1. Пойти дальше';
       Variant2 = '2. Подобрать грабли';
       action = 0;
       podaction = 13.1;
      };

  } else if (podaction == 13.1) {
   podaction = 0;
   gun = 'Грабли';
   Variant2 = '';

  } else if (podaction == 14.01) {
   podaction = 0;
   c();

  } else if (podaction == 14.02) {
   let ol = document.createElement('ol');
   ol.innerHTML = '<strong>Партрук:</strong> Отлично, я знал, что на вас можно рассчитывать!';
   document.body.before(ol);
   podaction = 14.1;
    Variant1 = '1. Поговорить с партруком';
    Variant2 = '2. Зайти в генераторную';
    Variant3 = '';

  } else if (podaction == 14.1) {
   protivnikxp = 50;
   let ol = document.createElement('ol');
   ol.innerHTML = 'На входе вы слышите невыносимое скрежетание. Осторожно проникнув в помещение, вы видите несколько трупов и юного паренька с огнемётом в костюме ликвидатора';
   document.body.before(ol);
    Variant1 = '1. Выйти';
    Variant2 = '2. "Эй, ты слышишь меня? Есть разговор!"';
    Variant3 = '3. Подкрасться и ударить';
   podaction = 14.12;

  } else if (podaction == 14.12) {
   let ol = document.createElement('ol');
   ol.innerHTML = '<strong>Младший ликвидатор: </strong> Кто вы? Кто вас сюда послал? Я уже выдвинул все свои требования, не подходите ко мне, назад!';
   document.body.before(ol);
    Variant1 = '1. Требования? Да кто ты такой, сопляк?';
    Variant2 = '2. Какие требования? Меня здесь не было. Я здесь, чтобы разобраться с этой ситуацией.';
    Variant3 = '';
   podaction = 14.13;

  } else if (podaction == 14.13) {
   let ol = document.createElement('ol');
   ol.innerHTML = '<strong>Младший ликвидатор: </strong>Теперь я вижу, вас прислали... Наш партрук – это зверь, это чудовище!<br><br><strong>Младший ликвидатор: </strong> Он держит нас в отвратительных условиях. Я три семисменка не спал, три! Я хотел сбежать от него хоть куда-нибудь! Я хочу, чтобы его сменили! Поэтому я здесь, и я буду здесь, пока его не сменят!<br><br><strong>Младший ликвидатор: </strong> Этот падонок побоялся даже посылать сюда моих товарищей, потому что мы все от него не в восторге, нам это осточертело. А эти, эти трупы — ликвидаторы из соседнего блока. Они и минуты против меня не протянули, слабаки.<br><br><strong>Младший ликвидатор: </strong> Если вы правда хотите мне помочь, поговорите с моими товарищами. Пусть они расскажут вам, как нам здесь живётся. И пусть приходят ко мне.';
   document.body.before(ol);
    Variant1 = '1. Выйти';
    Variant2 = '2. Я здесь как раз для того, чтобы поменять его. Но для этого мне нужно убедить начальство, что ситуация нормализовалась. Пойдём со мной, и мы назначим вам в управляющего другого члена партии.';
    Variant3 = '';
   podaction = 14.15;

  } else if (podaction == 14.14) {
     protivnikxp-=attack-Perk3;
     if (protivnikxp > 10 && protivnikxp < 20) {
       let ol = document.createElement('ol');
       ol.innerHTML = '<strong>Ликвидатор:</strong> Я не сдамся Лучше уходи!';
       document.body.before(ol);
      } else {
      };
      if (protivnikxp > 0) {
       let ol = document.createElement('ol');
       ol.innerHTML = `Младший ликвидатор получает урон, у него остаётся ${protivnikxp} здоровья.<br><br>Ликвидатор направил на вас струю огня.`;
       document.body.before(ol);
       protivnikAttack = getRndInteger(10, 20);
       xp -= protivnikAttack;
       Variant1 = '';
       Variant2 = '2. Атаковать';
       Variant3 = '';
        if (xp <= 0) {
         Tit = 'Погибший в бою';
         Kur = 'Ваш труп остался гнить в генераторной';
         Variant1 = '';
         Variant2 = '';
         action = -1;
        } else {
        };
      } else {
       if (Krit < KritMax) {
        Krit+=50;
       } else {
       };
       exp+=40;
       let ol = document.createElement('ol');
       ol.innerHTML = 'Младший ликвидатор закончил своё существование.<br><br>Вы вытащили поломанные грабли из генератора.<br><br>Освещение нормализовалось, повсюду начали вновь зажигаться лампы.';
       document.body.before(ol);
       Variant1 = '1. Выйти';
       Variant2 = '';
       podaction = 14.91;
      };

  } else if (podaction == 14.15) {
   if (U > 6) {
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Младший ликвидатор: </strong> Хорошо, да, я понимаю. Вы поймите, я бы не стал этого делать, если бы положение было иным. Спасибо, я..<br><br>Обезоруженного ликвидатора скручивают на выходе из генераторной и уводят ликвидаторы из соседнего блока.<br><br>То тут, то там снова загорается свет.<br><br><strong>Партрук:</strong> С бунтом покончено, а генераторная работает в привычном режиме. Я ещё привлеку к ответственноти тех, кто отказался ликвидировать этого засранца. Ну, а вас я прошу принять это в знак моей благодарности. И ступайте отсюда с миром!';
    document.body.before(ol);
    Variant1 = '1. Пойти дальше';
    Variant2 = '';
    Variant3 = '';
    action = 0;
    podaction = 0;
    talon+=50
    update();
   } else {
    ol = document.createElement('ol');
    ol.innerHTML = '<strong>Младший ликвидатор: </strong>Я не верю ни одному твоему слову, паскуда. Тварь!<br><br>Младший ликвидатор направил на вас струю огня.';
    document.body.before(ol);
    xp-=15;
    Variant1 = '';
    Variant2 = '2. Атаковать';
    Variant3 = '';
    podaction = 14.14;
   };

  } else if (action == 14 && podaction == 14.3) {
    ol = document.createElement('ol');
    ol.innerHTML = '<strong>Партрук: </strong>Видите ли... Некоторые из ликвидаторов — близкие товарищи бунтаря. У меня есть основания сомневаться в их преданности. Прямо я этого, понятное дело, сказать не могу. Но в наших интересах решить проблему тихо, с минимумом жертв. В этом ваша задача.';
    document.body.before(ol);

  } else if (action == 14 && podaction == 14.4) {
   ol = document.createElement('ol');
   ol.innerHTML = '<strong>Ликвидатор:</strong> Потому что наш руководитель – ссыкло последнее. Коридоры патрулируют ликвидаторы из другого блока. А мы... Сам видишь.<br><br><strong>Старший ликвидатор:</strong> Чёрт, если бы мой батя увидел, чем я занимаюсь, он бы мне в рожу плюнул.';
   document.body.before(ol);
   Variant1 = '1. Выйти';
   Variant2 = '2. Вам не нравится ваш партрук?';
   Variant3 = '';
   podaction = 14.41;

  } else if (action == 14 && podaction == 14.41) {
   ol = document.createElement('ol');
   ol.innerHTML = '<strong>Старший ликвидатор:</strong> Не нравится? Да он нас с дерьмом мешает регулярно.<br><br><strong>Ликвидатор:</strong> Славке Сычёву досталось, конечно, психанул он с генератором. Жаль пацана, но приказ есть приказ. Он его не выполнил – его пристрелят. И всё будет по-старому. Чёрт, опять горячая не льётся.';
   document.body.before(ol);
   Variant1 = '1. Выйти';
   Variant2 = '2. И вы допустите, чтобы его пристрелили?';
   podaction = 14.42;

  } else if (action == 14 && podaction == 14.42) {
   ol = document.createElement('ol');
   ol.innerHTML = '<strong>Старший ликвидатор:</strong> А что ты предлагаешь? Ты вообще откуда такой умный взялся?';
   document.body.before(ol);
   Variant1 = '1. Выйти';
   Variant2 = '2. Я здесь, чтобы разрешить ситуацию. И решение я вижу только одно. Если вы допустите такое отношение к Славке, завтра это же сделают и с вами. Сами же сказали, что партрук вам не доверяет. Или вам в радость кастрюли натирать?';
   podaction = 14.43;

  } else if (action == 14 && podaction == 14.43) {
   ol = document.createElement('ol');
   ol.innerHTML = '<strong>Ликвидатор:</strong> Дело говорит. И правда за нами придут. Перешёптываются люди об этом. Надо что-то с этим сделать.<br><br><strong>Старший ликвидатор:</strong> Бросайте ложки, мужики. Славку надо спасать.';
   document.body.before(ol);
   Variant1 = '1. Выйти';
   Variant2 = '';
   podaction = 14.88;

  } else if (action == 14 && podaction == 14.95) {
   NoOdezh();
   odezhda = 'Куртка из чешуи бетоноеда';
   ChangeOdezh(); 
   Variant2 = '';
   action = 0;
   podaction = 0;

  } else if (action == 15 && podaction == 15) {
     podaction = 15.2;
     let ol = document.createElement('ol');
     ol.innerHTML ='<strong>Бомж:</strong> Ааа, намекаешь на гравижернова? Мощная вещь. Я только один раз видел их в действии. Кишки наружу! Мой маленький сын был в восторге. Но что, если я скажу тебе, что слышал об оружии с большим уроном?';
     document.body.before(ol);
   Variant1 = '2. Продолжай';
   Variant2 = '';
   Variant3 = '';
   Variant4 = '';
   Variant5 = '';

  } else if (action == 15 && podaction == 15.2) {
     podaction = 0;
     action = 0;
     let ol = document.createElement('ol');
     ol.innerHTML ='<strong>Бомж:</strong> Те самые. Загадочные символы. Один похож на кривую трубу, другой на молоток. Это реликт! Он существует! Но его прячут, прячут. Нужно обладать поистине мощным организмом, чтобы даже поднять эти две железки!<br><br>Вы хотели распросить безъячейного подробнее, но он почесался и поковылял в другую сторону';
     document.body.before(ol);
   Variant1 = '1. Пойти дальше.';
   Variant2 = '';
   Variant3 = '';
   Variant4 = '';
   Variant5 = '';

  } else if (action == 16 && podaction == 16) {
    podaction = 16.1
    let ol = document.createElement('ol');
     ol.innerHTML ='<strong>Вы: </strong>Товарищи ликвидаторы, этот человек только что пытался продать мне наркотическое вещество!<br><br>Ликвидаторы подошли и переглянулись<br><br><strong>Торговец: </strong>И в мыслях не было. Вы лучше его карманы проверьте. Найдёте много интересного. Добросьте до нужного веса только, нам отчёт сдавать через два семисменка.<br><br>Торговец снимает с тебя плащ, за которым пряталасть форма старшего ликвидатора.<br><br><strong>Ликвидатор: </strong>Ого-го, товарищ, что это у вас в кармане? И что же вы теперь скажете в своё оправдание?';
     document.body.before(ol);
     protivnikxp = 50;
     Variant1 = '1. Бежать';
     Variant2 = '2. Вы... Вы меня подставили! Я расскажу об этом начальству!';
     Variant3 = '3. У меня с собой колба чёрной слизи. Хотите, чтобы я её вам в рожу выплеснул? Отпустите меня.';
     Variant4 = '4. Это не то, о чём вы подумали. Это просто новый образец слизи. И если Партия его не получит, крайними будете вы.';
     Variant5 = '5. Мужики, да я ж сам ликвидатор с блока ГАШ-228! Мы не можем отчётность закрыть просто, вот я и пошёл по блокам нариков ловить!';

  } else if (action == 16 && podaction == 16.1) {
    let ol = document.createElement('ol');
     ol.innerHTML ='<strong>Ликвидатор:</strong> Хорош бузить, говноед. Напишешь пару имён в чистосердечном, и мы тебя не уничтожим, а всего лишь посадим.';
     document.body.before(ol);
    Variant2 = '2. Атаковать.';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
    podaction = 16.2;

  } else if (action == 16 && podaction == 16.2) {
     if (podaction == 16.2) {
      protivnikxp-=attack-Perk3;
      let ol = document.createElement('ol');
      ol.innerHTML =`<strong>Ликвидатор:</strong> На драку напрашиваешься, гнида?<br><br>Ликвидатор получает урон, у него остаётся ${protivnikxp} здоровья.<br><br>Ликвидатор направил на вас струю огня.`;
      document.body.before(ol);
       protivnikAttack = getRndInteger(10, 20);
       xp -= protivnikAttack;
     } else {
     };
    Variant1 = '';
    podaction = 16.3;

  } else if (action == 16 && podaction == 16.3) {
      if (protivnikxp > 0) {
       protivnikxp-=attack-Perk3;
       let ol = document.createElement('ol');
       ol.innerHTML = `Ликвидатор получает урон, у него остаётся ${protivnikxp} здоровья.<br><br>Ликвидатор направил на вас струю огня.`;
       document.body.before(ol);
       protivnikAttack = getRndInteger(10, 20);
       xp -= protivnikAttack;
        if (xp <= 0) {
         Tit = 'Погибший в бою';
         Kur = 'Ваш труп остался гнить на холодном бетонном полу';
         Variant1 = '';
         Variant2 = '';
         action = -1;
        } else {
        };
      } else {
       if (Krit < KritMax) {
        Krit+=50;
       } else {
       };
       exp+=40;
       let ol = document.createElement('ol');
       ol.innerHTML = 'Ликвидатор закончил своё существование. Нужно выбираться отсюда!';
       document.body.before(ol);
       Variant1 = '1. Пойти дальше';
       Variant2 = '';
       action = 0;
       podaction = 0;
      };

  } else if (podaction == 17) {
    podaction = 17.1;
     let ol = document.createElement('ol');
     ol.innerHTML ='<strong>Человек: </strong>Спасибо, что согласились уделить нам время! Чернобог, он же Самосборотворец – единый создатель всего нашего мира. Слизь – его дар неведомый, который мы призваны постигнуть, чтобы стать ближе к Божеству нашему.';
     document.body.before(ol);
     Variant1 = '1. Очень увлекательно! И я могу стать к нему ближе? и ОН поможет мне?';
     Variant2 = '2. Но я видел, как слизь влияет на людей. Они страдают.';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '5. Вы сектанты, и по законам Партии вас ждёт немедленное уничтожение. (Атаковать)';

  } else if (podaction == 17.1) {
    podaction = 17.22;
     let ol = document.createElement('ol');
     ol.innerHTML ='<strong>Человек: </strong>О, это естественно, что вы так думаете! Партия потратила века на то, чтобы убедить, что слизь чужда нашему организму. Но это дар, дар, который бережливо Создателем нашим после каждого очищения оставляется. А в очищении погибают все те, что недостоин дара Божьего!';
     document.body.before(ol);
     Variant2 = '2. Похоже, этот Чернобог жесток, если он может допускать такое';

  } else if (podaction == 17.12) {
   if (U>8) {
    let ol = document.createElement('ol');
    ol.innerHTML ='Человек хмурится<br><br><strong>Человек: </strong>Что же, твоя нерешительность объяснима, и мы склонны поверить, что Чёрный путь приведёт тебя к правильному решению. Мы вернёмся сюда завтра и потребуем ответа.<br><br>Сектанты откланиваются и направляются в другой блок.';
    document.body.before(ol);
    action = 0;
    podaction = 0;
     Variant1 = '1. Пойти дальше';
     Variant2 = '';
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML ='Человек хмурится<br><br><strong>Человек: </strong>Отвергать дары Чернобога — неуважение к нему. Ты умрёшь, подобно еретику!<br><br>Человек атакует вас.';
    document.body.before(ol);
    protivnikAttack = getRndInteger(5, 10);
    xp -= protivnikAttack;
    podaction = 17.5;
     Variant1 = '';
     Variant2 = '2. Атаковать';
     Variant3 = '';
   };

  } else if (podaction == 17.22) {
    podaction = 17.23;
     let ol = document.createElement('ol');
     ol.innerHTML ='Человек невнятно кряхтит<br><br><strong>Человек: </strong>Нет, ты ошибаешься. Чернобог принимает всех, кто покоряется ему. Но он же наш защитник. Он оберегает нас от врагов!';
     document.body.before(ol);
     Variant1 = '';
     Variant2 = '2. Но если он и правда бог, зачем он допустил их существование?';
     Variant3 = '';
     Variant4 = '';

  } else if (podaction == 17.23) {
    podaction = 17.24;
     let ol = document.createElement('ol');
     ol.innerHTML ='<strong>Человек: </strong>Потому что он даёт людям свободу воли! Люди имеют право выбрать!';
     document.body.before(ol);
     Variant2 = '2. Получается, альтернатива вашей вере – это смерть? Как вы тогда сможете понять, что людьми движет любовь к Чернобогу, а не низменный страх перед ним?';

  } else if (podaction == 17.24) {
   if (U > 7) {
    let ol = document.createElement('ol');
    ol.innerHTML ='<strong>Человек: </strong>Я... Я не знаю, я никогда не задумывался об этом... А может, мною тоже движет страх? Ох, мне нужно многое обдумать. Видимо, моя вера ещё не так крепка для совершения Чёрной проповеди. Вот, возьмите, мне это пока больше ни к чему. А мы пойдём. Нужно многое обдумать.<br><br>Человек протягивает вам колбу белой слизи и уходит.';
    document.body.before(ol);
    BelSlis++;
    Variant1 = '1. Пойти дальше';
    Variant2 = '';
    Variant5 = '';
    action = 0;
    podaction = 0;
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML ='<strong>Человек: </strong> Ты... Слишком много болтаешь! Ты умрёшь, как положено еретику!<br><br>Человек атакует вас.';
    document.body.before(ol);
    protivnikAttack = getRndInteger(5, 10);
    xp -= protivnikAttack;
    podaction = 17.5;
    Variant1 = '';
    Variant2 = '2. Атаковать';
    Variant5 = '';    
   };

  } else if (podaction == 17.5) {
    Variant1 = '';
    Variant2 = '2. Атаковать';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
    protivnikAttack = getRndInteger(5, 10);      
     protivnikxp -= attack-Perk3;
      if (protivnikxp > 0) {
       let ol = document.createElement('ol');
       ol.innerHTML = `Человек получает урон, у него осатётся ${protivnikxp} здоровья.<br><br><strong>Человек:</strong> Во славу Чернобога!<br><br>Человек атакует вас.`;
       document.body.before(ol);
       xp -= protivnikAttack;
        
        if (xp <= 0) {
         Tit = 'Самосбор поглотил вас';
         Kur = 'Сектанты влили белую слизь вам в рот';
         Variant2 = '';
         action = -1;
        } else {
        };
      } else {
       if (Krit < KritMax) {
        Krit+=30;
       } else {
       };
       exp+=25;
       ver = getRndInteger(1, 3);
       let ol = document.createElement('ol');
       if (ver < 3) {
        ol.innerHTML = 'Человек корчится в агонии и умирает. Второй человек куда-то бесследно пропал.<br><br>В кармане мёртвого сектанта вы нашли чудом уцелевшую колбу белой слизи!';
        document.body.before(ol);
        BelSlis++;
       } else {
        ol.innerHTML = 'Человек корчится в агонии и умирает. Второй человек куда-то бесследно пропал.<br><br>Колба былой слизи, которую мёртвый сектант хотел предложить вам, разбилась в кармане и изменила структуру его рёбер.';
        document.body.before(ol);
       };
       Variant1 = '1. Пойти дальше';
       Variant2 = '';
       action = 0;
       podaction = 0;
      };

  } else if (podaction == 18) {
    let ol = document.createElement('ol');
    ol.innerHTML ='<strong>Исследователь: </strong>Секты, культы, обряды, ритуалы. Поведение человека в различных условиях. Мы также занимаемся сбором и систематизацией информации. Поэтому, если у тебя есть книги, мы готовы обменять их на талоны.';
    document.body.before(ol);
    protivnikAttack = getRndInteger(5, 10);
    xp -= protivnikAttack;
    podaction = 18.1;
    Variant1 = '1. Выйти и пойти дальше';
    Variant2 = '2. Короче, говоря простым языком, вы балаболы. А где настоящие учёные, с пробирками и технологиями?';
    Variant3 = '3. Продать книги';
    Variant4 = '4. Может, я смогу вам помочь в ваших исследованиях?';

  } else if (podaction == 18.1) {
    let ol = document.createElement('ol');
    if (U > 8) {
     ol.innerHTML ='<strong>Исследователь: </strong>Эти слова обидны. Однако я не могу винить вас за ваше мнение. Партия давно оттеснила нас на второй план в массовом сознании.';
     document.body.before(ol);
     podaction = 18.2;
     Variant1 = '1. Выйти и пойти дальше';
     Variant2 = '2. Это потому что вы бесполезны, как и всё ваше перекладывание бумажек? Или потому что другие учёные делают новые гермодвери и косюмы, работают во блвго прогресса, а от вас инноваций ждать не приходится?';
     Variant3 = '3. Продать книги';
     Variant4 = '4. Может, я смогу вам помочь в ваших исследованиях?'; 
    } else {
     ol.innerHTML ='<strong>Исследователь: </strong>Если ты не считаешь нас учёными, зачем заявился сюда? Тебе здесь делать нечего.<br><br>С холодной вежливостью вас сопроводили к выходу.';
     document.body.before(ol);
     action = 0;
     podaction = 0;
     Variant1 = '1. Пойти дальше';
     Variant2 = '';
     Variant3 = '';
     Variant4 = '';
    };

  } else if (podaction == 18.2) {
    let ol = document.createElement('ol');
     ol.innerHTML ='Исследователь тяжело вздыхает<br><br><strong>Исследователь: </strong>Меня утомили ваши насмешки. Подите вон.';
     document.body.before(ol);
     action = 0;
     podaction = 0;
     Variant1 = '1. Пойти дальше';
     Variant2 = '';
     Variant3 = '';
     Variant4 = '';

  } else if (podaction == 18.4) {
   let protivnikxp = 50;
   if (S > 7) {
    podaction = 18.8;
    let ol = document.createElement('ol');
    ol.innerHTML ='Вы незаметно зашли того, что когда-то было жилой ячейкой. Внутри находились существа, которые весьма отдалённо напоминают людей.<br><br><strong>Мутант: </strong>Итак, давайте обсудим наши текущие дела...<br><br>Вы увидели, что у одного из мутантов внутри балахона торчит искомая рукопись.';
    document.body.before(ol);
    if (Perk5 > 0) {
     Variant1 = `1. Выкрасть рукопись (шанс ${(S+M)/0.2}%)`;
    } else {
     Variant1 = '1. Выкрасть рукопись';
    };
    Variant2 = '2. Атаковать';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML ='Вас заметили.';
    document.body.before(ol);
    podaction = 18.4;
    b();
   };
  } else if (podaction == 18.41 || podaction == 18.8) {
    podaction = 18.9;
    let ol = document.createElement('ol');
    ol.innerHTML ='<strong>Одноглазый мутант: </strong>Что ты делаешь, дуралей?';
    document.body.before(ol);
    Variant1 = '';
    Variant2 = '2. Атаковать';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
    c();

  } else if (podaction == 18.9) {
       if (protivnikxp > 0) {
         Variant1 = '';
         Variant2 = '2. Атаковать';
         Variant3 = '';
        protivnikxp-=attack+Perk3;
        let ol = document.createElement('ol');
        ol.innerHTML = `Мутант получает урон, у него остаётся ${protivnikxp} здоровья.<br><br>Мутант бьёт вас щупальцем.<br><br>Одноглазый мутант направляется к выходу`;
        document.body.before(ol);
        protivnikAttack = getRndInteger(10, 25);
        xp -= protivnikAttack;
        if (xp <= 0) {
         Tit = 'Погибший в бою';
         Kur = 'Мутанты провели обряд, добавив к вашему телу девятнадцать спин';
         Variant1 = '';
         Variant2 = '';
         Variant3 = '';
         action = -1;
        } else {
        };
       } else {
       if (Krit < KritMax) {
        Krit+=50;
       } else {
       };
       exp+=50;
        let ol = document.createElement('ol');
        ol.innerHTML = 'Последний мутант падает наземь<br><br><strong>Одноглазый мутант: </strong>Ну кто тебя просил их убивать? Неужели нельзя было действовать аккуратней? Теперь новую секту искать, втираться в доверие... Чернобог тебя подери! Уходи отсюда, я сам отнесу рукопись. Толку от тебя никакого!';
        document.body.before(ol);
         Variant1 = '1. Пойти дальше';
         Variant2 = '';
         action = 0;
         podaction = 0;
       };

  } else if (podaction == 29) {
    Variant1 = '';
    Variant2 = '2. Атаковать';
    if (ver == 1) {
     protivnikAttack = getRndInteger(1, 10);      
      protivnikxp -= attack+Perk3;
       if (protivnikxp > 0) {
        let ol = document.createElement('ol');
        ol.innerHTML = `Грибной получает урон, у него осатётся ${protivnikxp} здоровья.<br><br>Грибной атакует вас.`;
        document.body.before(ol);
        xp -= protivnikAttack;

         if (xp <= 0) {
          Tit = 'Самосбор поглотил вас';
          Kur = 'Ликвидаторы отскребали ваши останки с хохотом и улюлюканием';
          Variant1 = '';
          Variant2 = '';
          action = -1;
         } else {
         };
       } else if (protivnikxp <= 0) {
       if (Krit < KritMax) {
        Krit+=30;
       } else {
       };
       exp+=20;
        let ol = document.createElement('ol');
        ol.innerHTML = 'Грибной человек упал. Больше не поднимется';
        document.body.before(ol);
        Variant1 = '1. Пойти дальше';
        Variant2 = '2. Осмотреть помещения';
        action = 29;
        podaction = 0;
       };
    } else if (ver == 2) {

     protivnikAttack = getRndInteger(10, 15);      
      protivnikxp -= attack+Perk3;
       if (protivnikxp > 0) {
        let ol = document.createElement('ol');
        ol.innerHTML = `Жижа получает урон, у неё осатётся ${protivnikxp} здоровья.<br><br>Жижа атакует вас.`;
        document.body.before(ol);
        xp -= protivnikAttack;
        if (protivnikxp < 20 && protivnikxp > 10) {
         let ZHR = getRndInteger(1, 5);
         protivnikxp+=ZHR;
         let ol = document.createElement('ol');
         ol.innerHTML = `Жижа восстановила ${ZHR} здоровья.`;
         document.body.before(ol);
        } else {
        };

         if (xp <= 0) {
          Tit = 'Самосбор поглотил вас';
          Kur = 'Ликвидаторы отскребали ваши останки с хохотом и улюлюканием';
          Variant1 = '';
          Variant2 = '';
          action = -1;
         } else {
         };
       } else if (protivnikxp <= 0) {
        if (Krit < KritMax) {
         Krit+=30;
        } else {
        };
       exp+=35;
        let ol = document.createElement('ol');
        ol.innerHTML = 'Жижа разлетелась на сотни капель чёрной слизи. Сейчас не время её собирать';
        document.body.before(ol);
        Variant1 = '1. Пойти дальше';
        Variant2 = '2. Осмотреть помещения';
        action = 29;
        podaction = 0;
       };

    };

  } else if (podaction == 20) {
       protivnikxp-=attack-Perk3;
       if (protivnikxp > 0) {
         Variant1 = '';
         Variant2 = '2. Атаковать';
         Variant3 = '';
         Variant4 = '';
         Variant5 = '';
        let ol = document.createElement('ol');
        ol.innerHTML = `Ликвидатор получает урон, у него остаётся ${protivnikxp} здоровья.<br><br>Ликвидатор греет вас боевым огнемётом`;
        document.body.before(ol);
        protivnikAttack = getRndInteger(20, 30);
        xp -= protivnikAttack;
        if (protivnikxp > 20 && protivnikxp < 30) {
                 let ol = document.createElement('ol');
        ol.innerHTML = '<strong>Ликвидатор:</strong> Товарищ, покиньте охраняемую территорию, иначе вы будете ликвидированы!';
        document.body.before(ol);
        }else{
        };
        if (xp <= 0) {
         Tit = 'Погибший в бою';
         Kur = 'Ваш труп остался гнить на холодном бетонном полу';
         Variant1 = '';
         Variant2 = '';
         Variant3 = '';
         action = -1;
        } else {
        };
       } else if (protivnikxp <= 0) {
       if (Krit < KritMax) {
        Krit+=50;
       } else {
       };
       exp+=60;
        let ol = document.createElement('ol');
        ol.innerHTML = 'Ликвидатор умирает, роняя свой огнемёт.';
        document.body.before(ol);
         Variant1 = '1. Идати дальше';
         Variant2 = '2. Подобрать огнемёт';
         podaction = 20.1;
       };

  } else if (podaction == 20.1) {
   gun='Огнемёт';
   Variant2 = '';
   action = 0;
   podaction = 0;

  } else if (podaction == 21) {
   let ol = document.createElement('ol');
   ol.innerHTML = 'Грабитель отдаёт вам талоны и ковыляет прочь.';
   document.body.before(ol);
   talon+=ver;
   action = 0;
   podaction = 0;
       Variant1 = '1. Пойти дальше';
       Variant2 = '';
       Variant3 = '';

  } else if (podaction == 22) {
   NoOdezh();
   odezhda = 'Форма уборщика';
   ChangeOdezh();
   Variant2 = '';

   } if (podaction == 22.8) {
     protivnikAttack = getRndInteger(1, 10);      
      protivnikxp -= attack-Perk3;
       if (protivnikxp > 0) {
        let ol = document.createElement('ol');
        ol.innerHTML = `Руководитель получает урон, у него осатётся ${protivnikxp} здоровья.<br><br>Руководитель атакует вас.`;
        document.body.before(ol);
        xp -= protivnikAttack;
        if (protivnikxp < 10 && protivnikxp > 5) {
         let ol = document.createElement('ol');
         ol.innerHTML = '<strong>Руководитель: </strong>Я разделаюсь с тобой и получу премиальные талоны!';
         document.body.before(ol);
        } else {
        };

         if (xp <= 0) {
          Tit = 'Погибший в бою';
          Kur = 'Партийный руководитель так и не получил за вас премию';
          Variant1 = '';
          Variant2 = '';
          action = -1;
         } else {
         };
       } else if (protivnikxp <= 0) {
        if (Krit < KritMax) {
         Krit+=40;
        } else {
        };
        exp+=25;
        podaction = 22.9;
        let ol = document.createElement('ol');
        ol.innerHTML = 'Руководитель умирает от ваших рук, и вы замечаете, что на нём форма партийца!';
        document.body.before(ol);
        Variant1 = '1. Пойти дальше';
        Variant2 = '2. Надеть форму (Убедительность +4)';
       };

  } else if (podaction == 22.9) {
   NoOdezh();
   odezhda = 'Форма члена партии';
   ChangeOdezh();
   action = 0;
   podaction = 0;
   Variant2 = '';

  } else if (podaction == 23) {
   podaction = 23.1
   let ol = document.createElement('ol');
   ol.innerHTML = 'Девушка слегка приоткрыла рот, но замолчала, а потом заговорила снова<br><br><strong>Тян:</strong> Мы живём не очень богато, но пару талонов удалось скопить... Простите, у меня больше ничего нет.';
   document.body.before(ol);
   Variant2 = '2. Ошибаешься. Ты вполне могла бы дать мне себя...';

  } else if (podaction == 23.1) {
   if (U>15) {
    let ol = document.createElement('ol');
    ol.innerHTML = 'Она продолжила, пытаясь скрыть дрожь в своём голосе<br><br><strong>Тян:</strong> Что же, если других вариантов у меня нет... Я.. Я согласна, только спасите её, пожалуйста!';
    document.body.before(ol);
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Тян:</strong> Да как вы смеете? Убирайтесь отсюда!';
    document.body.before(ol);
    action = 0;
    podaction = 0;
  Variant1 = '1. Пойти дальше';
  Variant2 = '';
  Variant3 = '';
   };

  } else if (podaction == 23.11) {
   if (Staruxa == false) {
    Staruxa = true;
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Старческий голос:</strong> А по Красной Волне две смены назад передавали, что голосам из-за гермодверей нельзя верить! Вы твари самосбора, или, ещё того хуже, аферисты, мошенники! Хотите, чтобы я переписала на вас свою жилъячейку? Не дождётесь!';
    document.body.before(ol);
    podaction = 23.2;
    Variant1 = '1. Повторяю, самосбор окончен. Посмотрите на индикатор, встроенный в гермодверь!';
    Variant2 = '2. Со мной рядом находится ваша внучка. Спросите то, что может знать только она.';
    Variant3 = '3. Вы хотите сотаться без гермодвери? Что-то мне подсказывает, что нет. Открывайте, или я её выломаю!';
    Variant4 = '4. Ну приоткройте хотя бы щёлочку, чтобы убедиться: я не представляю для вас вреда.';

   } else {
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Старческий голос:</strong> Я больше на это не куплюсь. Уходите немедленно!';
    document.body.before(ol);
   };

  } else if (podaction == 23.2) {
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Старческий голос:</strong> Машка, ты что ли? Тогда я вам тем более не открою! Опять талоны пришла клянчить? Хахаля своего привела теперь? Ничего ты от меня не получишь!';
    document.body.before(ol);
    podaction = 23.11;
     Variant1 = '1. Попробовать выломать дверь ломом';    
     Variant2 = '2. "Самосбор окончен. Откройте дверь, пожалуйста!"';
     Variant3 = '3. Попробовать взломать замок';
     Variant4 = '';

  } else if (podaction == 23.21) {
   podaction = 23.22;
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Старческий голос:</strong> Я имела в виду, что он не работает! Я... Я просто не хочу открывать дверь...';
    document.body.before(ol);
     Variant1 = '1. Но почему?';    
     Variant2 = '2. Да что там у вас такое происходит?';
     Variant3 = '3. Вам ничего не угрожает. Вспустите нас, пожалуйста.';

  } else if (podaction == 23.22) {
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Старческий голос:</strong> Ничего. Нам не о чем говорить. Оставьте меня.';
    document.body.before(ol);
    podaction = 23.11;
     Variant1 = '1. Попробовать выломать дверь ломом';    
     Variant2 = '2. "Самосбор окончен. Откройте дверь, пожалуйста!"';
     Variant3 = '3. Попробовать взломать замок';

  } else if (podaction == 23.7) {
    let ol = document.createElement('ol');
    ol.innerHTML = 'Вы без труда перерезаете старушечье горло<br><br><strong>Старческий голос:</strong> Маша. Береги себя.<br><br><strong>Тян: </strong>Что ты наделал? Я ненавижу, ненавижу тебя!';
    document.body.before(ol);
    podaction = 23.8;
     Variant1 = '1. Успокойся. Она уже была мёртвой. Возможно, она хотела поглотить тебя.';    
     Variant2 = '2. Я сделал то, что должен был бы сделать любой адекватный человек. Мутантам среди нас не место.';

  } else if (podaction == 23.8) {
    let ol = document.createElement('ol');
    ol.innerHTML = 'Девушка затряслась и выбежала из жилъячейки<br><br><strong>Тян: </strong>Я позову ликвидаторов! Они... Они бошку тебе отвернут! Её можно было вылечить, а ты убийца, убийца! Здесь убийца!<br><br>Под матрацем мутировавшей старухи вы нашли 50 талонов! Но теперь отсюда точно надо убираться.';
    document.body.before(ol);
    talon+=50;
    action = 0;
    podaction = 0;
     Variant1 = '1. Пойти дальше';    
     Variant2 = '';

  } else if (podaction == 24) {
   podaction = 24.1;
  } else if (podaction == 24.1) {
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Торговец: </strong> У нас свободный рынок: если не нравятся цены, можешь умереть от голода в поисках другого поселения.';
    document.body.before(ol);
    if (talon > 1) {
     let ol = document.createElement('ol');
     ol.innerHTML = 'Торговец протягивает вам свёрток с твёрдым содержимым';
     document.body.before(ol);
     talon-=2-U8;
     pish++;
    } else {
    };

  } else if (podaction == 25) {
   podaction = 25.5;
  } else if (podaction == 25.5) {
   gun = 'Нож из клыка бетоноеда';
   action = 0;
   podaction = 0;

   } else if (podaction == 26) {
    podaction = 26.1;
   } else if (podaction == 26.1) {
    podaction = 26.2;
    let ol = document.createElement('ol');
    ol.innerHTML = 'Нелюдь широко улыбается и вгрызается в вашу шею';
    document.body.before(ol);
    xp-=30;
     if (xp <= 0) {
     Tit = 'Нелюдимый';
     Kur = 'Великая идея нелюдей впечаталась в ваше сознание стройной матрицей. Теперь ЭВМ управляет вами.';
     Variant1 = '';
     Variant2 = '';
     action = -1;
     } else {
     };
    
    Variant1 = '';
    Variant2 = '2. Атаковать';
    Variant3 = '';
    Variant4 = '';

   } else if (podaction == 26.2) {
    podaction = 26.3;
    let ol = document.createElement('ol');
    ol.innerHTML = 'От одного вашего удара нелюдь рассыпается в прах';
    document.body.before(ol);
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Забрать бутылку с самогоном';

   } else if (podaction == 26.3) {
    action = 0;
    podaction = 0;
    Samogon++;
    Variant2 = '';

  } else if (podaction == 28) {
    if (X > 3 && U > 1) {
       let ol = document.createElement('ol');
       ol.innerHTML = '<strong>Старший ликвидатор:</strong> Великолепно! Хватай грабли и бегом на вызов! Нужно зачистить блок и проверить выживших. Бегом!<br><br>Вы отправились зачищать блок. Будьте осторожны!';
       document.body.before(ol);
       do { 
        Mob = getRndInteger(1, 10);
        Jer = getRndInteger(1, 10);
       } while (Math.abs(Mob-Jer) < 3);
       protivnikxp = 30;
       Variant1 = '1. Ждать';
       Variant2 = '2. Идти';
       Variant3 = '';
       if (gun == '' || gun == 'Кулак' || gun == 'Нож') {
        gun = 'Грабли';
       } else {
       };
       podaction = 28.01;

    } else {
       let ol = document.createElement('ol');
       ol.innerHTML = '<strong>Старший ликвидатор:</strong> Не смеши меня, дохляк, ты на первом же повороте сдохнешь. Иди, пока цел, ты не годен!';
       document.body.before(ol);
    };

   } else if (podaction == 28.01) {
     let I = prompt(`Укажите номер жилъячейки, к которой вы хотите подойти (1–10) \n(0 – выйти из блока).`, '');
     if (I >= 0 && I < 11 && Math.abs(I-I_lag) <= E) {
      if (I == Mob && Mob > 0) {
       podaction = 28.005;
       if (protivnikxp > 0) {
         Variant1 = '';
         Variant2 = '2. Атаковать';
         Variant3 = '';
        protivnikxp-=attack+Perk3;
        let ol = document.createElement('ol');
        ol.innerHTML = `Твою мать, эта хрень здесь!<br><br>Мутировавшее отродье получает урон, у него остаётся ${protivnikxp} здоровья.<br><br>Мутировавшее отродье кусает вас.`;
        document.body.before(ol);
        protivnikAttack = getRndInteger(5, 10);
        xp -= protivnikAttack;
        if (xp <= 0) {
         Tit = 'Погибший в бою';
         Kur = 'Ваш труп остался гнить на холодном бетонном полу';
         Variant1 = '';
         Variant2 = '';
         Variant3 = '';
         action = -1;
        } else {
        };
       } else {
        let ol = document.createElement('ol');
        ol.innerHTML = 'Вы одолели мутировавшее отродье. Осталось найти выжившего';
        document.body.before(ol);
         Variant2 = '2. Идти';
         podaction = 28.01;
       };
      } else if (I == Jer && Jer > 0) {
       let ol = document.createElement('ol');
       ol.innerHTML = `<strong>Вы:</strong> докладываю, в жилъячейке ${Jer}, обнаружен выживший, начинаю эвакуацию!<br><br>Эвакуируйте выжившего к выходу.`;
       document.body.before(ol);
       Jer = 0;
      } else if (Math.abs(I-Mob) > 0 && Math.abs(I-Mob) < 2 && Mob > 0) {
       let ol = document.createElement('ol');
       ol.innerHTML = 'Из соседней ячейки доносится визг мутировавшего отродья.';
       document.body.before(ol);
      } else if (I == 0 && Jer == 0) {
       let ol = document.createElement('ol');
       ol.innerHTML = 'Вы успешно справились с порученным заданием!';
       document.body.before(ol);
       talon++;
       Rang++;
       Variant1 = '';
       Variant2 = '2. Вернуться на базу.';
       podaction = 28.03;
      } else {
       let ol = document.createElement('ol');
       ol.innerHTML = `<strong>Вы:</strong> докладываю, жилая ячейка ${I}, выживших нет, всё чисто!`;
       document.body.before(ol);
      };
     I_lag = I;
     } else {
     alert('Некорректное значение. Количество ячеек, которые вы можете пройти за один ход, не может превышать вашей выносливости.')
     };
     if (Mob > 1 && Mob < 10) {
      Mob += getRndInteger(-1, 1);
      } else if (Mob == 1) {
      Mob++;
      } else if (Mob == 10) {
      Mob--;
     } else {
     };
      if (Mob == I && podaction != 28.005 && Mob > 0) {
        let ol = document.createElement('ol');
        ol.innerHTML = `Твою мать, эта хрень здесь!<br><br>Мутировавшее отродье кусает вас.`;
        document.body.before(ol);
        protivnikAttack = getRndInteger(5, 10);
        xp -= protivnikAttack;
        podaction = 28.005;
         Variant1 = '';
         Variant2 = '2. Атаковать';
         Variant3 = '';
      } else if (Mob == Jer) {
       let ol = document.createElement('ol');
       ol.innerHTML = 'Вы слышите крик. Похоже, вы опоздали.';
       document.body.before(ol);
       podaction = 28.02;
         Variant1 = '';
         Variant2 = '2. Вернуться на базу';
         Variant3 = '';
      } else if (Datchik == Mob) {
       alert('Датчик зафиксировал движение!');
      } else {
      };

   } else if (podaction == 28.005) {
         Variant1 = '';
         Variant2 = '2. Атаковать';
         Variant3 = '';
        protivnikxp-=attack+Perk3;
       if (protivnikxp > 0) {
        let ol = document.createElement('ol');
        ol.innerHTML = `Твою мать, эта хрень здесь!<br><br>Мутировавшее отродье получает урон, у него остаётся ${protivnikxp} здоровья.<br><br>Мутировавшее отродье кусает вас.`;
        document.body.before(ol);
        protivnikAttack = getRndInteger(5, 10);
        xp -= protivnikAttack;
        if (xp <= 0) {
         Tit = 'Погибший в бою';
         Kur = 'Ваш труп остался гнить на холодном бетонном полу';
         Variant1 = '';
         Variant2 = '';
         Variant3 = '';
         action = -1;
        } else {
        };
       } else {
        let ol = document.createElement('ol');
        ol.innerHTML = 'Вы покончили с мутировавшей тварью. Теперь нужно эвакуировать выжившего!';
        document.body.before(ol);
         Variant2 = '2. Идти';
         podaction = 28.01;
         Mob = -10;
       };

   } else if (podaction == 28.02) {
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Старший ликвидатор:</strong> Ну, чего? Не спас? Да и хрен с ним! У нас уже новый вызов. Бери грабли в руки и бегом туда! Пошёл!<br><br>Вы выходите на новую смену.';
    document.body.before(ol);
       do { 
        Mob = getRndInteger(1, 10);
        Jer = getRndInteger(1, 10);
       } while (Math.abs(Mob-Jer) < 3);
       protivnikxp = 30;
       I = 0;
       Variant1 = '1. Ждать';
       Variant2 = '2. Идти';
       Variant3 = '';
       podaction = 28.01;

   } else if (podaction == 28.03) {
    if (Rang < 5) {
     let ol = document.createElement('ol');
     ol.innerHTML = '<strong>Старший ликвидатор:</strong> Ну, чего? Спас? Хорошо. У нас уже новый вызов. Бери грабли в руки и бегом туда! Пошёл!<br><br>Вы выходите на новую смену.';
     document.body.before(ol);
       do { 
        Mob = getRndInteger(1, 10);
        Jer = getRndInteger(1, 10);
       } while (Math.abs(Mob-Jer) < 3);
       protivnikxp = 30;
       I = 0;
       Variant1 = '1. Ждать';
       Variant2 = '2. Идти';
       Variant3 = '';
       podaction = 28.01;
    } else if (Rang == 5) {
     let ol = document.createElement('ol');
     ol.innerHTML = '<strong>Старший ликвидатор:</strong> Тебе удалось выжить? Какая... Приятная неожиданность!<br><br><strong>Старший ликвидатор:</strong> Ладно, я думал, что мне придётся принимать экзамен, проводить отбор, но поскольку ты единственный, кто дожил до конца смены... Ты действительно заслужил звание старшего ликвидвтора. Я напишу тебе рекомендацию для твоего начальства. В наш блок отправляют лишь самых стойких.';
     document.body.before(ol);
      action = 0;
      podaction = 0;
      NoOdezh();
      odezhda = 'Комбинезон старшего ликвидатора';
      ChangeOdezh();
      Variant1 = '1. Пойти дальше';
      Variant2 = '';
      Variant3 = '';
      Variant4 = '';
      Variant5 = '';
    } else {
    };

   } else if (podaction == 30) {
     protivnikAttack = getRndInteger(10, 15);      
      protivnikxp -= attack+Perk3;
       if (protivnikxp > 0) {
        let ol = document.createElement('ol');
        ol.innerHTML = `Жижа получает урон, у неё осатётся ${protivnikxp} здоровья.<br><br>Жижа атакует вас.`;
        document.body.before(ol);
        xp -= protivnikAttack;
        if (protivnikxp < 10 && protivnikxp > 5) {
         let ol = document.createElement('ol');
         ol.innerHTML = 'Жижа пытается сформировать облик миловидной девушки, но растекается в лужу';
         document.body.before(ol);
        } else {
        };
        if (protivnikxp < 20 && protivnikxp > 10) {
         let ZHR = getRndInteger(1, 5);
         protivnikxp+=ZHR;
         let ol = document.createElement('ol');
         ol.innerHTML = `Жижа восстановила ${ZHR} здоровья.`;
         document.body.before(ol);
        } else {
        };

         if (xp <= 0) {
          Tit = 'Растворённый';
          Kur = 'Жижа задушила вас в своих токсичных объятиях';
          Variant1 = '';
          Variant2 = '';
          action = -1;
         } else {
         };
       } else if (protivnikxp <= 0) {
        if (Krit < KritMax) {
         Krit+=30;
        } else {
        };
        exp+=35;
        podaction = 30.1;
        let ol = document.createElement('ol');
        ol.innerHTML = 'Жижа разлетелась на сотни капель чёрной слизи.';
        document.body.before(ol);
        Variant1 = '1. Пойти дальше';
        Variant2 = '3. Собрать слизь';
       };

   } else if (action == 32 && podaction == 32) {
    protivnikxp -= attack+Perk3;
    if (protivnikxp > 0) {
     let ol = document.createElement('ol');
     ol.innerHTML = `Порождение самосбора получает урон, у него осатётся ${protivnikxp} здоровья.<br><br>Порождение самосбора атакует вас.`;
     document.body.before(ol);
     if (Ataka1 >= Ataka2) {
      xp-=getRndInteger(Ataka1, Ataka2);
     } else {
      xp-=getRndInteger(Ataka2, Ataka1);
     };
     if (protivnikxp < 21 && protivnikxp > 12) {
      let ol = document.createElement('ol');
      ol.innerHTML = '<strong>Порождение самосбора: </strong> птяяа, птяяяя!!!';
      document.body.before(ol);
     } else {
     };
     if (protivnikxp < 20) {
      if (ver == 1) {
       protivnikxp+= getRndInteger(1, Dop);
       let ol = document.createElement('ol');
       ol.innerHTML = `Порождение самосбора восстановило здоровье, теперь оно составляет ${protivnikxp}.`;
       document.body.before(ol);
      } else if (ver == 2) {
       zapas-= getRndInteger(1, Dop);
       let ol = document.createElement('ol');
       ol.innerHTML = `Порождение самосбора высасывает из вас жизненную энегрию`;
       document.body.before(ol);
      } else if (ver == 3) {
       sitost-= getRndInteger(1, Dop);
       let ol = document.createElement('ol');
       ol.innerHTML = `Порождение самосбора воздействует на вашу психику. Вы чувствуете голод`;
       document.body.before(ol);
      } else {
      };
     } else {
     };

if (xp <= 0) {
Tit = 'Самосбор поглотил вас';
Kur = 'Ликвидаторы отскребали ваш труп с хохотом и улюлюканием';
Variant1 = '';
Variant2 = '';
action = -1;
} else {
};
} else if (protivnikxp <= 0) {
       if (Krit < KritMax) {
        Krit+=35;
       } else {
       };
       exp+=50;
podaction = 32.1;
let ol = document.createElement('ol');
ol.innerHTML = 'Порождение самосбора умирает. Из него сочится розовая слизь';
document.body.before(ol);
Variant1 = '1. Пойти дальше';
Variant2 = '2. Собрать слизь';
};

} else if (action == 32 && podaction == 32.1) {
RoseSlis++;
action = 0;
podaction = 0;
Variant2 = '';

 } else if (podaction == 33) {
  pish++;
 } else if (podaction == 33.1) {      
      protivnikxp -= attack-Perk3;
       if (protivnikxp > 0) {
        let ol = document.createElement('ol');
        ol.innerHTML = `Ликвидатор получает урон, у него осатётся ${protivnikxp} здоровья.<br><br>Ликвидатор огрел вас граблями.`;
        document.body.before(ol);
        xp -= protivnikAttack;
        if (protivnikxp < 10 && protivnikxp > 5) {
         let ol = document.createElement('ol');
         ol.innerHTML = '<strong>Ликвидатор: </strong>Мне требуется подкрепление!';
         document.body.before(ol);
        } else {
        };
        if (protivnikxp < 20 && protivnikxp > 10) {
         let ol = document.createElement('ol');
         ol.innerHTML = '<strong>Ликвидатор: </strong>Воровать у честного народа! Да как у тебя рука поднялась?';
         document.body.before(ol);
        } else {
        };

         if (xp <= 0) {
          Tit = 'Погибший в бою';
          Kur = 'Раздербаненный вами автомат-распределитель больше никогда не починят';
          Variant1 = '';
          Variant2 = '';
          action = -1;
         } else {
         };
       } else if (protivnikxp <= 0) {
        if (Krit < KritMax) {
         Krit+=50;
        } else {
        };
        exp+=50;
        action = 0;
        podaction = 0;
        let ol = document.createElement('ol');
        ol.innerHTML = 'Ликвидатор упал замертво. Нужно убираться отсюда!';
        document.body.before(ol);
        Variant1 = '1. Пойти дальше';
        Variant2 = '';
       };

  } else if (podaction == 70) {
     protivnikAttack = getRndInteger(20, 30);      
      protivnikxp -= attack+Perk3;
       if (protivnikxp > 0) {
        let ol = document.createElement('ol');
        ol.innerHTML = `Белая жижа получает урон, у неё осатётся ${protivnikxp} здоровья.<br><br>Белая жижа атакует вас.`;
        document.body.before(ol);
        xp -= protivnikAttack;
        if (protivnikxp < 10 && protivnikxp > 5) {
         let ol = document.createElement('ol');
         ol.innerHTML = 'Жижа пытается сформировать облик миловидной девушки, но растекается в лужу';
         document.body.before(ol);
        } else {
        };
        if (protivnikxp < 20 && protivnikxp > 10) {
         let ZHR = getRndInteger(5, 15);
         protivnikxp+=ZHR;
         let ol = document.createElement('ol');
         ol.innerHTML = `Жижа восстановила ${ZHR} здоровья.`;
         document.body.before(ol);
        } else {
        };

         if (xp <= 0) {
          Tit = 'Растворённый';
          Kur = 'Жижа задушила вас в своих токсичных объятиях';
          Variant1 = '';
          Variant2 = '';
          action = -1;
         } else {
         };
       } else if (protivnikxp <= 0) {
        if (Krit < KritMax) {
         Krit+=60;
        } else {
        };
        exp+=70;
        podaction = 70.1;
        let ol = document.createElement('ol');
        ol.innerHTML = 'Жижа разлетелась на сотни капель белой слизи.';
        document.body.before(ol);
        Variant1 = '1. Пойти дальше';
        Variant2 = '3. Собрать слизь';
       };

  } else if (podaction == 80) {
     protivnikAttack = getRndInteger(20, 50);      
      protivnikxp -= attack+Perk3;
       if (protivnikxp > 0) {
        let ol = document.createElement('ol');
        ol.innerHTML = `Ликвидатор пошатнулся, у него осатётся ${protivnikxp} здоровья.<br><br>Ликвидатор дезинтегрирует вас гравижерновами`;
        document.body.before(ol);
        xp -= protivnikAttack;
        if (protivnikxp <= 50 && protivnikxp > 20) {
         let ol = document.createElement('ol');
         ol.innerHTML = 'Ликвидатор бросает в вас взрывчатку';
         document.body.before(ol);
         xp-=20;
        } else {
        };
        if (protivnikxp < 20 && protivnikxp > 10) {
         let ZHR = getRndInteger(0, 1);
         if (ZHR == 1) {
          protivnikxp+=ZHR*10;
          let ol = document.createElement('ol');
          ol.innerHTML = `Ликвидатор воткнул себе в локоть антидот, восстановив ${ZHR*10} здоровья.`;
          document.body.before(ol);
         }else{
         };
        } else {
        };

         if (xp <= 0) {
          Tit = 'Размазанный';
          Kur = 'Возможно, ваша плоть впитается в бетонные стены и вы станете новой формой жизни, но это уже совсем другая история...';
          Variant1 = '';
          Variant2 = '';
          action = -1;
         } else {
         };
       } else if (protivnikxp <= 0) {
        podaction = 80.1;
        Krit+=100;
        exp+=100;
        let ol = document.createElement('ol');
        ol.innerHTML = 'Ликвидатор упал замертво.';
        document.body.before(ol);
        Variant1 = '1. Пойти дальше';
        Variant2 = '2. Взять гравижернова в качестве оружия';
       };

  } else if (action == 34 && podaction == 34) {
   if (talon > 14) {
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Бригадир: </strong>Бери, бери, у нас перепроизводство, её очень много. Хотели взрывать один блок, но потом передумали...';
    document.body.before(ol);
    Bomb++;
    talon-=15-U8*7;
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML = 'Бригадир наклонился над стойкой и тихо зашипел на вас<br><br><strong>Бригадир: </strong>Здесь тебе не базар! Бери или сваливай отсюда к слизи.';
    document.body.before(ol);
   };

  } else if (podaction == 80.1) {
   gun = 'Гравижернова';
   Variant2 = '';
   action = 0;
   podaction = 0;

   } else {
   };
}else{
};
update();
};













function d() {
 if (action == 5 && podaction == 5 || podaction == 5.5) {
  if (read == false) {
   reading();
  } else {
  };
  ver = getRndInteger(1, 100);
  if (ver < 3) {
   action = 0;
   podaction = 5.5;
  }else{
  };

 } else if (action == -111) {
   if (M3 == 0 && Mb >=3) {
    M3 = 1;
    action = 0;
    SPO=SPO+'|Чёрный взлом';
    Mp = 4;
    b();
   } else if (M3 > 0 && M6 == 0 && Mb >=6) {
    M6 = 1;
    action = 0;
    SPO=SPO+'|M#6';
    Mp = 6;
    b();
   } else if (M6 > 0 && M8 == 0 && Mb >=8) {
    M8 = 1;
    action = 0;
    SPO=SPO+'|M#8';
    Mp = 8;
    b();
   } else if (M8 > 0 && M10 == 0 && Mb >=10) {
    M10 = 1;
    action = 0;
    SPO=SPO+'|M#10';
    Mp = 10;
    b();
   } else if (M10 > 0) {
   };

 } else if (action == 8 && podaction >= 8 && podaction < 9) {
  store();
 } else if (action == 10 && podaction == 10.21) {
   if (read == false) {
    reading();
   } else {
   };

 } else if (action == 11 && podaction != 11) {
  labor();

 } else if (action == 13 && podaction == 0) {
  if (U > 7) {
   ol = document.createElement('ol');
   ol.innerHTML = '<strong>Ликвидатор: </strong>Ах, точно, нам же часовой что-то говорил! Простите, не смеем вас больше задерживать.';
   document.body.before(ol);
       Variant1 = '1. Пойти дальше';
       Variant2 = '';
       Variant3 = '';
   action = 0;
  } else {
   ol = document.createElement('ol');
   ol.innerHTML = '<strong>Ликвидатор: </strong>А, ага, мне они тоже кое-что поручили. Расквасить тебе хлебало.<br><br>Ликвидатор огрел вас граблями.';
   document.body.before(ol);
   xp-=10;
    Variant1 = '';
    Variant2 = '2. Атаковать';
    Variant3 = '';
   podaction = 13;
  };

 } else if (action == 14 && podaction == 14.1) {
  podaction = 14.4;
  ol = document.createElement('ol');
  ol.innerHTML = 'В темноте вы слышите только шум текущей воды.<br><br>Приглядевшись, вы увидели, что группа ликвидаторов моет посуду при свечах.<br><br><strong>Ликвидатор:</strong> Столовая закрыта. Чего надо?';
  document.body.before(ol);
   Variant1 = '1. Выйти';
   Variant2 = '2. Почему вы занимаетесь мытьём посуды?';
   Variant3 = '';

 } else if (action == 14 && podaction == 14.12) {
  if (S > 7) {
   ol = document.createElement('ol');
   ol.innerHTML = 'Вы оглушили ликвидатора и вытащили поломанные грабли из генератора.<br><br>Освещение нормализовалось, повсюду начали вновь зажигаться лампы.';
   document.body.before(ol);
   podaction = 14.91;
    Variant1 = '1. Выйти';
    Variant2 = '';
    Variant3 = '';
  } else {
   ol = document.createElement('ol');
   ol.innerHTML = 'Ликвидатор заметил вас и вовремя отскочил<br><br>Младший ликвидатор направил на вас струю. Из огнемёта.';
   document.body.before(ol);
   xp-=15;
    Variant1 = '';
    Variant2 = '2. Атаковать';
    Variant3 = '';
   podaction = 14.14;
  };

 } else if (action == 14 && podaction == 14.3) {
   ol = document.createElement('ol');
   ol.innerHTML = '<strong>Партрук: </strong>Да обычный пацан, работает меньше года, вот и бесится, пока молодой. Крышу снесло у него, не он первый, не он последний. Такие обычно долго не живут, но ему повезло.';
   document.body.before(ol);

 } else if (action == 16 && podaction == 0) {
    let ol = document.createElement('ol');
    if (U > 7) {
     ol.innerHTML ='<strong>Торговец:</strong> Тише ты! Ладно, бери один пакетик бесплатно и вали отсюда.';
     document.body.before(ol);
     Variant1 = '1. Пойти дальше';
     Variant2 = '2. Подозвать ликвидаторов';
     Variant3 = '';
     podaction = 16;
     Govnyak++;
    } else {
     ol.innerHTML ='<strong>Торговец:</strong> А если они узнают, что в жилом блоке посторонний бродяга? Они со мной в доле. Не на ссыкло напал.';
     document.body.before(ol);
    };

  } else if (action == 16 && podaction == 16.1) {
    let ol = document.createElement('ol');
    if (U > 8) {
     ol.innerHTML ='<strong>Ликвидатор:</strong> Ну тихо-тихо. Вали по-быстрому. Мы тебя не видели.';
     document.body.before(ol);
     Variant1 = '1. Пойти дальше';
     Variant2 = '';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';
     action = 0;
     podaction = 0;
    } else {
     ol.innerHTML ='<strong>Ликвидатор:</strong> Угроза при задержании – отягчающее обстоятельство. Ваш срок будет увеличен. А теперь пройдёмте с нами.';
     document.body.before(ol);
     podaction = 16.2;
    Variant2 = '2. Атаковать.';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
    };

  } else if (action == 17 && podaction == 17) {
   podaction = 17.22;
     Variant1 = '';
   c();

  } else if (action == 18 && podaction == 18.1 || podaction == 18.2) {
   if (books > 0) {
    talon+=books*3;
    books = 0;
    let ol = document.createElement('ol');
    ol.innerHTML ='<strong>Исследователь:</strong> Какое издание! Какой интересный экземпляр!';
    document.body.before(ol);
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML ='<strong>Исследователь:</strong> Товарищ, у вас нет книг. Вы это понимаете?';
    document.body.before(ol);
   };

  } else if (action == 18 && podaction == 18.3) {
   podaction = 18.1;
   c();
  } else if (action == 18 && podaction == 18.4) {
   if (M > 7) {
    podaction = 18.93;
    let ol = document.createElement('ol');
    ol.innerHTML ='Вы открыли щиток, связали пару нужных проводков, и свет отрубился. Это позволило вам незаметно зайти внутрь. Пока все мешкались, вас пару раз задели липкими частями тела по лицу и вручили искомую рукопись!';
    document.body.before(ol);
    Variant1 = '1. Вернуться';
    Variant2 = '';
    Variant3 = '';
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML ='Вы открыли щиток, связали пару нужных проводков, но свет не отрубился. Отрубились вы от удара током.';
    document.body.before(ol);
    xp-=10;
   };

  } else if (action == 18 && podaction == 18.41) {
   if (U > 6) {
    xp-=5;
    podaction = 18.93;
    let ol = document.createElement('ol');
    ol.innerHTML ='Мутанты зашептались<br><br><strong>Одноглазый мутант:</strong> Я разберусь, братья.<br><br>Одноглазый мутант потащил вас к выходу, ударив щупальцем. Когда вы отошли достаточно далеко, он бросил вас на пол, а затем передал рукопись.<br><br><strong>Одноглазый мутант: </strong>Вот балда, ты же чуть меня не выдал! Иди отсюда, пока цел!';
    document.body.before(ol);
    Variant1 = '1. Вернуться';
    Variant2 = '';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
   } else {
    podaction = 18.9;
    let ol = document.createElement('ol');
    ol.innerHTML ='Мутанты зашептались<br><br><strong>Мутант:</strong> Ты не похож на учёного. Вздумал морочить нам голову? За это ты умрёшь во славу Чернобога!<br><br>Мутант атакует вас';
    document.body.before(ol);
    xp-=15;
    Variant1 = '';
    Variant2 = '2. Атаковать';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
   };

   } else if (action == 20 && podaction == 0) {
    ver = getRndInteger(1, 20);
   if (S+E >= ver) {
    let ol = document.createElement('ol');
    ol.innerHTML ='Вы даже не поняли, заметили ли вас, так быстро вы рванули к выходу. Вы бежали достаточно долго, чтобы убедиться в отсутствии преследования';
    document.body.before(ol);
    action = 0;
    podaction = 0;
    Variant1 = '1. Пойти дальше';
    Variant2 = '';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
    exp+=15;
   } else {
    podaction = 20;
    xp-=15;
    let ol = document.createElement('ol');
    ol.innerHTML ='Дежурный ликвидатор включил сирену и направил на вас струю огня.';
    document.body.before(ol);
    Variant1 = '';
    Variant2 = '2. Атаковать';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
   };

  } else if (action == 22 && podaction == 0) {
   podaction = 22;
   let ol = document.createElement('ol');
   ol.innerHTML ='Вам выдали одежду и отправили убирать слизь';
   document.body.before(ol);
   Variant1 = '1. Убирать слизь';    
   Variant2 = '2. Надеть форму уборщика (Скрытность +2)';
   Variant3 = '';

  } else if (action == 23 && podaction == 23.1) {
    kod = getRndInteger(1, 2100000-M*200000);
   podaction = 23.11;
   let ol = document.createElement('ol');
   ol.innerHTML ='Вы подошли к прочной гермодвери. Рядом желали брошенные перчатки и лом<br><br><strong>Тян:</strong> Это ликвидаторы. Пытались выломать, ничего не помогло. Герма-то старая, прочная.<br><br><strong>Старческий голос:</strong> Кто? Кто там? Я слышу ваши голоса, выродки!';
   document.body.before(ol);
   Variant1 = '1. Попробовать выломать дверь ломом';    
   Variant2 = '2. "Самосбор окончен. Откройте дверь, пожалуйста!"';
   Variant3 = '3. Попробовать взломать замок';

  } else if (action == 23 && podaction == 23.11) {
   code2(1, 2100000-M*200000, kod, 5);


  } else if (action == 23 && podaction == 23.2) {
   podaction = 23.11;
   let ol = document.createElement('ol');
   ol.innerHTML ='Из-за гермы донеслось невнятное хряхтение<br><br><strong>Старческий голос:</strong> Угрожать мне вздумал? Ишь ты, какой! Попробуй меня достань, сволочь ты эдакая!';
   document.body.before(ol);
   Variant1 = '1. Попробовать выломать дверь ломом';    
   Variant2 = '2. "Самосбор окончен. Откройте дверь, пожалуйста!"';
   Variant3 = '3. Попробовать взломать замок';
   Variant4 = '';

  } else if (action == 23 && podaction == 23.21) {
   podaction = 23.11;
   let ol = document.createElement('ol');
   ol.innerHTML ='С той стороны гермы повисла длительная тишина<br><br><strong>Старческий голос:</strong> Через скважину? Ты, стало быть, в замке ковырялся? Ах ты, паразит несчастный! Я сейчас вообще заткну его, и гермодверь никогда не откроется! Уж лучше от голода помру, а вам, предателям, ничего не оставлю! Талоны свои сожгу!';
   document.body.before(ol);
   Variant1 = '1. Попробовать выломать дверь ломом';    
   Variant2 = '2. "Самосбор окончен. Откройте дверь, пожалуйста!"';
   Variant3 = '3. Попробовать взломать замок';
   Variant4 = '';

  } else if (action == 23 && podaction == 23.22) {
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Старческий голос:</strong> Вот ведь настырная нынче молодёжь пошла! Ладно, заходите, только когда я скажу!<br><br>Из-за гермы доносится непонятное хлюпанье, прерываемое медленными поворотами вентиля<br><br><strong>Старческий голос:</strong> Заходите.';
    document.body.before(ol);
    podaction = 23.6;
     Variant1 = '1. Зайти внутрь';    
     Variant2 = '';
     Variant3 = '';

  } else if (action == 24 && podaction == 0) {
   if (talon > 4) {
    talon-=5-U8*2;
    son();
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML = 'У вас не хватает талонов, чтобы позволить себе отдохнуть за гермой.';
    document.body.before(ol);
   };

  } else if (action == 24 && podaction == 24.1) {
   let ol = document.createElement('ol');
   ol.innerHTML = '<strong>Торговец: </strong> Никогда не понимал пользы этих иголок. В нашем поселении все лечатся травами...';
   document.body.before(ol);
   if (talon > 2) {
    let ol = document.createElement('ol');
    ol.innerHTML = 'Торговец протягивает вам запакованный шприц';
    document.body.before(ol);
    talon-=3-U8;
    Antidot++;
   } else {
   };

  } else if (action == 26 && podaction == 26.1) {
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Нелюдь:</strong> Не спеши, не спеши, я так давно не видело настоящих людей. Я хочу понять. Я хочу прочувствовать вашу органику. Вашу сраную плоть!';
    document.body.before(ol);
   c();

   } else if (podaction == 30.1) {
    CherSlis+=getRndInteger(1, 10);
    if (slisesbornik == true || E8 > 0) {
     let ol = document.createElement('ol');
     ol.innerHTML = 'Вам удалось наполнить пробирки чёрной слизью без прямого контакта с продуктом самосбора';
    document.body.before(ol);
    } else if (slisesbornik == false) {
     let ol = document.createElement('ol');
     ol.innerHTML = 'На свой страх и риск вы запихиваете содержимое в пробирки';
    document.body.before(ol);
     ver = getRndInteger(1, 3)
     if (ver == 1) {
      contact = true;
     } else {
     };
    };
    Variant2 = '';
    action = 0;
    podaction = 0;

  } else if (action == 31) {
   ver = getRndInteger(1, 100);
   if (ver > 11-U) {
    let ol = document.createElement('ol');
    ol.innerHTML = 'Искатель провёл вас по безопасным коридорам, и вскоре вы увидели знакомый красный крест';
    document.body.before(ol);
    action = 4;
     Variant1 = '1. Пойти дальше';
     Variant2 = '2. Зайти внутрь';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';  
    talon--;
   } else {
    c();
   };

   } else if (podaction == 70.1) {
    BelSlis+=getRndInteger(1, 10);
    if (slisesbornik == true || E8 > 0) {
     let ol = document.createElement('ol');
     ol.innerHTML = 'Вам удалось наполнить пробирки белой слизью без прямого контакта с продуктом самосбора';
    document.body.before(ol);
    } else if (slisesbornik == false) {
     let ol = document.createElement('ol');
     ol.innerHTML = 'На свой страх и риск вы запихиваете содержимое в пробирки';
    document.body.before(ol);
     ver = getRndInteger(1, 3);
     if (ver == 1) {
      contact = true;
      zarazh = 2.1;
     } else {
     };
    };
    Variant2 = '';
    action = 0;
    podaction = 0;

 } else if (action == 33) {
  Variant3 = '';
  podaction = 33;
  ver = getRndInteger(1, 10);
  if (ver <= M-1) {
   ver = getRndInteger(5, 50);
   let ol = document.createElement('ol');
   ol.innerHTML = `Вы аккуратно сняли заднюю стенку автомата и увидели стопку сложенных свёртков.<br><br>В левой нише под щёлкой вы нашли ${ver} талонов!`;
   document.body.before(ol)
   Variant2 = '2. Взять пищконцентрат';
  } else {
   protivnikxp=getRndInteger(4, 8)*10;
   podaction = 33.1;
   let ol = document.createElement('ol');
   ol.innerHTML = 'Сработала сигнализация!<br><br>Заспанный ликвидатор выбежал и огрел вас граблями';
   document.body.before(ol)
   Variant1 = '';
   Variant2 = '2. Атаковать';
   protivnikAttack=getRndInteger(5, 10);
   xp-=protivnikAttack;
  };

  } else if (action == 80 && podaction == 0) {
   ver = getRndInteger(6, 20);
   if (M+A > ver) {
    let ol = document.createElement('ol');
    ol.innerHTML = 'Вы выхватили гравижернова и приложили их прямо к лицу ликвидатора, после чего оно начало медленно перемалываться.';
    document.body.before(ol);
    gun = 'Гравижернова';
    action = 0;
    podaction = 0;
    Variant1 = '1. Пойти дальше';
    Variant2 = '';
    Variant3 = '';
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML = 'Ликвидатор отбросил вас и включил гравижернова';
    document.body.before(ol);
    Variant1 = '';
    Variant2 = '2. Атаковать';
    Variant3 = '';
    podaction = 80;
   xp -= getRndInteger(20, 50);
   };


  } else if (action == 34 && podaction == 0) {
   if (U > 3) {
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Бригадир:</strong> А вот, ознакомься с перечнем. И, кстати, если ты при талонах, мы могли бы... Ну, ты понимаешь, списать тот хлам, по которому план перевыполнен';
    document.body.before(ol);
    podaction = 34;
    Variant1 = '1. Вернуться к диалогу';
    Variant2 = '2. Купить взрывчатку (15 талонов)';
    Variant3 = '3. Купить бронекостюм модель 197 "Матрёшка" [Здоровье +4, Выносливость +4, Скрытность -4] (70 талонов)';
    Variant4 = '4. Купить бронекостюм модель 199 "Берсерк" [Атака +4, Выносливость +4, Скрытность -4] (70 талонов)';
    ver = getRndInteger(1, 2);
    if (ver == 1) {
     Variant5 = '5. Купить бронекостюм модель 200 "Муравей" [Выносливость +8, Скрытность -4] (80 талонов)';
    } else {
     Variant5 = '5. Купить гравижернова (100 талонов)';
    };
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Бригадир:</strong> Этого я не могу разглашать. Но поверь, если будешь знать, работа легче не станет.';
    document.body.before(ol);
   };

  } else if (action == 34 && podaction == 34) {
   action = 0;
   podaction = 0;
   Variant1 = '1. Пойти дальше';
   Variant2 = '';
   Variant3 = '';
   Variant4 = '';
   Variant5 = '';
   if (talon > 69) {
    talon-=70-U8*35;
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Бригадир:</strong> Отлично. А теперь, я полагаю, тебе надо уходить. Я не могу позволить себе, чтобы кто-то тебя в нём увидел!';
    document.body.before(ol);
    NoOdezh();
    odezhda = 'БК-197 "Матрёшка"';
    ChangeOdezh();
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Бригадир:</strong> Мы же серьёзные люди. Хочешь обдурить меня? А ну пошёл вон!';
    document.body.before(ol);
   };

  } else {
  };
update();
};















function e() {
 if (action == 5 && podaction == 5 || action == 10 && podaction == 10.21) {
  if (vzlom == true) {
   code(1, 210-M*20, kod);
  } else {
  alert('Вряд ли здесь можно найти что-то ещё.')
  };

 } else if (action == -111) {
   if (S3 == 0 && Sb >=3) {
    S3 = 1;
    action = 0;
    SPO=SPO+'|Маскировка';
    Sp = 4;
    b();
   } else if (S3 > 0 && S6 == 1 && Sb >=6) {
    S6 = 2;
    action = 0;
    SPO=SPO+'|Истинное вероломство';
    Sp = 6;
    b();
   } else if (S6 > 1 && S8 == 0 && Sb >=8) {
    S8 = 1;
    action = 0;
    SPO=SPO+'|S#8';
    Sp = 8;
    b();
   } else if (S8 > 0 && S10 == 0 && Sb >=10) {
    S10 = 1;
    action = 0;
    SPO=SPO+'|S#10';
    Sp = 10;
    b();
   } else if (M10 > 0) {
   };

  } else if (action == 8 && podaction >= 8.1) {
   if (U < 7) {
    let ol = document.createElement('ol');
    ol.innerHTML ='<strong>Сотрудник НИИ:</strong> Конееечно, мы же тут только и ждём проходимца, которого можно будет допустить до секретных экспериментов!';
    document.body.before(ol);
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML ='<strong>Сотрудник НИИ:</strong> А ты неужто умеешь обращаться с оборудованием? Хорошо. Только быстро. И под моим надзором.';
    document.body.before(ol);
    labor();
   };

  } else if (action == 16 && podaction == 16.1) {
    let ol = document.createElement('ol');
    if (U > 8) {
     ol.innerHTML ='<strong>Ликвидатор:</strong> Твою налево, Серёг, а если правда? Нам бошки свернут, и не только наши бошки, понимаешь, о чём я? Ладно, вали отсюда, мы тебя не видели.';
     document.body.before(ol);
     Variant1 = '1. Пойти дальше';
     Variant2 = '';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';
     action = 0;
     podaction = 0;
    } else {
     ol.innerHTML ='<strong>Ликвидатор:</strong> Ложь при задержании – отягчающее обстоятельство. Ваш срок будет увеличен. А теперь пройдёмте с нами.';
     document.body.before(ol);
     podaction = 16.2;
     Variant2 = '2. Атаковать.';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';
    };


  } else if (action == 17 && podaction == 17) {
    let ol = document.createElement('ol');
    ol.innerHTML ='<strong>Человек: </strong> Ну что же, Чернобог учит быть твёрдым в сложных решениях. Ты умрёшь, как положено еретику!<br><br>Человек атакует вас.';
    document.body.before(ol);
    protivnikAttack = getRndInteger(5, 10);
    xp -= protivnikAttack;
    podaction = 17.5;
    Variant1 = '';
    Variant2 = '2. Атаковать';
    Variant3 = ''; 
    Variant4 = ''; 
    Variant5 = ''; 

  } else if (action == 18 && podaction == 18.1 || podaction == 18.2) {
    if (U > 2) {
     podaction = 18.3;
     let ol = document.createElement('ol');
     ol.innerHTML ='<strong>Исследователь:</strong> Полагаю, есть одно дело, в котором вы можете помочь нам. За разумную плату, разумеется. Мы очень давно ждём одну рукопись от нашего коллеги, который... В общем, ведёт включённое наблюдение, если так можно выразиться. От него давно нет никаких вестей, и мы начинаем переживать, не сделали ли культисты с ним чего... Короче говоря, вы сможете достать рукопись из общины Чернобожников?';
     document.body.before(ol);
     Variant1 = '';
     Variant2 = '';
     Variant3 = '3. Поймите меня правильно, я не уверен, что это стоит того.';
     Variant4 = '4. Да, я помогу вам [Отправиться в общину]';
    } else {
     let ol = document.createElement('ol');
     ol.innerHTML ='Исследователь хмурится<br><br><strong>Исследователь:</strong> При всём уважении, мы не можем доверить никакого важного поручения первому встречному. Мои коллеги усомнились в вашей благонадёжности, прошу нас понять.';
     document.body.before(ol);
     Variant4 = '';
    };

  } else if (action == 18 && podaction == 18.3) {
    podaction = 18.4;
    let ol = document.createElement('ol');
    ol.innerHTML ='Вы стоите на пороге блока общины культистов<br><br>Вам нужно найти исследователя, забрать у него рукопись, и, желательно, вернуться человеком.';
    document.body.before(ol);
    Variant1 = '1. Зайти внутрь';
    Variant2 = '2. Незаметно прокрасться внутрь';
    Variant3 = '3. Повредить проводку';
    Variant4 = '';

  } else if (action == 18 && podaction == 18.41) {
   podaction = 18.93;
   contact = true;
   zarazh = 2.1;
   let ol = document.createElement('ol');
   ol.innerHTML ='Мутанты зашептались<br><br><strong>Мутант:</strong> Да будет так! Прими дары Чернобога во славу его!<br><br>Вы наклоняетесь и вас омывают белой слизью. В это время один из мутантов незаметно протягивает вам рукопись.';
   document.body.before(ol);
    Variant1 = '1. Вернуться';
    Variant2 = '';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';


   } else if (action == 20 && podaction == 0) {
    ver = getRndInteger(1, 20);
   if (S+A >= ver) {
    let ol = document.createElement('ol');
    ol.innerHTML ='Вы успешно подкрались к ликвидатору и обезвредили его. Ликвидатор выронил из рук свой огнемёт';
    document.body.before(ol);
    podaction = 20.1;
    Variant1 = '1. Пойти дальше';
    Variant2 = '2. Забрать огнемёт';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
    exp+=15;
   } else {
    podaction = 20;
    xp-=15;
    let ol = document.createElement('ol');
    ol.innerHTML ='Дежурный ликвидатор включил сирену и направил на вас струю огня.';
    document.body.before(ol);
    Variant1 = '';
    Variant2 = '2. Атаковать';
    Variant3 = '';
    Variant4 = '';
    Variant5 = '';
   };

  } else if (action == 23 && podaction == 23.2) {
   podaction = 23.11;
   let ol = document.createElement('ol');
   ol.innerHTML ='Из-за гермы донеслось невнятное кряхтение<br><br><strong>Старческий голос:</strong> Никому я не открою, будь хоть это даже партийный вождь! Убирайтесь прочь!';
   document.body.before(ol);
   Variant1 = '1. Попробовать выломать дверь ломом';    
   Variant2 = '2. "Самосбор окончен. Откройте дверь, пожалуйста!"';
   Variant3 = '3. Попробовать взломать замок';
   Variant4 = '';


  } else if (action == 24 && podaction == 0) {
   if (zarazh < 2 && M > 0) {
    if (metr > 0 && metr <= 1000 || metr > 2000 && metr <= 3000 || metr > 4000 && metr <= 5000 || metr > 6000 && metr <= 7000 || metr > 8000 && metr <= 9000) {
     ver = 1;
    } else {
     ver = 2;
    };
    if (ver == 1) {
     let ol = document.createElement('ol');
     ol.innerHTML ='<strong>Вождь поселения:</strong> У меня есть одно задание, которое я готов тебе поручить. Наше поселение растёт, и нам нужны новые ячейки. На этаже ниже находится старый оружейный склад, но есть одна проблема – он закрыт на замок. А, судя по твоему виду, ты бетоноеда съел на взломе. Если справишься, всё содержимое оружейной – твоё. Согласен?<br><br><strong>Вождь поселения:</strong> Почему мы не можем взломать замок сами? Видишь ли, одна штука внутри оружейной невероятно фонит. А поскольку там установлена не герма, а обычная бронированная дверь с кодом, радиация заполнила весь этаж. Если ты откроешь эту дверь, сразу сообразишь, как выключить этот излучатель, мы с такими уже имели дело. Но замок нужно открыть очень быстро, иначе подохнешь там же.<br><br><strong>Вождь поселения:</strong> Ну, всё понял, согласен? Выпей самогончику для храбрости, и чтоб руки не дрожали. И не вздумай возвращаться назад — приблизившись к двери, ты уже не успеешь уйти живым. Тебе нужно отключить излучатель.';
     document.body.before(ol);
    } else {
     let ol = document.createElement('ol');
     ol.innerHTML ='<strong>Вождь поселения:</strong> У меня есть одно задание, которое я готов тебе поручить. Наше поселение растёт, и нам нужны новые ячейки. На этаже ниже находится заброшенная лаборатория НИИ Слизи, но есть одна проблема – она закрыта на замок. А, судя по твоему виду, ты бетоноеда съел на взломе. Если справишься, всё содержимое лаборатории – твоё. Согласен?<br><br><strong>Вождь поселения:</strong> Почему мы не можем взломать замок сами? Видишь ли, одна штука внутри невероятно фонит. А поскольку там установлена не герма, а обычная бронированная дверь с кодом, радиация заполнила весь этаж. Если ты откроешь эту дверь, сразу сообразишь, как выключить этот излучатель, мы с такими уже имели дело. Но замок нужно открыть очень быстро, иначе подохнешь там же.<br><br><strong>Вождь поселения:</strong> Ну, всё понял, согласен? Выпей самогончику для храбрости, и чтоб руки не дрожали. И не вздумай возвращаться назад — приблизившись к двери, ты уже не успеешь уйти живым. Тебе нужно отключить излучатель.';
     document.body.before(ol);
    };
    podaction = 24;
    kod = getRndInteger(1, 2100-M*200);
    Variant1 = '1. Мне нужно время на подготовку';
    Variant2 = '';
    Variant3 = '';
    Variant4 = '4. Да, я готов [Отправиться на задание]';
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML ='Все шарахаются от вас, к кому бы вы не подошли. Интересно, с чего бы это?';
    document.body.before(ol);
   };

  } else if (action == 24 && podaction == 24) {
   Variant1 = '';    
   Variant2 = '';
   Variant3 = '';

   Variant4 = '4. Взламывать дальше';
    let Rad = Math.trunc(xpMax*(0.2-(E-1)*0.01));
    let otvet = prompt(`Вы спустились на этаж ниже и быстро нашли дверь. Для открытия необходимо подобрать код от ${1} до ${2100-M*200}`, '');
    if (otvet > kod) {
     alert('<');
     xp-=Rad;
     alert(`Излучение нехорошо влияет на ваш организм. Вы теряете ${Rad} здоровья.`);
     if (xp > 0) {
      e();
     } else {
      action = -1;
      Tit = 'Радиоактивный пепел';
      Kur = 'Излучение высосало из вас то, что вы называли жизнью';
      Variant1 = '';
      Variant2 = '';
      Variant3 = '';
      Variant4 = '';
      Variant5 = '';
     };
    } else if (otvet < kod) {
     alert('>');
     xp-=Rad;
     alert(`Излучение нехорошо влияет на ваш организм. Вы теряете ${Rad} здоровья.`);
     if (xp > 0) {
      e();
     } else {
      action = -1;
      Tit = 'Радиоактивный пепел';
      Kur = 'Излучение высосало из вас то, что вы называли жизнью';
      Variant1 = '';
      Variant2 = '';
      Variant3 = '';
      Variant4 = '';
      Variant5 = '';
     };
    } else if (otvet == kod) {
     podaction = 0;
     Variant4 = '';
     let ol = document.createElement('ol');
     ol.innerHTML = 'Дверь разблокирована! Вы ворвались в склад оружия и с силой дёрнули излучатель. Теперь он не представляет опасности.<br><br>Оглядевшись по сторонам, вы с сожалением заметили, что большую часть оборудования уже давно вынесли или разграбили';
     document.body.before(ol);
     ol = document.createElement('ol');
     if (ver == 1) {
      ver = getRndInteger(1, 8);
      if (ver == 1) {
       ol.innerHTML = 'В бывшей оружейной ячейке вы обнаружили Бронекостюм 197 "Матрёшка"';
       document.body.before(ol);
       Variant1 = '1. Пойти дальше';
       Variant2 = '4. Надеть БК-197 [Здоровье +4, Выносливость +4, Скрытность -4]';
       action = 24.2;
      } else if (ver == 2) {
       ol.innerHTML = 'В бывшей оружейной ячейке вы обнаружили Бронекостюм 199 "Берсерк"';
       document.body.before(ol);
       Variant1 = '1. Пойти дальше';
       Variant2 = '4. Надеть БК-199 [Здоровье +4, Атака +4, Скрытность -4]';
       action = 24.3;
      } else if (ver == 3) {
       ol.innerHTML = 'В бывшей оружейной ячейке вы обнаружили Бронекостюм 200 "Муравей"';
       document.body.before(ol);
       Variant1 = '1. Пойти дальше';
       Variant2 = '4. Надеть БК-200 [Выносливость +8, Скрытность -4]';
       action = 24.4;
      } else if (ver == 4) {
       ol.innerHTML = 'В бывшей оружейной ячейке вы обнаружили лишь ржавый огнемёт';
       document.body.before(ol);
       Variant1 = '1. Пойти дальше';
       Variant2 = '4. Взять ржавый огнемёт в качестве оружия';
       action = 24.5;
      } else if (ver == 5) {
       ol.innerHTML = 'В бывшей оружейной ячейке вы обнаружили взрывчатое вещество';
       document.body.before(ol);
       Bomb++;
       Variant1 = '1. Пойти дальше';
       action = 0;
      } else if (ver == 6 || ver == 7) {
       ol.innerHTML = 'В бывшей оружейной ячейке вы обнаружили огнемёт';
       document.body.before(ol);
       Variant1 = '1. Пойти дальше';
       Variant2 = '4. Взять огнемёт в качестве оружия';
       action = 24.6;
      } else if (ver == 8) {
       ol.innerHTML = 'В бывшей оружейной ячейке вы обнаружили гравижернова!';
       document.body.before(ol);
       Variant1 = '1. Пойти дальше';
       Variant2 = '4. Взять гравижернова в качестве оружия';
       action = 24.7;
      } else {
      };
     } else {
      Variant1 = '1. Пойти дальше';
      ver = getRndInteger(1, 8);
      if (ver == 1) {
       ol.innerHTML = 'В заброшенной лаборатории вы обнаружили биоброню из розовой слизи "Т.Е.Л.О."';
       document.body.before(ol);
       Variant1 = '1. Пойти дальше';
       Variant2 = '4. Надеть биоброню "Т.Е.Л.О." [Здоровье +8]';
       action = 24.22;
      } else if (ver == 2) {
       ol.innerHTML = 'В заброшенной лаборатории вы обнаружили комбинезон из прозрачной слизи!';
       document.body.before(ol);
       Variant1 = '1. Пойти дальше';
       Variant2 = '4. Надеть комбинезон из прозрачной слизи [Скрытность +8]';
       action = 24.33;
      } else if (ver == 3 || ver == 5 || ver == 7) {
       ol.innerHTML = 'В заброшенной лаборатории вы обнаружили упаковки с мышечной массой!';
       document.body.before(ol);
       Boost+=getRndInteger(1, 5);
       action = 0;       
      } else if (ver == 4 || ver == 6 || ver == 8) {
       ol.innerHTML = 'В заброшенной лаборатории вы обнаружили лишь набор разных образцов слизи.';
       document.body.before(ol);
       CherSlis+=getRndInteger(1, 2);
       KrasSlis+=getRndInteger(1, 2);
       RoseSlis+=getRndInteger(1, 2);
       BelSlis+=getRndInteger(1, 2);
       Variant1 = '1. Пойти дальше';
       action = 0;
      } else {
      };
     };
    }else{     
     xp-=Rad;
     alert(`Излучение нехорошо влияет на ваш организм. Вы теряете ${Rad} здоровья.`);
     if (xp > 0) {
      e();
     } else {
      action = -1;
      Tit = 'Радиоактивный пепел';
      Kur = 'Излучение высосало из вас то, что вы называли жизнью';
      Variant1 = '';
      Variant2 = '';
      Variant3 = '';
      Variant4 = '';
      Variant5 = '';
     };
    };

  } else if (action == 24.2) {
   NoOdezh();
   odezhda = 'БК-197 "Матрёшка"';
   ChangeOdezh();
   action = 0;
   Variant2 = '';
  } else if (action == 24.22) {
   NoOdezh();
   odezhda = 'Биоброня "Т.Е.Л.О."';
   ChangeOdezh();
   action = 0;
   Variant2 = '';
  } else if (action == 24.3) {
   NoOdezh();
   odezhda = 'БК-199 "Берсерк"';
   ChangeOdezh();
   action = 0;
   Variant2 = '';
  } else if (action == 24.33) {
   NoOdezh();
   odezhda = 'Комбинезон из прозрачной слизи';
   ChangeOdezh();
   action = 0;
   Variant2 = '';
  } else if (action == 24.4) {
   NoOdezh();
   odezhda = 'БК-200 "Муравей"';
   ChangeOdezh();
   action = 0;
   Variant2 = '';
  } else if (action == 24.5) {
   gun = 'Ржавый огнемёт';
   action = 0;
   Variant2 = '';
  } else if (action == 24.6) {
   gun = 'Огнемёт';
   action = 0;
   Variant2 = '';
  } else if (action == 24.7) {
   if (metr >= 3000) {
    gun = 'Гравижернова';
   } else {
    gun = 'Проржавевшие гравижернова';
   };
   action = 0;
   Variant2 = '';
  } else if (action == 24 && podaction == 24.1) {
   let ol = document.createElement('ol');
   ol.innerHTML = '<strong>Торговец: </strong> Почему мы торгуем талонами? У нас даже профессия такая есть - таскатель. Заходят в столовки совков особо убедительные и обменивают.';
   document.body.before(ol);
   if (ver == 1) {
    if (talon > 2) {
     let ol = document.createElement('ol');
     ol.innerHTML = 'Чёрная слизь добавлена';
     document.body.before(ol);
     talon-=3-U8;
     CherSlis++;
    } else {
    };
   } else if (ver == 2) {
    if (talon > 6) {
     let ol = document.createElement('ol');
     ol.innerHTML = 'Яйцо арахны добавлено';
     document.body.before(ol);
     talon-=7-U8*3;
     yai++;
    } else {
    };
   } else if (ver == 3) {
    if (talon > 9) {
     talon-=10-U8*5;
     gun = 'Грабли';
    } else {
    };
   } else if (ver == 4) {
    if (talon > 24) {
     talon-=25-U8*12;
     NoOdezh();
     odezhda = 'Противогаз';
     ChangeOdezh();
    } else {
    };
   } else if (ver == 5) {
    if (talon > 14) {
     talon-=15-U8*7;
     gun = 'Ржавый огнемёт';
    } else {
    };
   } else if (ver == 6) {
    if (talon > 7) {
     let ol = document.createElement('ol');
     ol.innerHTML = 'Говняк добавлен';
     document.body.before(ol);
     talon-=8-U8*4;
     Govnyak++;
    } else {
    };
   } else if (ver == 7) {
    if (talon > 4) {
     talon-=5-U8*2;
     gun = 'Нож';
    } else {
    };
   } else if (ver == 8) {
    if (talon > 3) {
     talon-=5-U8*2;
     Samogon++;
    } else {
    };
   } else {
   };

  } else if (action == 26 && podaction == 26.1) {
    podaction = 26.4; 
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Нелюдь:</strong> Вот я и пыталось понять. Он хотел пить. Но у огранизма не было нужны в срочном потреблении жидкости.';
    document.body.before(ol);
    Variant1 = '1. Просто попробуй, и ты поймёшь. Умеешь отвинчивать крышки?';    
    Variant2 = '';
    Variant3 = '';
    Variant4 = '';

  } else if (action == 31) {
   ver = getRndInteger(1, 100);
   if (ver > 11-U) {
    let ol = document.createElement('ol');
    ol.innerHTML = 'Искатель провёл вас по безопасным коридорам, и вскоре вы увидели знакомую табличку НИИ СЛИЗи';
    document.body.before(ol);
    action = 8;
     Variant1 = '1. Пойти дальше';
     Variant2 = '2. Зайти внутрь';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';  
    talon-=2-U8;
   } else {
    c();
   };

  } else if (action == 34 && podaction == 34) {
   action = 0;
   podaction = 0;
   Variant1 = '1. Пойти дальше';
   Variant2 = '';
   Variant3 = '';
   Variant4 = '';
   Variant5 = '';
   if (talon > 69) {
    talon-=70-U8*35;
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Бригадир:</strong> Отлично. А теперь, я полагаю, тебе надо уходить. Я не могу позволить себе, чтобы кто-то тебя в нём увидел!';
    document.body.before(ol);
    NoOdezh();
    odezhda = 'БК-199 "Берсерк"';
    ChangeOdezh();
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML = '<strong>Бригадир:</strong> Мы же серьёзные люди. Хочешь обдурить меня? А ну пошёл вон!';
    document.body.before(ol);
   };

  } else {
  };
 update();
};











function f() {
 if (action == 16 && podaction == 16.1) {
    let ol = document.createElement('ol');
    if (U > 7) {
     ol.innerHTML ='<strong>Ликвидатор:</strong> Так что ж ты раньше не сказал? Мы ж не звери, сами вот концы с концами сводим. Если нужна будет помощь, ты заходи, заходи... А пока извиняй, нам ещё троих поймать надо.';
     document.body.before(ol);
     Variant1 = '1. Пойти дальше';
     Variant2 = '';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';
     action = 0;
     podaction = 0;
    } else {
     ol.innerHTML ='<strong>Ликвидатор:</strong> Ложь при задержании – отягчающее обстоятельство. Ваш срок будет увеличен. А теперь пройдёмте с нами.';
     document.body.before(ol);
     Variant2 = '2. Атаковать.';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';
     podaction = 16.2;
    };

 } else if (action == -111) {
   if (U3 == 0 && Ub >=3) {
    U3 = 1;
    action = 0;
    SPO=SPO+'|Поддатый';
    Up = 4;
    b();
   } else if (U3 > 0 && U6 == 0 && Ub >=6) {
    U6 = 1;
    action = 0;
    SPO=SPO+'|U#6';
    Up = 6;
    b();
   } else if (U6 > 0 && U8 == 0 && Ub >=8) {
    U8 = 1;
    action = 0;
    SPO=SPO+'|U#8';
    Up = 8;
    b();
   } else if (U8 > 0 && U10 == 0 && Ub >=10) {
    U10 = 1;
    action = 0;
    SPO=SPO+'|U#10';
    Up = 10;
    b();
   } else if (U10 > 0) {
   };

  } else if (action == 17 && podaction >= 17 && podaction < 17.5) {
   protivnikxp-=attack-Perk3;
   podaction = 17.5;
   let ol = document.createElement('ol');
   ol.innerHTML = `Человек получает урон и падает, у него осатётся ${protivnikxp} здоровья.`;
   document.body.before(ol);
     Variant1 = '';
     Variant2 = '2. Атаковать.';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';
 
  } else if (action == 18 && podaction == 18.41) {
   if (U > 3) {
    podaction = 18.92;
    let ol = document.createElement('ol');
    ol.innerHTML ='Мутанты зашептались<br><br><strong>Мутант:</strong> Выйди, нам надо поговорить.<br><br>Вы вышли, слыша громки споры и нечеловеческую ругань. Когда вы вернулись, выживших не было. У одного из мутантов вы нашли искомую рукопись.';
    document.body.before(ol);
     Variant1 = '1. Вернуться';
     Variant2 = '';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML ='Мутанты зашептались<br><br><strong>Мутант:</strong> Не неси чепухи. Тебя прислали рассорить нас. Ты умрёшь во славу Чернобога!<br><br>Мутант бъёт вас щупальцем';
    document.body.before(ol);
    xp-=25;
     Variant1 = '';
     Variant2 = '2. Атаковать';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';
   };


   } else if (action == 20 && podaction == 0) {
    podaction = 20;
    protivnikxp-=attack-Perk3+Perk4*S6;
    let ol = document.createElement('ol');
    ol.innerHTML = 'Ликвидатор получает урон и падает.';
    document.body.before(ol);
     Variant1 = '';
     Variant2 = '2. Атаковать';
     Variant3 = '';
     Variant4 = '';
     Variant5 = '';

  } else if (action == 24 && podaction == 24.1) {
   store2();

  } else if (action == 31) {
   ver = getRndInteger(1, 100);
   if (ver > 11-U) {
    let ol = document.createElement('ol');
    ol.innerHTML = 'Искатель провёл вас по безопасным коридорам, и вскоре вы увидели огни общины борщеводов';
    document.body.before(ol);
    action = 24;
     Variant1 = '1. Пойти дальше';
     Variant2 = '2. Зайти на рынок';
     Variant3 = '3. Снять жилъячейку [5 талонов]';
     Variant4 = '4. Поинтересоваться о работе';
     Variant5 = '';  
    talon-=2-U8;
   } else {
    c();
   };

  } else if (action == 34 && podaction == 34) {
   action = 0;
   podaction = 0;
   Variant1 = '1. Пойти дальше';
   Variant2 = '';
   Variant3 = '';
   Variant4 = '';
   Variant5 = '';
   if (ver == 1) {
    if (talon > 79) {
     talon-=80-U8*40;
     let ol = document.createElement('ol');
     ol.innerHTML = '<strong>Бригадир:</strong> Отлично. А теперь, я полагаю, тебе надо уходить. Я не могу позволить себе, чтобы кто-то тебя в нём увидел!';
     document.body.before(ol);
     NoOdezh();
     odezhda = 'БК-200 "Муравей"';
     ChangeOdezh();
    } else {
     let ol = document.createElement('ol');
     ol.innerHTML = '<strong>Бригадир:</strong> Мы же серьёзные люди. Хочешь обдурить меня? А ну пошёл вон!';
     document.body.before(ol);
    };
   } else {
    if (talon > 99) {
     talon-=100-U8*50;
     let ol = document.createElement('ol');
     ol.innerHTML = '<strong>Бригадир:</strong> Отлично. А теперь, я полагаю, тебе надо уходить. Я не могу позволить себе, чтобы кто-то тебя увидел c этим!';
     document.body.before(ol);
     gun = 'Гравижернова';
    } else {
     let ol = document.createElement('ol');
     ol.innerHTML = '<strong>Бригадир:</strong> Мы же серьёзные люди. Хочешь обдурить меня? А ну пошёл вон!';
     document.body.before(ol);
    };
   };
 } else {
 };
update();
};














function labor() {
    let lab = prompt('Введите то, что хотите изготовить', 'Самогон на улитках');
   if (lab == 'Самогон на улитках' && Ulitka >= 3) {
   ol = document.createElement('ol');
   ol.innerHTML = 'Вы изготовили самогон на улитках';
   document.body.before(ol);
    Ulitka-=3;
    Samogon++;
    exp+=4;

   } else if (lab == 'Антидот на слизи' && KrasSlis >=1 && CherSlis >=1) {
    KrasSlis--;
    CherSlis--;
    ol = document.createElement('ol');
    ol.innerHTML = 'Произведены три ампулы антидота.';
    document.body.before(ol);
    Antidot+=3;
    exp+=7;

   } else if (lab == 'Говняк' && KrasSlis >=2) {
    KrasSlis-=2;
    ol = document.createElement('ol');
    ol.innerHTML = 'Произведена вытяжка красной слизи (в простонародье говняк)';
    document.body.before(ol);
    Govnyak++;
    exp+=8;

   } else if (lab == 'Взрывчатка'  && yai >=1 && CherSlis >=1) {
    yai--;
    CherSlis--;
    ol = document.createElement('ol');
    ol.innerHTML = 'Произведено взрывчатое вещество';
    document.body.before(ol);
    Bomb++;
    exp+=10;

   } else if (lab == 'Мышечная масса' && RoseSlis >=1) {
    RoseSlis--;
    ol = document.createElement('ol');
    ol.innerHTML = 'Произведена мышечная масса';
    document.body.before(ol);
    Boost++;
    exp+=8;

   } else if (lab == 'Биоперемещатель' && yai >= 1 && BelSlis >=1) {
    yai--;
    BelSlis--;
    ol = document.createElement('ol');
    ol.innerHTML = 'Произведён биоперемещатель';
    document.body.before(ol);
    Ischez++;
    exp+=10;

   } else {
    alert('У вас не хватает компонентов');
   };
};

function store() {
 let tovar = prompt('Выберете то, что хотите продать или напишите "Всё", если хотите продать всё:', 'Всё');
  if (tovar == 'Чёрная слизь' && CherSlis > 0) {
   CherSlis--;
   talon+=3;
   exp+=1;
  } else if (tovar == 'Красная слизь' && KrasSlis > 0) {
   KrasSlis--;
   talon+=5;
   exp+=2;
  } else if (tovar == 'Розовая слизь' && RoseSlis > 0) {
   RoseSlis--;
   talon+=10;
   exp+=5;
  } else if (tovar == 'Белая слизь' && BelSlis > 0) {
   BelSlis--;
   talon+=20;
   exp+=10;
  } else if (tovar == 'Улитка' && Ulitka > 0) {
   Ulitka--;
   talon+=1;
   exp+=0.5;
  } else if (tovar == 'Яйцо' && yai > 0) {
   yai--;
   talon+=10;
   exp+=5;
  } else if (tovar == 'Всё') {
   talon+=CherSlis*3+KrasSlis*5+RoseSlis*10+BelSlis*20+Ulitka+yai*10;
   exp+=(CherSlis*3+KrasSlis*5+RoseSlis*10+BelSlis*20+Ulitka+yai*10)/2;
   CherSlis = 0;
   KrasSlis = 0;
   RoseSlis = 0;
   BelSlis = 0;
   Ulitka = 0;
   yai = 0;
  } else if (tovar == 'Слизь') {
   alert('Укажите тип слизи. Например: "Чёрная слизь"')
  } else { 
   alert('Учёные не заинтересованы в вашем предложении.')
  };
};

function store2() {
 let tovar = prompt('Выберете то, что хотите продать или напишите "Всё", если хотите продать всё:', 'Всё');
  if (tovar == 'Чёрная слизь' && CherSlis > 0) {
   CherSlis--;
   talon+=2;
   exp++;
  } else if (tovar == 'Красная слизь' && KrasSlis > 0) {
   KrasSlis--;
   talon+=3;
   exp++;
  } else if (tovar == 'Розовая слизь' && RoseSlis > 0) {
   RoseSlis--;
   talon+=5;
   exp+=2;
  } else if (tovar == 'Белая слизь' && BelSlis > 0) {
   BelSlis--;
   talon+=10;
   exp+=5;
  } else if (tovar == 'Улитка' && Ulitka > 0) {
   Ulitka--;
   talon+=1;
   exp+=0.5;
  } else if (tovar == 'Яйцо' && yai > 0) {
   yai--;
   talon+=10;
   exp+=5;
  } else if (tovar == 'Пищконцентрат' && pish > 0) {
   pish--;
   talon++;
   exp+=0.5;
  } else if (tovar == 'Антидот' && Antidot > 0) {
   Antidot--;
   talon++;
   exp+=0.5;
  } else if (tovar == 'Говняк' && Govnyak > 0) {
   Govnyak--;
   talon+=3;
   exp+=1.5;
  } else if (tovar == 'Самогон' && Samogon > 0) {
   Samogon--;
   talon+=3;
   exp+=1.5;
  } else if (tovar == 'Взрывчатка' && Bomb > 0) {
   Bomb--;
   talon+=20;
   exp+=10;
  } else if (tovar == 'Мышечная масса' && Boost > 0) {
   Boost--;
   talon+=15;
   exp+=7.5;
  } else if (tovar == 'Паутинное бешенство' && Ischez > 0) {
   Ischez--;
   talon+=40;
   exp+=20;
  } else if (tovar == 'Всё') {
   talon+=CherSlis*3+KrasSlis*5+RoseSlis*10+BelSlis*20+Ulitka+yai*10+Samogon*3+Govnyak*3+Bomb*20+Boost*15+Ischez*40;
   exp+=(CherSlis*3+KrasSlis*5+RoseSlis*10+BelSlis*20+Ulitka+yai*10+Samogon*3+Govnyak*3+Bomb*20+Boost*15+Ischez*40)/2;
   CherSlis = 0;
   KrasSlis = 0;
   RoseSlis = 0;
   BelSlis = 0;
   Ulitka = 0;
   yai = 0;
   Samogon = 0;
   Govnyak = 0;
   Bomb = 0;
   Boost = 0;
   Ischez = 0;

  } else if (tovar == 'Слизь') {
   alert('Укажите тип слизи. Например: "Чёрная слизь"')
  } else { 
   alert('Торговец смотрит на вас безучастным взглядом, ожидая, что вы сможете сделать подобающее предложение')
  };
};

function son() {
 let sni = prompt(`Укажите количество часов сна`, '12');

 if (sni >= 1 && sni <= 12 && xp > 0) {
 
  ol = document.createElement('ol');
  ol.innerHTML ='Вы проснулись и чувствуете, что хорошо отдохнули.';
  document.body.before(ol);

   if (govn > 0) {
    govnTime++;
   } else {
   };
   if (govnTime > 10) {
    A-=govn;
    E-=govn;
    M-=govn;
    S-=govn;
    U-=govn;
    govn = 0;
    govnTime = 0;
    govnZav++;
   } else {
   };
   if (govnZav == 3) {
    Zavis = '<img src="s5.jpg" alt=""><strong>  Зависимость.</strong> Похоже, вы конкретно подсели на говняк! Пока вы не покурите, ваши способности будут снижены.';
    document.getElementById("Zavis").innerHTML = Zavis;;
    E-=2;
    A-=2;
    M-=2;
    S-=2;
    U-=2;
    vesMax = 5+5*E-Perk1*2;
    govnZav++
   } else {
   };

  if (podaction == 10.21) {   
   if (days < samosbor) {
    let ol = document.createElement('ol');
    ol.innerHTML = 'Первым делом после пробуждения вы поднимаете свой взгляд на вшитый в герму датчик самосбора, но, увы, индикатор не опустился даже даже до жёлтой отметки.';
    document.body.before(ol);
    ver = getRndInteger(1, 10);
    if (ver == 1) {
     let ol = document.createElement('ol');
     ol.innerHTML = 'Из-за гермы доносятся невыносимые завывания';
     document.body.before(ol);
    } else if (ver == 2) {
     let ol = document.createElement('ol');
     ol.innerHTML = 'По гермодвери неистово стучат. Кто-то умоляет вас впустить внутрь';
     document.body.before(ol);
    } else if (ver == 3 && pish > 0 && S3 == 0 || ver == 4 && pish > 0 && S3 == 0) {
     ver = getRndInteger(1, 10);
     if (ver > S*0.9) {
      let ol = document.createElement('ol');
      ol.innerHTML = 'Пока вы спали, из санузла выползли трубопроводные черви и погрызли ваши припасы.';
      document.body.before(ol);
      pish--;
     } else {
     };
    } else if (ver == 5 && E3 == 0 || ver == 6 && E3 == 0) {
     ver = getRndInteger(1, 10);
     if (ver > S*0.8) {
      let ol = document.createElement('ol');
      ol.innerHTML = 'Какие-то жуки покусали вас, пока вы спали';
      document.body.before(ol);
      xp--;
     }else{
     };
     if (xp <= 0) {
      Tit = 'Смерть от истощения';
      Kur = 'Блок скоро забетонируют, и ваш труп навсегда останется заперт в бесконечном бетонном кубе';
      Variant1 = '';
      Variant2 = '';
      Variant3 = '';
      Variant4 = '';
      Variant5 = '';
      action = -1;
     } else {
     };
    } else {
    };
    
   } else {
    let ol = document.createElement('ol');
    ol.innerHTML = 'Индикатор погас. Самосбор окончен.';
    document.body.before(ol);
    action = 0;
    podaction = 0;
   };
  } else {
  };
  vesMax = 5+5*E-Perk1*2;
  zapas=zapasMax;
  ust = '';
  days += 0.042*sni;
  day = Math.trunc(days);
  if (sitost > -1000 && Perk6 == 0) {
   sitost -= 62.5*sni+Perk2*0.4*62.5*sni;
  } else {
  };
  if (contact == true) {
   zarazh += 0.625*sni;
  } else {
  };
  if (sitost <= 0) {
   gol = '<img src="s2.jpg" alt=""><strong>  Голод.</strong> Вы голодны, и это негативно влияет на ваше здоровье';
   document.getElementById("gol").innerHTML = gol;;
   xpMax -= Math.trunc((25+X)*(0.2-(E-1)*0.01));
   if (xp>xpMax) {
    xp=xpMax;
   }else{
   };
  } else {
  };
  if (xpMax <= 0) {
   Tit = 'Голодная смерть';
   Kur = 'Истощавший труп, который вы оставили после себя, не заинтересовал даже насекомых';
   Variant1 = '';
   Variant2 = '';
   Variant3 = '';
   Variant4 = '';
   Variant5 = '';
   action = -1;
  } else {
  };
 } else if (xp <= 0) {
  alert('Зачем мертвецам сон?')
 } else {
  alert('Значение некорректно. Вы можете спать от 1 до 12 часов.')
 };
update();
};

function code(kodemin, kodemax, key) {
if (zarazh < 2) {
 let otvet = prompt(`Здесь установлен кодовый замок. Для открытия необходимо подобрать код от ${kodemin} до ${kodemax}`, '');
 if (otvet > key) {
  alert('<');
 } else if (otvet < key) {
  alert('>');
 } else if (otvet == key || otvet == 'Чёрная слизь' && CherSlis > 0  && M3 == 1 || M10 == 1) {
  if (otvet == 'Чёрная слизь') {
   CherSlis--;
  } else {
   exp+=10;
  };

  ver = getRndInteger(1, 8-Perk1);
  if (ver == 1 || ver == 4) {
   let present = getRndInteger(2, 4);
   alert(`На антресоли найдено ${present} пищконцентрата!`);
   pish+=present;
  } else if (ver == 2 || ver == 5) {
   let present = getRndInteger(2, 3);
   alert(`На антресоли найдено ${present} талона!`);
   talon+=present;
  } else if (ver == 3 || ver == 6) {
   let present = getRndInteger(1, 2);
    if (present == 1) {
     alert(`На антресоли кто-то оставил бутылку этанола!`);
     Samogon++;
    } else {
     alert(`В ячейке найден антидот!`);
     Antidot++;
    };
  } else {
   alert('Антресоль пуста.')
  };

   
  vzlom = false;
 }else{
 };
} else { 
alert('Вы попытались поковырять в замке, но поняли, что своим щупальцем у вас получится поковырять только в анальном проходе.')
};
};


function code2(kodemin, kodemax, key, version) {
if (zarazh < 2) {
 let otvet = prompt(`Здесь установлен кодовый замок. Для открытия необходимо подобрать код от ${kodemin} до ${kodemax}`, '');
 if (otvet > key) {
  alert('<');
 } else if (otvet < key) {
  alert('>');
 } else if (otvet == key || otvet == 'Чёрная слизь' && CherSlis > 0 && M3 == 1 || M10 == 1) {
  if (otvet == 'Чёрная слизь') {
   CherSlis--;
  } else {
   if (version == 1 || version == 2) {
    exp+=20;
   } else {
    exp+=10*version;
   };
  };
  if (version == 1) {
   ver = getRndInteger(1, 15-Perk1);
   if (ver == 1 || ver == 9) {
    let present = getRndInteger(2, 4);
    alert(`В шкафчике найдено ${present} пищконцентрата!`);
    pish+=present;
   } else if (ver == 2 || ver == 10) {
    let present = getRndInteger(2, 3);
    alert(`В шкафчике найдено ${present} талона!`);
    talon+=present;
   } else if (ver == 3) {
    let present = getRndInteger(1, 2);
     if (present == 1) {
      alert(`В шкафчике найден один антидот!`);
      Antidot++;
     } else {
      alert(`В шкафчике найдено два антидота!`);
      Antidot+=2;
     };
   } else if (ver == 4) {
    change = confirm("Вы нашли ржавый огнемёт! Хотите взять его в качестве оружия?");
    if (change == true) { 
     gun = 'Ржавый огнемёт';
    } else {
    };
   } else if (ver == 5) {
    change = confirm("Кто-то оставил здесь грабли! Хотите взять их в качестве оружия?");
    if (change == true) { 
     gun = 'Грабли';
    } else {
    };
   } else if (ver == 6) {
    change = confirm("Кто-то оставил здесь противогаз! Хотите надеть его? (Здоровье +2)");
    if (change == true) {
     NoOdezh();
     odezhda = 'Противогаз';
     ChangeOdezh();
    } else {
    };
   } else if (ver == 7) {
    change = confirm("Здесь висит комбинезон младшего ликвидатора! Хотите надеть его? (Здоровье +1, Атака +1)");
    if (change == true) {
     NoOdezh();
     odezhda = 'Комбинезон младшего ликвидатора';
     ChangeOdezh();
    } else {
    };
   } else if (ver == 8) {
    change = confirm("Здесь висит форма уборщика! Хотите надеть её? (Скрытность +2)");
    if (change == true) {
     NoOdezh();
     odezhda = 'Форма уборщика';
     ChangeOdezh();
    } else {
    };
   } else {
    alert('Шкафчик оказался пустым');
   };
  } else if (version == 2) {
   ver = getRndInteger(1, 15-Perk1);
   if (ver == 1 || ver == 2) {
    alert('В лабораторном шкафу стоит колба чёрной слизи!');
    CherSlis++;
   } else if (ver == 3 || ver == 4) {
    alert('В лабораторном шкафу стоит колба красной слизи!');
    KrasSlis++;
   } else if (ver == 5) {
    ver = getRndInteger(1, 3);
      alert(`В лабораторном шкафу найден комплект антидотов! (${ver})`);
      Antidot+=ver;
   } else if (ver == 6) {
    change = confirm("Здесь висит медицинский халат. Хотите надеть его? [Убедительность +2]");
    if (change == true) { 
     NoOdezh();
     odezhda = 'Медицинский халат';
     ChangeOdezh();
    } else {
    };
   } else if (ver == 7) {
    alert('В лабораторном шкафу стоит колба розовой слизи!');
    RoseSlis++;
   } else if (ver == 8) {
    alert('В лабораторном шкафу стоит колба белой слизи!');
    BelSlis++;
   } else if (ver == 9) {
    change = confirm("Здесь висит комбинезон лаборанта. Хотите надеть его? (Выносливость +2)");
    if (change == true) { 
     NoOdezh();
     odezhda = 'Комбинезон лаборанта';
     ChangeOdezh();
    } else {
    };
   } else if (ver == 10 || ver == 11) {
    ver = getRndInteger(1, 8);
    if (ver == 1 || ver == 6) {
     alert('В лабораторном шкафу лежит рецепт антидота на слизи: чёрная слизь+красная слизь');
    } else if (ver == 2 || ver == 7) {
     alert('В лабораторном шкафу лежит рецепт вытяжки красной слизи: красная слизь+красная слизь');
    } else if (ver == 3 || ver == 8) {
     alert('В лабораторном шкафу лежит рецепт взрывчатого вещества: чёрная слизь+яйцо арахны');
    } else if (ver == 4) {
     alert('В лабораторном шкафу лежит рецепт мышечной массы: розовая слизь');
    } else if (ver == 5) {
     alert('В лабораторном шкафу лежит рецепт биоперемещателя: белая слизь+яйцо арахны');
    } else {
    };

   } else {
    alert('Шкафчик оказался пустым');
   };


  } else if (version == 3) {
   ver = getRndInteger(1, 10-Perk1);
   if (ver == 1) {
    ver = getRndInteger(10, 50);
    alert(`Вы нашли пачку талонов! (${ver})`);
    talon+=ver;
   } else if (ver == 2) {
    alert('В сейфе вы нашли биоперемещатель!');
    Ischez++;
   } else if (ver == 3) {
    change = confirm("В сейфе вы нашли форму члена партии. Хотите надеть её? (Убедительность +4)");
    if (change == true) { 
     NoOdezh();
     odezhda = 'Форма члена партии';
     ChangeOdezh();
    } else {
    };
   } else if (ver == 4) {
    change = confirm("В сейфе вы нашли огнемёт. Хотите взять его в качеcтве оружия?");
    if (change == true) {
     gun = 'Огнемёт';
    } else {
    };
   } else if (ver == 5) {
    ver = getRndInteger(10, 50);
    alert(`Вы нашли пачку талонов! (${ver})`);
    talon+=ver;
   } else {
    alert('Сейф пуст');
   };

  } else if (version == 5) {
   podaction = 23.6;
   ol = document.createElement('ol');
   ol.innerHTML ='Вам удалось подобрать нужную точку опоры, и герма начала потихоньку открываться...';
   document.body.before(ol);
   podaction = 23.6;
   Variant1 = '1. Зайти внутрь';
   Variant2 = '';
   Variant3 = '';

  } else {
  };
  vzlom = false;
 } else {
 };
} else { 
alert('Вы попытались поковырять в замке, но поняли, что своим щупальцем у вас получится поковырять только в анальном проходе.')
};
};


function invent() {
 if (III == false) {
  III = true;
  II = `${I1} ${I1z} | ${I2} ${I2z} | ${I3} ${I3z} | ${I4} ${I4z} | ${I5} ${I5z} | ${I6} ${I6z} | ${I7} ${I7z} | ${I8} ${I8z} | ${I9} ${I9z} | ${I10} ${I10z} | ${I11} ${I11z} | ${I12} ${I12z} | ${I13} ${I13z}<hr>`;
 } else {
  II = '';
  III = false;
 };
 document.getElementById("II").innerHTML = II;;
};

function eda() {
 if (xp > 0) {
 if (pish > 0) {
  if (xp < xpMax || zapas < zapasMax-100 || sitost < sitostMax-300) {
   pish--;
   if (xp < xpMax-10) {
    xp=xp+10-Perk2;
   } else if (xp < xpMax) {
    xp=xpMax;
   } else {
   };
   if (zapas < zapasMax-100) {
   zapas=zapas+100;
    ust = '';
    document.getElementById("ust").innerHTML = ust;;
   }else{
   };
   if (sitost < sitostMax-30) {
   sitost=sitost+300;
    gol = '';
    xpMax = 25+5*X-Perk4*2;
    document.getElementById("gol").innerHTML = gol;;
   }else{
   };
  update();
  } else {
   alert('Не так уж вы и голодны, товарищ. Поберегите свои припасы.')
  };
  
 } else {
  alert('Пищконцентраты закончились.'); 
  };
 }else{
 };
};

function Antid() {
 if (xp > 0) {
  if (Perk6 == 0) {
   if (Antidot > 0) {
    if (M8 == 0) {
     Antidot--;
    } else {
     ver = getRndInteger(1, 2);
     if (ver == 1) {
      Antidot--;
     } else {
     };
    };
    xp+=Math.trunc(xpMax*M*0.1);
    if (xp > xpMax) {
     xp=xpMax;
    } else {
    };
    if (zarazh < 2 && zarazh > 0) {
     contact = false;
     mutant = '';
     zarazh = 0;
     if (zarazhBad = true) {
      xpMax += 10;
      vesMax += 5;
      zarazhBad = false;
     } else {
     };
    } else {
    };
   } else {
   };
   update();
  } else {
   alert('Вы же не доверяете всей этой медицине!')
  };
 }else{
 };
};

function update() {
 if (tentacle == false) {
  if (gun == 'Нож') {
   attack = getRndInteger(3, A+Perk2);
   VesGun = 3;
  } else if (gun == 'Нож из клыка бетоноеда') {
   VesGun = 2;
   attack = getRndInteger(S, A+Perk2);
  } else if (gun == 'Щупальце') {
   VesGun = 0;
   tentacle = true;
   attack = getRndInteger(11, A*2+Perk2);
  } else if (gun == 'Грабли') {
   VesGun = 7;
   attack = getRndInteger(A, A+Perk2);
  } else if (gun == 'Ржавый огнемёт') {
   VesGun = 10-M6*5;
   attack = getRndInteger(0, 10+Perk5)+M;
  } else if (gun == 'Огнемёт') {
   VesGun = 10-M6*5;
   attack = getRndInteger(5, 15+Perk5)+M;
  } else if (gun == 'Проржавевшие гравижернова') {
   VesGun = 15-M6*7;
   attack = getRndInteger(0, 35+Perk5*3)+M;
  } else if (gun == 'Гравижернова') {
   VesGun = 15-M6*7;
   attack = getRndInteger(10, 50+Perk5*5)+M;
  } else if (gun == 'Серп и молот') {
   VesGun = 10;
   attack = getRndInteger(A, A*X+Perk2);
  } else if (gun == 'Кулак') {
   VesGun = 0;
   attack = getRndInteger(1, A+Perk2);
  } else {
  };
 }else{
 gun = 'Щупальце';
 };

 if (pish > 0) {
  I1 = 'Пищконцентраты:';
  I1z = pish;
 } else {
  I1 = '';
  I1z = '';
 };
 if (Antidot > 0) {
  I2 = 'Антидоты:';
  I2z = Antidot;
 } else {
  I2 = '';
  I2z = '';
 };
 if (CherSlis > 0) {
  I3 = 'Чёрная слизь:';
  I3z = CherSlis;
 } else {
  I3 = '';
  I3z = '';
 };
 if (KrasSlis > 0) {
  I4 = 'Красная слизь:';
  I4z = KrasSlis;
 } else {
  I4 = '';
  I4z = '';
 };
 if (RoseSlis > 0) {
  I5 = 'Розовая слизь:';
  I5z = RoseSlis;
 } else {
  I5 = '';
  I5z = '';
 };
 if (BelSlis > 0) {
  I6 = 'Белая слизь:';
  I6z = BelSlis;
 } else {
  I6 = '';
  I6z = '';
 };
 if (Ulitka > 0) {
  I7 = 'Улитки:';
  I7z = Ulitka;
 } else {
  I7 = '';
  I7z = '';
 };
 if (yai > 0) {
  I8 = 'Яйца арахны:';
  I8z = yai;
 } else {
  I8 = '';
  I8z = '';
 };
 if (Samogon > 0) {
  I9 = 'Самогон:';
  I9z = Samogon;
 } else {
  I9 = '';
  I9z = '';
 };
 if (Govnyak > 0) {
  I10 = 'Говняк:';
  I10z = Govnyak;
 } else {
  I10 = '';
  I10z = '';
 };
 if (Bomb > 0) {
  I11 = 'Взрывчатка:';
  I11z = Bomb;
 } else {
  I11 = '';
  I11z = '';
 };
 if (Boost > 0) {
  I12 = 'Мышечная масса:';
  I12z = Boost;
 } else {
  I12 = '';
  I12z = '';
 };
 if (Ischez > 0) {
  I13 = 'Биоперемещатель:';
  I13z = Ischez;
 } else {
  I13 = '';
  I13z = '';
 };
   
 if (Krit > KritMax) {
    runOnKeys(
      () => Krita(),
      "KeyZ",
    )
 } else {
 };

 if (xp <= 0 && Tit == '') {
  action = -1;
  Tit = 'Самосбор поглотил вас';
  Kur = 'Ликвидаторы отскребали ваш труп с хохотом и улюлюканием';
  Variant1='';
  Variant2='';
  Variant3='';
  Variant4='';
  Variant5=''; 
 } else {
 };

 ves = pish+Antidot+CherSlis+KrasSlis+RoseSlis+BelSlis+Govnyak+Ulitka+yai*2+VesGun+Samogon+Bomb*2+Boost+Ischez*2;
  document.getElementById("Variant1").innerHTML = Variant1;;
  document.getElementById("Variant2").innerHTML = Variant2;;
  document.getElementById("Variant3").innerHTML = Variant3;;
  document.getElementById("Variant4").innerHTML = Variant4;;
  document.getElementById("Variant5").innerHTML = Variant5;;
  document.getElementById("ust").innerHTML = ust;;
  document.getElementById("mutant").innerHTML = mutant;;
  document.getElementById("Tit").innerHTML = Tit;;
  document.getElementById("Kur").innerHTML = Kur;;
  document.getElementById("KKK").innerHTML = KKK;;
  lol.innerHTML = `Пройдено метров: ${metr}&nbsp&nbsp|&nbsp&nbspСмена: ${day}&nbsp&nbsp|&nbsp&nbspЗдоровье: ${xp}/${xpMax}&nbsp&nbsp|&nbsp&nbspВес: ${ves}/${vesMax}&nbsp&nbsp|&nbsp&nbspТалоны: ${talon}&nbsp&nbsp|&nbsp&nbspОпыт: ${exp}/${lvl}&nbsp&nbsp|&nbsp&nbspОружие: ${gun}&nbsp&nbsp|&nbsp&nbspОдежда: ${odezhda}<hr>`;
  document.body.append(lol);

};

function Krita() {
 if (Krit > KritMax) {
  Krit = KritMax;
 } else {
 };
 if (protivnikxp > 0 && Krit == KritMax) {
  protivnikxp-=Krit;
   ol = document.createElement('ol');
   ol.innerHTML =`По противнику нанесён критический урон, он теряет ${Krit} здоровья!`;
   document.body.before(ol);
  Krit=0;
  KKK='';
 } else {
 };
};

function Use() {
 if (Samogon > 0) {
  Use1 = '1. Самогон';
 } else if (Samogon == 0) {
  Use1 = '';
 } else {
 };
 if (Govnyak > 0) {
  Use2 = '2. Говняк';
 } else if (Govnyak == 0) {
  Use2 = '';
 } else {
 };
 if (Bomb > 0) {
  Use3 = '3. Взрывчатка';
 } else if (Bomb == 0) {
  Use3 = '';
 } else {
 };
 if (Boost > 0) {
  Use4 = '4. Мышечная масса';
 } else if (Boost == 0) {
  Use4 = '';
 } else {
 };
 if (Ischez > 0) {
  Use5 = '5. Биоперемещатель';
 } else if (Ischez == 0) {
  Use5 = '';
 } else {
 };

 if (Samogon+Govnyak+Bomb+Boost+Ischez==0) {
  alert('Вам нечего использовать.');
 } else {
 };
 if (Samogon+Govnyak+Bomb+Boost+Ischez > 0) {
  ver = prompt(`Выберете то, что хотите использовать:\n${Use1}\n${Use2}\n${Use3}\n${Use4}\n${Use5}`, '');
 } else {
 };
 if (Samogon > 0 && ver == 1) {
  Samogon--;
  smgn++;
  A--;
  E--;
  M++;
  U+=1+U3;
  ol = document.createElement('ol');
  ol.innerHTML ='Вы ободрённо довольны глотком этанола!';
  document.body.before(ol);
 } else if (Govnyak > 0 && ver == 2) {
  if (protivnikxp <= 0) {
    Govnyak--;
    govn++;
    A++;
    E++;
    M++;
    S++;
    U++;
    ol = document.createElement('ol');
    ol.innerHTML ='Вы с удовольствием разложили все курительные принадлежности и употребили тягучую красную массу, расплавив её огнём и слепив несколько плоских точек.';
    document.body.before(ol);
   if (govnZav > 3) {
    A+=2;
    E+=2;
    M+=2;
    S+=2;
    U+=2;
    vesMax = 5+5*E-Perk1*2;
    govnZav = 2;
    Zavis = '';
    document.getElementById("Zavis").innerHTML = Zavis;;
   } else {
   };
  } else {
   alert('Вы не можете курить, когда рядом находятся враги.');
  };
 } else if (Bomb > 0 && ver == 3) {
  if (protivnikxp > 0) {
   ol = document.createElement('ol');
   ol.innerHTML ='Ваш противник получает 20 очков урона';
   document.body.before(ol);
   protivnikxp -=20;
   Bomb--;
  } else {
   alert('Вы можете использовать это только в бою.');
  };
 } else if (Kozha == 0 && Boost > 0 && ver == 4) {
  ol = document.createElement('ol');
  ol.innerHTML ='Вы вкалываете себе концентрированную мышечную массу. Ваши здоровье и сила удвоены.';
  document.body.before(ol);
  Kozha = 1;
  X*=2;
  A*=2;
  xpMax=25+5*X-Perk4*2;
  Boost--;
 } else if (Ischez > 0 && ver == 5) {
  Ischez--;
  ol = document.createElement('ol');
  ol.innerHTML ='Вы с силой бросили биоперемещатель себе под ноги и зажмурились: в глаза ударил яркий свет.<br><br>Через несколько секунд вы поняли, что находитесь в пустом коридоре.';
  document.body.before(ol);
  action = 0;
  podaction = 0;
  Variant1 = '1. Пойти дальше';
  Variant2 = '';
  Variant3 = '';
  Variant4 = '';
  Variant5 = '';
 } else {
 };
update();
};


function Naviki() {
 alert(`Здоровье: ${Xb}${Xd}\nВыносливость: ${Eb}${Ed}\nАтака: ${Ab}${Ad}\nМоторика: ${Mb}${Md}\nСкрытность: ${Sb}${Sd}\nУбедительность: ${Ub}${Ud}\n${Spos}\nСпособности: ${SPO}`);
};

function ChangeOdezh() {
 if (odezhda == 'Комбинезон лаборанта') {
  slisesbornik = true;
  E+=2;
  Ed = '+2';
 } else if (odezhda == 'Комбинезон младшего ликвидатора') {
  slisesbornik = true;
  X+=1;
  А+=1;
  Xd = '+1';
  Ad = '+1';
 } else if (odezhda == 'Противогаз') {
  slisesbornik = false;
  X+=2;
  Xd = '+2';
 } else if (odezhda == 'Форма уборщика') {
  slisesbornik = false;
  S+=2;
  Sd = '+2';
 } else if (odezhda == 'Медицинский халат') {
  slisesbornik = false;
  U+=2;
  Ud = '+2';

 } else if (odezhda == 'Капюшон искателя') {
  slisesbornik = false;
  S+=4;
  Sd = '+4';
 } else if (odezhda == 'Куртка из чешуи бетоноеда') {
  slisesbornik = false;
  X+=4;
  Xd = '+4';
  regen = true;
 } else if (odezhda == 'Форма члена партии') {
  slisesbornik = false;
  U+=4;
  Ud = '+4';
 } else if (odezhda == 'Комбинезон старшего ликвидатора') {
  slisesbornik = true;
  X+=2;
  E+=2;
  Xd = '+2';
  Ed = '+2';
 } else if (odezhda == 'Форма рабочего') {
  slisesbornik = false;
  E+=2;
  A+=2;
  Ed = '+2';
  Ad = '+2';
 } else if (odezhda == 'хз') {
  X+=1;
  E+=1;
  A+=1;
  S+=1;
  Xd = '+1';
  Ed = '+1';
  Ad = '+1';
  Sd = '+1';

 } else if (odezhda == 'БК-197 "Матрёшка"') {
  slisesbornik = true;
  X+=4;
  E+=4;
  S-=4;
  Xd = '+4';
  Ed = '+4';
  Sd = '-4';
 } else if (odezhda == 'БК-199 "Берсерк"') {
  slisesbornik = true;
  X+=4;
  A+=4;
  S-=4;
  Xd = '+4';
  Ad = '+4';
  Sd = '-4';
 } else if (odezhda == 'БК-200 "Муравей"') {
  slisesbornik = true;
  E+=8;
  S-=4;
  Ed = '+4';
  Sd = '-4';
 } else if (odezhda == 'Биоброня "Т.Е.Л.О."') {
  slisesbornik = false;
  X+=8;
  Xd = '+8';
 } else if (odezhda == 'Комбинезон из прозрачной слизи') {
  slisesbornik = false;
  S+=8;
  Sd = '+8';
 } else if (odezhda == 'Маскировка борщевода') {
  slisesbornik = false;
  A+=8;
  Ad = '+8';
 } else {
 };
 xpMax = 25+5*X-Perk4*2;
 xp=xpMax
 vesMax = 5+5*E-Perk1*2;
update();
};

function NoOdezh() {
 Xd = '';
 Ed = '';
 Ad = '';
 Md = '';
 Sd = '';
 Ud = '';
 if (odezhda == 'Комбинезон лаборанта') {
  slisesbornik = false;
  E-=2;
 } else if (odezhda == 'Комбинезон младшего ликвидатора') {
  slisesbornik = false;
  X-=1;
  А-=1;
 } else if (odezhda == 'Противогаз') {
  slisesbornik = true;
  X-=2;
 } else if (odezhda == 'Форма уборщика') {
  slisesbornik = true;
  S-=2;
 } else if (odezhda == 'Медицинский халат') {
  slisesbornik = true;
  U-=2;

 } else if (odezhda == 'Капюшон искателя') {
  slisesbornik = true;
  S-=4;
 } else if (odezhda == 'Куртка из чешуи бетоноеда') {
  slisesbornik = false;
  X-=4;
  regen = false;
 } else if (odezhda == 'Форма члена партии') {
  slisesbornik = true;
  U-=4;
 } else if (odezhda == 'Комбинезон старшего ликвидатора') {
  slisesbornik = false;
  X-=2;
  E-=2;
 } else if (odezhda == 'Форма рабочего') {
  slisesbornik = true;
  E-=2;
  A-=2;
 } else if (odezhda == 'хз') {
  X-=1;
  E-=1;
  A-=1;
  S-=1;

 } else if (odezhda == 'БК-197 "Матрёшка"') {
  slisesbornik = false;
  X-=4;
  E-=4;
  S+=4;
 } else if (odezhda == 'БК-199 "Берсерк"') {
  slisesbornik = false;
  X-=4;
  S+=4;
 } else if (odezhda == 'БК-200 "Муравей"') {
  slisesbornik = false;
  E-=8;
  S+=4;
 } else if (odezhda == 'Биоброня "Т.Е.Л.О."') {
  slisesbornik = true;
  X+=8;
 } else if (odezhda == 'Комбинезон из прозрачной слизи') {
  slisesbornik = true;
  S-=8;
 } else if (odezhda == 'Маскировка борщевода') {
  slisesbornik = true;
  A-=8;
 } else {
 };
 xpMax = 25+5*X-Perk4*2;
 vesMax = 5+5*E-Perk1*2;
 odezhda = '';
update();
};

function GiveTalon() {
 talon+=1000;
update();
};

function reading() {
  ver = getRndInteger(1, 5);
  if (ver == 1 && zamyetki_antidot == false) {
   books++;
   zamyetki_antidot = true;
   let ol = document.createElement('ol');
   ol.innerHTML = 'Присев на корточки около шатающейся полки, вы нашли книгу "Заметки об антидоте на слизи".<br><br>***<br><br><strong>Заметки об антидоте на слизи.</strong><br><br>Подготовил младший сотрудник отделения НИИ "СЛИЗи" ГП-416 А. Зимбельтруд.<br><br>Большинство исследователей слизи небезосновательно считают чёрную слизь наиболее опасной для человеческой жизни.<br><br>Однако стоит отметить, что при соединении компонентов слизи разных видов эффект может быть иным до противоположного.<br><br>Автор этого труда при помощи своих ассистентов установил эмпирическим путём, что соединение чёрной и красной слизи даёт эффект, аналогичный тому антидоту, который используется для восстановления здоровья.<br><br>Таким образом, так называемый антидот на слизи может стать эффективной заменой обычному антидоту при нехватке компонентов, а в будущем, при более тщательном тестировании, антидот на слизи может встать на массовое производство.<br><br>***';
   document.body.before(ol);
  } else if (ver == 2 && faunaGH == false) {
   books++;
   faunaGH = true;
   let ol = document.createElement('ol');
   ol.innerHTML = 'Присев на корточки около шатающейся полки, вы нашли книгу "Легенда о биоперемещателе"<br><br>***<br><br>Нас осталось двое. Впереди – полчища диких тварей. Позади — медленно наползающий фиолетовый туман. Даже если бы смогли раскидать нечисть, от самосбора бы не спаслись. На голову давили монотонные звуки сирены. Я приготовился с смерти, варианты которой прокручивал в голове сотни раз. Подумал о своей ЕОТ... Как вдруг мой напарник схватил меня за руку и вытащил из-за пазухи комбинезона округлый предмет. "Хватайся, хватайся быстрее!" – кричал он мне. Я схватился, и тут же был ослеплён яркой вспышкой света. Гул и сирена стихли. Мы валялись в коридоре, но никаким самосбором и не пахло.<br><br>Мы с моим напарником быстро освоились на новом месте. Нашли ликвидаторский корпус и продолжили служить, вопросов у начальства не возникало. Но вот у меня возникало. Я долго допытывался у своего друга о том, что он сделал в ту ночь, как нам вернуться назад, но он постоянно отшучивался. Говорил, везде всё одинаково. Как же!<br><br>Мне самому стало интересно, и я проводил почти всё свободное время в местной библиотеке НИИ Хрущеведения. В разделе о культистах я обнаружил интересный обряд, который они использовали при коллективной угрозе. Тонкой иголкой они медленно и осторожно заполняли яйцо арахны белой слизью и разбивали его. По рассказам одного из исследователей, которому пришлось стать одноглазым мутантом, чтобы погрузиться в жизнь культа, эта химическая реакция приводила к телепортации в случайную точку. Исследователи называли между собой этот предмет "биоперемещатель". Тогда я понял, что нужно действовать и возвращаться домой.<br><br>Я купил яйцо арахны на чёрном рынке, украл у знакомого лаборанта белую слизь и шприц из лаборатории, медленно ввёл слизь в продолговатое яйцо... Написал записку своему другу и бросил яйцо в пол!<br><br>Знакомая вспышка. Я дома! Я дома! В своей родной жилъячейке, я рванул герму, но больно ударился об бетон. Я отшатнулся, даже не почувствовав боль от удара. И тут я понял – наш старый блок полностью забетонировали.<br><br>***';
   document.body.before(ol);
  } else if (ver == 3 && Dopros == false) {
   books++;
   Dopros = true;
   let ol = document.createElement('ol');
   ol.innerHTML = 'Присев на корточки около шатающейся полки, вы нашли материалы допроса блока ГБ-112ОС" Похоже, один из бывших жильцов был ликвидатором высокого ранга.<br><br>***<br><br><strong>СТРОГО СЕКРЕТНО</strong><br><br>Материалы допроса блока ГБ-112ОС (Община Искателей)<br><br>Ликвидатор: Ну и зачем? Зачем вам всё это было нужно? Все твои друзья уже раскололись. Вы сдали друг друга<br><br>Искатель: Да, я предполагал, что так будет. С самого начала предполагал. А всё же знаешь... Ничего не было сладостнее тех минут, когда мы вместе искали выход<br><br>Искатель получает удар в челюсть<br><br>Ликвидатор: Нет никакого выхода, дурья твоя бошка!<br><br>Искатель: А пожалуй, что и правда нет. На самом деле, лично я никогда не утверждал, что он обязательно есть. Скорее всего, его и правда нет, у нас слишком мало оснований утверждать обратное.<br><br>Ликвидатор: Но зачем тогда всё это было? Вань, ты же стольких людей угробил... Во имя чего?<br><br>Искатель: Всё лучше, чем во имя недосигаемой Партии. Я бы, на вашем месте, усомнился в её существовании. Высших чинов мы же тоже ни разу не видели...<br><br>страница вырвана<br><br>ешь, что самое интересное? Не поиск выхода. А то, что эта идея в принципе появилась. Что даже здесь, даже в этом пропащем мире есть место надежде. Мне плевать, есть Выход на самом деле или нет. Мне важно, что сама идея Выхода появилась в наших головах. Хотя это то, чего мы никогда не видели. И даже там, где гибнут сотнями, там, где после каждого третьего самосбора люди умирают от голода, даже здесь есть наждежда на лучшее.<br><br>Подсудимый был расстрелян по обвинению в сектанстве.<br><br>Со стенограммой допроса ознакомлен: П.А. Влюк.<br><br>***';
   document.body.before(ol);
  } else if (ver == 4 && CherZam == false) {
   CherZam = true;
   books++;
   let ol = document.createElement('ol');
   ol.innerHTML = 'Присев на корточки около шатающейся полки, вы нашли книгу "Чёрная слизь в руках мародёров (доклад)".<br><br>***<br><br><strong>Чёрная слизь в руках мародёров (доклад)</strong><br><br>Подготовил младший сотрудник отделения НИИ "СЛИЗи" ПГЩ-237 К.О. Рнейчуков.<br><br>Чёрная слизь – опасное вещество, которое может растворить органику в долю секунды. Однако наши коллеги из НИИ Хрущеведения установили, что разные деструктивные элементы охотно собирают слизь, а на чёрном рынке её стоимость не уступает пищевым концентратам.<br><br>Наблюдение коллег натолкнуло меня на мысль о том, что у чёрной слизи может быть какое-то свойство, которым пользуются эти проходимцы, иначе ценность чёрной слизи была бы сомнительна. Для этого я попросил начальство достать для меня материалы допросов людей, пойманных на купле или продаже чёрной слизи.<br><br>И вот оно, интересное наблюдение, которое помогло нам выдвинуть гипотезу: большинство закупщиков были извесны как взломщики, специализирующиеся на кодовых замках. По всей видимости, использование чёрной слизи каким-то образом облегчает взлом, однако наша гипотеза нуждается в дополнительной проверке. Для проведения эксперимента я прошу вас прислать к нам в лабораторию замки разных устройств и сплавов. Применение к ним чёрной слизи поможет установить, какие замки являются более устойчивыми к чёрной слизи, что имеет как научную, так и практическую ценность.<br><br>Если будет такая возможность, прошу вас прислать большое количество замков, чтобы наша гипотеза была подтвержена на более высоком уровне значимости. Согласно требованиям партии, уточнённый эр квадрат должен составлять порядка 0,7.<br><br>***';
   document.body.before(ol);
  } else {
   let ol = document.createElement('ol');
   ol.innerHTML = 'Все книги на полке либо сгнили, либо не представляют особого интереса.';
   document.body.before(ol);
  };
 read = true;
};

function Show(message) {
 let ol = document.createElement('ol');
 ol.className = "alert";
 ol.innerHTML = `${message}`;
 document.body.before(ol);
}

function Samosbor() {
 ver = getRndInteger(0, 20)
 if (ver == 0 && ver == 1) {
 samosbor = 0;
 } else if (ver == 2) {
  samosbor = 0;
 } else if (ver == 3) {
  samosbor = 0;
 } else if (ver == 4) {
  samosbor = 0.01;
 } else if (ver == 5) {
  samosbor = 0.017;
 } else if (ver == 6) {
  samosbor = 0.031;
 } else if (ver == 7) {
  samosbor = 0.056;
 } else if (ver == 8) {
  samosbor = 0.1;
 } else if (ver == 9) {
  samosbor = 0.177;
 } else if (ver == 10) {
  samosbor = 0.316;
 } else if (ver == 11) {
  samosbor = 0.562;
 } else if (ver == 12) {
  samosbor = 1;
 } else if (ver == 13) {
  samosbor = 1.778;
 } else if (ver == 14) {
  samosbor = 3.162;
 } else if (ver == 15) {
  samosbor = 5.623;
 } else if (ver == 16) {
  samosbor = 10;
 } else if (ver == 17) {
  samosbor = 17.782;
 } else if (ver == 18) {
  samosbor = 31.622;
 } else if (ver == 19) {
  samosbor = 56.234;
 } else if (ver == 20) {
  samosbor = 100;
 } else {
 };
};

</script>

<script>
  function getRndInteger(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

function runOnKeys(func, ...codes) {
      let pressed = new Set();

      document.addEventListener('keydown', function(event) {
        pressed.add(event.code);

        for (let code of codes) { // все ли клавиши из набора нажаты?
          if (!pressed.has(code)) {
            return;
          }
        }

        // да, все

        // во время показа alert, если посетитель отпустит клавиши - не возникнет keyup
        // при этом JavaScript "пропустит" факт отпускания клавиш, а pressed[keyCode] останется true
        // чтобы избежать "залипания" клавиши -- обнуляем статус всех клавиш, пусть нажимает всё заново
        pressed.clear();

        func();
      });

      document.addEventListener('keyup', function(event) {
        pressed.delete(event.code);
      });

    }



</script>
